/*! Cheetah Grid v0.22.6 | license MIT */
!function(){"use strict";function e(t,n,r,i){return(e="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,r){var i,l=o(e,t);if(l){if((i=Object.getOwnPropertyDescriptor(l,t)).set)return i.set.call(r,n),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(r,t)){if(!i.writable)return!1;i.value=n,Object.defineProperty(r,t,i)}else!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(r,t,n);return!0})(t,n,r,i)}function t(t,n,o,r,i){if(!e(t,n,o,r||t)&&i)throw new Error("failed to set property");return o}function n(e,t,r){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=o(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,r||e)}function o(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(function(e){var o,i;o=e,i=function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===g(e)&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=75)}([function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0});var r,i,l=void 0===e||void 0===e.window;n.isNode=l;var a={get find(){return r||(r=Array.prototype.find?function(e,t){return Array.prototype.find.call(e,t)}:function(e,t){var n=a.findIndex(e,t);return n>=0?e[n]:void 0})},get findIndex(){return i||(i=Array.prototype.findIndex?function(e,t){return Array.prototype.findIndex.call(e,t)}:function(e,t){for(var n=e.length,o=0;o<n;o++)if(t(e[o],o,e))return o;return-1})}};function u(e){return null!=e}n.array=a,n.isDef=u;var c=function(){if(l)return{IE:!1,Edge:!1,Chrome:!1,Firefox:!1,Safari:!1};var t=e.navigator.userAgent.toLowerCase();return{IE:!!/(msie|trident)/.exec(t),Edge:t.indexOf("edge")>-1,Chrome:t.indexOf("chrome")>-1&&-1===t.indexOf("edge"),Firefox:t.indexOf("firefox")>-1,Safari:t.indexOf("safari")>-1&&-1===t.indexOf("edge")}}(),s=c.IE,f=c.Chrome,h=c.Firefox,d=c.Edge,v=c.Safari;function g(e,t){for(var n=e,o=0;o<(arguments.length<=2?0:arguments.length-2)&&u(n);o++)n=t(n,o+2<2||arguments.length<=o+2?void 0:arguments[o+2]);return n}function p(e){return Boolean(e&&"function"==typeof e.then)}n.each=function(e,t){for(var n in e)t(e[n],n,e)},n.extend=function(){for(var e={},t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach((function(t){var n=function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},configurable:!0,enumerable:!0})};for(var o in t)n(o)})),e},n.isDescendantElement=function(e,t){for(;t.parentElement;){var n=t.parentElement;if(e===n)return!0;t=n}return!1},n.applyChainSafe=g,n.getChainSafe=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return g.apply(void 0,[e,function(e,t){return e[t]}].concat(n))},n.getOrApply=function(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return e.apply(void 0,n)}return e},n.isPromise=p,n.then=function(e,t){return p(e)?e.then((function(e){return t(e)})):t(e)},n.getIgnoreCase=function(e,t){if(e[t])return e[t];var n=t.toLowerCase();if(e[n])return e[n];var o=t.toLowerCase();if(e[o])return e[o];for(var r in e)if(r.toLowerCase()===n)return e[r]},n.cellEquals=function(e,t){return e.col===t.col&&e.row===t.row},n.cellInRange=function(e,t,n){return e.start.col<=t&&t<=e.end.col&&e.start.row<=n&&n<=e.end.row},n.browser={IE:s,Edge:d,Chrome:f,Firefox:h,Safari:v,heightLimit:f?33554431:h?17895588:10737433},n.obj={setReadonly:function(e,t,n){Object.defineProperty(e,t,{enumerable:!1,configurable:!0,value:n})},isObject:function(e){return e===Object(e)}},n.str={endsWith:function(e,t,n){var o=e.toString();("number"!=typeof n||!isFinite(n)||Math.floor(n)!==n||n>o.length)&&(n=o.length),n-=t.length;var r=o.lastIndexOf(t,n);return-1!==r&&r===n},genChars:function(e){var t=/([\uD800-\uDBFF][\uDC00-\uDFFF]|\r\n|[^\uD800-\uDFFF])([\u180B-\u180D]|[\uFE00-\uFE0F]|\uDB40[\uDD00-\uDDEF])?/g;return{next:function(){var n=t.exec(e);return null!==n?n[0]:null}}},genWords:function(e){var t=/[!-~]+|[^!-~\s]+|\s+/g;return{next:function(){var n=t.exec(e);return null!==n?n[0]:null}}}},n.event={getMouseButtons:function(e){return u(e.buttons)?e.buttons:u(e.which)?3===e.which||2===e.which?4:e.which:0===e.button||1===e.button?1:2===e.button?2:0},getKeyCode:function(e){return e.keyCode||e.which},isTouchEvent:function(e){return!!e.changedTouches},cancel:function(e){e.preventDefault(),e.stopPropagation()}},n.style={toBoxArray:function(e){return Array.isArray(e)?3===e.length?[e[0],e[1],e[2],e[1]]:2===e.length?[e[0],e[1],e[0],e[1]]:1===e.length?[e[0],e[0],e[0],e[0]]:e:[e,e,e,e]}},n.emptyFn=Function.prototype},function(t,n,o){(function(t){Object.defineProperty(n,"__esModule",{value:!0});var r=o(0).isNode?t.Symbol:e.Symbol?e.Symbol:function(){function e(){for(var e="abcdefghijklmnopqrstuvwxyz0123456789",t=e.length,n="",o=0;o<10;o++)n+=e[Math.floor(Math.random()*t)];return n}return function(t){return t?"#".concat(t,"_").concat(e()):"#_".concat(e())}}(),i={};function l(e){return e?i[e]?i[e]:i[e]=r(e):r()}n.get=l,n.getProtectedSymbol=function(){return l("protected")},n.getCheckColumnStateId=function(){return l("chkcol.stateID")},n.getRadioColumnStateId=function(){return l("rdcol.stateID")},n.getButtonColumnStateId=function(){return l("btncol.stateID")},n.getColumnFadeinStateId=function(){return l("col.fadein_stateID")},n.getBranchGraphColumnStateId=function(){return l("branch_graph_col.stateID")},n.getSmallDialogInputEditorStateId=function(){return l("small_dialog_input_editor.stateID")},n.getInlineInputEditorStateId=function(){return l("inline_input_editor.stateID")},n.getInlineMenuEditorStateId=function(){return l("inline_menu_editor.stateID")},n.getCheckHeaderStateId=function(){return l("check_header.stateID")}}).call(this,o(78))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=1,i=function(){function e(){h(this,e),this._listeners={}}return v(e,[{key:"on",value:function(e,t,n){for(var o=arguments.length,i=new Array(o>3?o-3:0),l=3;l<o;l++)i[l-3]=arguments[l];e.addEventListener&&e.addEventListener.apply(e,[t,n].concat(i));var a={target:e,type:t,listener:n,options:i},u=r++;return this._listeners[u]=a,u}},{key:"once",value:function(e,t,n){for(var o=this,r=arguments.length,i=new Array(r>3?r-3:0),l=3;l<r;l++)i[l-3]=arguments[l];var a=this.on.apply(this,[e,t,function(){o.off(a),n.apply(void 0,arguments)}].concat(i));return a}},{key:"tryWithOffEvents",value:function(e,t,n){var r=[];try{o.each(this._listeners,(function(n){var o;n.target===e&&n.type===t&&(n.target.removeEventListener&&(o=n.target).removeEventListener.apply(o,[n.type,n.listener].concat(s(n.options))),r.push(n))})),n()}finally{r.forEach((function(e){var t;e.target.addEventListener&&(t=e.target).addEventListener.apply(t,[e.type,e.listener].concat(s(e.options)))}))}}},{key:"off",value:function(e){if(null!=e){var t,n=this._listeners[e];n&&(delete this._listeners[e],n.target.removeEventListener&&(t=n.target).removeEventListener.apply(t,[n.type,n.listener].concat(s(n.options))))}}},{key:"fire",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];o.each(this._listeners,(function(n){var o;n.target===e&&n.type===t&&(o=n.listener).call.apply(o,[n.target].concat(r))}))}},{key:"hasListener",value:function(e,t){var n=!1;return o.each(this._listeners,(function(o){o.target===e&&o.type===t&&(n=!0)})),n}},{key:"clear",value:function(){o.each(this._listeners,(function(e){var t;e.target.removeEventListener&&(t=e.target).removeEventListener.apply(t,[e.type,e.listener].concat(s(e.options)))})),this._listeners={}}},{key:"dispose",value:function(){this.clear(),this._listeners=null}}]),e}();t.EventHandler=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DG_EVENT_TYPE={CLICK_CELL:"click_cell",DBLCLICK_CELL:"dblclick_cell",DBLTAP_CELL:"dbltap_cell",MOUSEDOWN_CELL:"mousedown_cell",MOUSEUP_CELL:"mouseup_cell",SELECTED_CELL:"selected_cell",KEYDOWN:"keydown",MOUSEMOVE_CELL:"mousemove_cell",MOUSEENTER_CELL:"mouseenter_cell",MOUSELEAVE_CELL:"mouseleave_cell",MOUSEOVER_CELL:"mouseover_cell",MOUSEOUT_CELL:"mouseout_cell",CONTEXTMENU_CELL:"contextmenu_cell",INPUT_CELL:"input_cell",PASTE_CELL:"paste_cell",DELETE_CELL:"delete_cell",EDITABLEINPUT_CELL:"editableinput_cell",MODIFY_STATUS_EDITABLEINPUT_CELL:"modify_status_editableinput_cell",RESIZE_COLUMN:"resize_column",SCROLL:"scroll",FOCUS_GRID:"focus_grid",BLUR_GRID:"blur_grid"}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,o=e[1]||"",r=e[3];if(!r)return o;if(t&&"function"==typeof btoa){var i=(n=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),l=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[o].concat(l).concat([i]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<e.length;r++){var l=e[r];"number"==typeof l[0]&&o[l[0]]||(n&&!l[2]?l[2]=n:n&&(l[2]="("+l[2]+") and ("+n+")"),t.push(l))}},t}},function(t,n,o){var r,i,l={},a=(r=function(){return e&&document&&document.all&&!e.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),u=function(e,t){return t?t.querySelector(e):document.querySelector(e)},c=function(t){var n={};return function(t,o){if("function"==typeof t)return t();if(void 0===n[t]){var r=u.call(this,t,o);if(e.HTMLIFrameElement&&r instanceof e.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}n[t]=r}return n[t]}}(),s=null,f=0,h=[],d=o(84);function v(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=l[o.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](o.parts[i]);for(;i<o.parts.length;i++)r.parts.push(w(o.parts[i],t))}else{var a=[];for(i=0;i<o.parts.length;i++)a.push(w(o.parts[i],t));l[o.id]={id:o.id,refs:1,parts:a}}}}function p(e,t){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],l=t.base?i[0]+t.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};o[l]?o[l].parts.push(a):n.push(o[l]={id:l,parts:[a]})}return n}function y(e,t){var n=c(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=h[h.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),h.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!==g(e.insertAt)||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=c(e.insertAt.before,n);n.insertBefore(t,r)}}function _(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=h.indexOf(e);t>=0&&h.splice(t,1)}function m(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=o.nc;n&&(e.attrs.nonce=n)}return C(t,e.attrs),y(e,t),t}function C(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function w(e,t){var n,o,r,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var l=f++;n=s||(s=m(t)),o=E.bind(null,n,l,!1),r=E.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",C(t,e.attrs),y(e,t),t}(t),o=R.bind(null,n,t),r=function(){_(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),o=x.bind(null,n),r=function(){_(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}t.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!==("undefined"==typeof document?"undefined":g(document)))throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"===g(t.attrs)?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return v(n,t),function(e){for(var o=[],r=0;r<n.length;r++){var i=n[r];(a=l[i.id]).refs--,o.push(a)}for(e&&v(p(e,t),t),r=0;r<o.length;r++){var a;if(0===(a=o[r]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete l[a.id]}}}};var b,k=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function E(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=k(t,r);else{var i=document.createTextNode(r),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(i,l[t]):e.appendChild(i)}}function x(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function R(e,t,n){var o=n.css,r=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||i)&&(o=d(o)),r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var l=new Blob([o],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(l),a&&URL.revokeObjectURL(a)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i=function(e){r(n,e);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(e=t.call(this,o))._color=o.color,e._font=o.font,e._padding=o.padding,e._textOverflow=o.textOverflow||"clip",e}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"color",get:function(){return this._color},set:function(e){this._color=e,this.doChangeStyle()}},{key:"font",get:function(){return this._font},set:function(e){this._font=e,this.doChangeStyle()}},{key:"padding",get:function(){return this._padding},set:function(e){this._padding=e,this.doChangeStyle()}},{key:"textOverflow",get:function(){return this._textOverflow},set:function(e){this._textOverflow=e,this.doChangeStyle()}}],[{key:"DEFAULT",get:function(){return o||(o=new n)}}]),n}(n(20).StdBaseStyle);t.Style=i},function(e,t,n){var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(26)),i=n(0),l=n(18),a=n(17),u=n(1),c=i.obj.setReadonly,s=u.getColumnFadeinStateId();function f(e){var t=e[s];return t||c(e,s,t={cells:{}}),t}function d(e,t,n,o,r,i){return function(l){var a=f(e),u="".concat(n,":").concat(t);1===l?delete a.cells[u]:a.cells[u]={opacity:l},i(),r();var c=a.cells[u];if(c){var s=o.getContext();s.globalAlpha=1-c.opacity;try{i()}finally{s.globalAlpha=1}}}}var g=function(e,t,n,o,r,i){var l=f(e),u=[d(e,t,n,o,r,i)];l.activeFadeins=u,a.animate(500,(function(e){u.forEach((function(t){return t(e)})),1===e&&delete l.activeFadeins}))},p=function(e,t,n,o,r,i){var l=f(e);l.activeFadeins?l.activeFadeins.push(d(e,t,n,o,r,i)):r()},y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,e),this.onDrawCell=this.onDrawCell.bind(this),this._fadeinWhenCallbackInPromise=t.fadeinWhenCallbackInPromise||!1}return v(e,[{key:"onDrawCell",value:function(e,t,n,o){var l,a=this,u=t.style,c=t.getRecord,f=t.drawCellBase,h=o.getGridCanvasHelper();f();var d,v=c();if(i.isPromise(v)?d=v.then((function(){return e})):i.isPromise(e)&&(d=e),d){var y=Date.now();return d.then((function(e){if(n.toCurrentContext().getDrawRect()){var l=Date.now()-y,s=function(){var l=n.toCurrentContext();if(l.getDrawRect()){var s=c();if(!i.isPromise(s)){var f=r.of(u,s,a.StyleClass);a.drawInternal(a.convertInternal(e),l,f,h,o,t),a.drawMessageInternal(t.getMessage(),l,f,h,o,t)}}};if(function(e,t){return i.isDef(e.fadeinWhenCallbackInPromise)?e.fadeinWhenCallbackInPromise:!!t.configure("fadeinWhenCallbackInPromise")}(a,o)){var d=n.col,v=n.row;l<80?p(o,d,v,n,s,f):g(o,d,v,n,s,f)}else s()}}))}var _=r.of(u,v,this.StyleClass);this.drawInternal(this.convertInternal(e),n,_,h,o,t),this.drawMessageInternal(t.getMessage(),n,_,h,o,t);var m=n.col,C=n.row,w="".concat(m,":").concat(C),b=null===(l=o[s])||void 0===l?void 0:l.cells[w];if(b){var k=n.getContext();k.globalAlpha=1-b.opacity;try{f()}finally{k.globalAlpha=1}}}},{key:"convertInternal",value:function(e){return i.isDef(e)?e:""}},{key:"drawMessageInternal",value:function(e,t,n,o,r,i){i.messageHandler.drawCellMessage(e,t,n,o,r,i)}},{key:"bindGridEvent",value:function(e,t){return[]}},{key:"getCopyCellValue",value:function(e,t,n){return e}},{key:"fadeinWhenCallbackInPromise",get:function(){return this._fadeinWhenCallbackInPromise}},{key:"StyleClass",get:function(){return l.BaseStyle}}]),e}();t.BaseColumn=y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o={};function r(e,t,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=r.offset,l=void 0===i?0:i,a=r.padding,u=(a=void 0===a?{}:a).left,c=void 0===u?0:u,s=a.right,f=void 0===s?0:s,h=a.top,d=void 0===h?0:h,v=a.bottom,g=void 0===v?0:v,p=e.textAlign||"left",y=e.textBaseline||"middle";e.textAlign=p,e.textBaseline=y;var _=t.left+l+c;"right"===p||"end"===p?_=t.right-n-l-f:"center"===p&&(_=t.left+(t.width-n+c-f)/2);var m=t.top+l+d;return"bottom"===y||"alphabetic"===y||"ideographic"===y?m=t.bottom-o-l-g:"middle"===y&&(m=t.top+(t.height-o+d-g)/2),{x:_,y:m}}t.getFontSize=function(e,t){var n=t||e.font;if(o[n])return o[n];var r=e.font;try{e.font=n;var i=e.measureText("ã‚").width;return o[n]={width:i,height:i}}finally{e.font=r}},t.calcBasePosition=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.offset,i=void 0===o?0:o,l=n.padding,a=(l=void 0===l?{}:l).left,u=void 0===a?0:a,c=l.right,s=void 0===c?0:c,f=l.top,h=void 0===f?0:f,d=l.bottom,v=void 0===d?0:d;return r(e,t,0,0,{offset:i,padding:{left:u,right:s,top:h,bottom:v}})},t.calcStartPosition=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);function r(e,t,n){if("function"==typeof e){var r=t.getRowRecord(n);return!!o.isPromise(r)||!!e(r)}return!!e}t.isDisabledRecord=function(e,t,n){return!!t.disabled||r(e,t,n)},t.isReadOnlyRecord=function(e,t,n){return!!t.readOnly||r(e,t,n)},t.toggleValue=function(e){if("number"==typeof e)return 0===e?1:0;if("string"==typeof e){if("false"===e)return"true";if("off"===e)return"on";if(/^0+$/.exec(e))return e.replace(/^(0*)0$/,"$11");if("true"===e)return"false";if("on"===e)return"off";if(/^0*1$/.exec(e))return e.replace(/^(0*)1$/,"$10")}return!e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){r(n,e);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(e=t.call(this,o))._readOnly=o.readOnly||!1,e}return v(n,[{key:"onChangeReadOnlyInternal",value:function(){}},{key:"editable",get:function(){return!0}},{key:"readOnly",get:function(){return this._readOnly},set:function(e){this._readOnly=!!e,this.onChangeReadOnlyInternal()}}]),n}(n(25).BaseAction);t.Editor=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.classList,r=n.text,i=n.html,l=document.createElement(e);return o&&(Array.isArray(o)?(t=l.classList).add.apply(t,s(o)):l.classList.add(o)),r?l.textContent=r:i&&(l.innerHTML=i),l}function i(e){if(Array.isArray(e)){var t=[];return e.forEach((function(e){t.push.apply(t,s(i(e)))})),t}var n=function(e){if(function(e){return!(!e.nodeType||!e.nodeName)}(e))return e;var t=r("div",{html:e});return Array.prototype.slice.call(t.childNodes)}(e);return Array.isArray(n)?n:[n]}function l(e){return o.isDef(e.tabIndex)&&e.tabIndex>-1}t.createElement=r,t.empty=function(e){for(var t;t=e.firstChild;)e.removeChild(t)},t.toNodeList=i,t.appendHtml=function(e,t){i(t).forEach((function(t){e.appendChild(t)}))},t.disableFocus=function e(t){t.dataset.disableBeforeTabIndex="".concat(t.tabIndex),t.tabIndex=-1,Array.prototype.slice.call(t.children,0).forEach(e)},t.enableFocus=function e(t){"disableBeforeTabIndex"in t.dataset&&(t.tabIndex=Number(t.dataset.disableBeforeTabIndex)),Array.prototype.slice.call(t.children,0).forEach(e)},t.isFocusable=l,t.findPrevSiblingFocusable=function(e){for(var t=e.previousSibling;t&&!l(t);)t=t.previousSibling;return t},t.findNextSiblingFocusable=function(e){for(var t=e.nextSibling;t&&!l(t);)t=t.nextSibling;return t}},function(e,t,n){var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(21)),a=n(7),u=n(6),c=function(e){r(n,e);var t=l(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"drawInternal",value:function(e,t,n,o,r,l){var a=l.drawCellBase,u=l.getIcon,c=n.textAlign,s=n.textBaseline,f=n.color,h=n.font,d=n.bgColor,v=n.padding,g=n.textOverflow;d&&a({bgColor:d}),o.testFontLoad(h,e,t),i.loadIcons(u(),t,o,(function(t,n){o.text(e,n,{textAlign:c,textBaseline:s,color:f,font:h,padding:v,textOverflow:g,icons:t})}))}},{key:"StyleClass",get:function(){return u.Style}}]),n}(a.BaseColumn);t.Column=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i=function(e){r(n,e);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(e=t.call(this,o))._color=o.color,e._font=o.font,e._textOverflow=o.textOverflow||"ellipsis",e}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"color",get:function(){return this._color},set:function(e){this._color=e,this.doChangeStyle()}},{key:"font",get:function(){return this._font},set:function(e){this._font=e,this.doChangeStyle()}},{key:"textOverflow",get:function(){return this._textOverflow},set:function(e){this._textOverflow=e,this.doChangeStyle()}}],[{key:"DEFAULT",get:function(){return o||(o=new n)}}]),n}(n(117).StdBaseStyle);t.Style=i},function(e,t,n){var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(33)),i=n(34),l=n(0),a=function(){function e(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],h(this,e),this.onDrawCell=this.onDrawCell.bind(this)}return v(e,[{key:"onDrawCell",value:function(e,t,n,o){var i=t.style,l=t.drawCellBase,a=o.getGridCanvasHelper();l(),this.drawInternal(this.convertInternal(e),n,r.of(i,this.StyleClass),a,o,t)}},{key:"convertInternal",value:function(e){return"function"==typeof e&&(e=e()),l.isDef(e)?"".concat(e):""}},{key:"bindGridEvent",value:function(e,t){return[]}},{key:"StyleClass",get:function(){return i.BaseStyle}}]),e}();t.BaseHeader=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);function r(e,t){return e.measureText(t).width}function i(e,t,n,o,i){for(var a=[],u=n.next(),c=0;c<o&&null!==u;c++,u=n.next())a.push(u);var s=r(e,a.join(""));if(s>i)for(;a.length&&!((s-=r(e,a.pop()||""))<=i););else if(s<i)for(;null!==u;){var f=r(e,u);if(s+f>i)break;a.push(u),s+=f,u=n.next()}var h=a.join("").replace(/\s+$/,""),d=t.slice(h.length).replace(/^\s+/,"");return{before:h?new l(h):null,after:d?new l(d):null}}var l=function(){function e(t){h(this,e),this._content=o.isDef(t)?t:""}return v(e,[{key:"width",value:function(e){return r(e.ctx,this._content)}},{key:"font",value:function(){return null}},{key:"color",value:function(){return null}},{key:"canDraw",value:function(){return!0}},{key:"onReady",value:function(e){}},{key:"draw",value:function(e){var t=e.ctx,n=e.canvashelper,o=e.rect,r=e.offset,i=e.offsetLeft,l=e.offsetRight,a=e.offsetTop,u=e.offsetBottom;n.fillTextRect(t,this._content,o.left,o.top,o.width,o.height,{offset:r+1,padding:{left:i,right:l,top:a,bottom:u}})}},{key:"canBreak",value:function(){return!!this._content}},{key:"splitIndex",value:function(t){for(var n=this._content,r=o.str.genChars(n),i=[],l=r.next(),a=0;a<t&&null!==l;a++,l=r.next())i.push(l);var u=i.join(""),c=n.slice(u.length);return{before:u?new e(u):null,after:c?new e(c):null}}},{key:"breakWord",value:function(e,t){var n=this._content,r=this.width({ctx:e}),l=Math.floor(this._content.length*t/r);return i(e,n,o.str.genWords(n),l,t)}},{key:"breakAll",value:function(e,t){var n=this._content,r=this.width({ctx:e}),l=Math.floor(this._content.length*t/r);return i(e,n,o.str.genChars(n),l,t)}},{key:"toString",value:function(){return this._content}}]),e}();t.Inline=l},function(e,t,n){var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(76));t.action=r;var i=o(n(26));t.style=i;var l=o(n(44));t.type=l},function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0});var r=o(0);function i(e,t,n,o){var r;return e*=3,t*=3,n*=3,o*=3,function(i){var l,a,u,c,s,f;if(i<0||1<i)throw new Error("".concat(i));l=r||i;do{l+=.5*(f=i-(e*(u=(a=1-l)*a)*l+n*a*(c=l*l)+(s=c*l)))}while(1e-4<Math.abs(f));return r=l,t*u*l+o*a*c+s}}var l={linear:function(e){return e},easeIn:i(.42,0,1,1),easeOut:i(0,0,.58,1),easeInOut:i(.42,0,.58,1)},a=r.isNode?function(){}:e.requestAnimationFrame||function(e){return setTimeout(e,1)};function u(){return Date.now()}n.animate=function(e,t,n){var o=u(),r=null==n?l.easeInOut:"string"==typeof n?l[n]:n,i=!1,c=function(n,l){return function c(){var s=u()-o;i?l&&l():s>=e?(t(1),n&&n()):(t(r(s/e)),a(c))}},s=function(){i=!0};if("undefined"!=typeof Promise){var f=new Promise((function(e,n){var o=c(e,n);t(0),o()}));return f.cancel=s,f}var h=c((function(){}),(function(){}));return t(0),h(),{cancel:s}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(19),a={CHANGE_STYLE:"change_style"},u=function(e){r(n,e);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=o.bgColor;return h(this,n),(e=t.call(this))._bgColor=r,e}return v(n,[{key:"doChangeStyle",value:function(){this.fireListeners(a.CHANGE_STYLE)}},{key:"clone",value:function(){return new n(this)}},{key:"bgColor",get:function(){return this._bgColor},set:function(e){this._bgColor=e,this.doChangeStyle()}}],[{key:"EVENT_TYPE",get:function(){return a}},{key:"DEFAULT",get:function(){return o||(o=new n)}}]),n}(i.EventTarget);t.BaseStyle=u},function(e,t,n){var o;Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1).get(),l=1,a=function(){function e(){h(this,e),this[o]={listeners:{},listenerData:{}}}return v(e,[{key:"listen",value:function(e,t){var n=this,o=this[i].listeners[e]||(this[i].listeners[e]=[]);o.push(t);var r=l++;return this[i].listenerData[r]={type:e,listener:t,remove:function(){delete n[i].listenerData[r];var l=o.indexOf(t);o.splice(l,1),n[i].listeners[e].length||delete n[i].listeners[e]}},r}},{key:"unlisten",value:function(e){this[i]&&this[i].listenerData[e].remove()}},{key:"addEventListener",value:function(e,t){this.listen(e,t)}},{key:"removeEventListener",value:function(e,t){var n=this;this[i]&&r.each(this[i].listenerData,(function(o,r){o.type===e&&o.listener===t&&n.unlisten(r)}))}},{key:"hasListeners",value:function(e){return!!this[i].listeners[e]}},{key:"fireListeners",value:function(e){for(var t=this,n=arguments.length,o=new Array(n>1?n-1:0),l=1;l<n;l++)o[l-1]=arguments[l];var a=this[i].listeners[e];return a?a.map((function(e){return e.call.apply(e,[t].concat(o))})).filter(r.isDef):[]}},{key:"dispose",value:function(){delete this[i]}}]),e}();t.EventTarget=a,o=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i=function(e){r(n,e);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(e=t.call(this,o))._textAlign=o.textAlign||"left",e._textBaseline=o.textBaseline||"middle",e}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"textAlign",get:function(){return this._textAlign},set:function(e){this._textAlign=e,this.doChangeStyle()}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(e){this._textBaseline=e,this.doChangeStyle()}}],[{key:"DEFAULT",get:function(){return o||(o=new n)}}]),n}(n(18).BaseStyle);t.StdBaseStyle=i},function(e,t,n){var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(27)),i=n(0);t.loadIcons=function e(t,n,o,l){var a=void 0;if(t)if(i.isPromise(t))t.then((function(t){e(t,n.toCurrentContext(),o,l)}));else{var u=r.toNormarizeArray(t);u.forEach((function(e){e.font&&e.content&&o.testFontLoad(e.font,e.content,n)})),a=u}l(a,n)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t,n,o,r){h(this,e),this._left=t,this._top=n,this._width=o,this._height=r}return v(e,[{key:"offsetLeft",value:function(e){this._left+=e,this._right=void 0}},{key:"offsetTop",value:function(e){this._top+=e,this._bottom=void 0}},{key:"copy",value:function(){return new e(this.left,this.top,this.width,this.height)}},{key:"intersection",value:function(t){var n=Math.max(this.left,t.left),o=Math.min(this.left+this.width,t.left+t.width);if(n<=o){var r=Math.max(this.top,t.top),i=Math.min(this.top+this.height,t.top+t.height);if(r<=i)return e.bounds(n,r,o,i)}return null}},{key:"contains",value:function(e){return this.left<=e.left&&this.left+this.width>=e.left+e.width&&this.top<=e.top&&this.top+this.height>=e.top+e.height}},{key:"inPoint",value:function(e,t){return this.left<=e&&this.left+this.width>=e&&this.top<=t&&this.top+this.height>=t}},{key:"left",get:function(){return this._left},set:function(e){var t=this.right;this._left=e,this.right=t}},{key:"top",get:function(){return this._top},set:function(e){var t=this.bottom;this._top=e,this.bottom=t}},{key:"width",get:function(){return this._width},set:function(e){this._width=e,this._right=void 0}},{key:"height",get:function(){return this._height},set:function(e){this._height=e,this._bottom=void 0}},{key:"right",get:function(){return void 0!==this._right?this._right:this._right=this.left+this.width},set:function(e){this._right=e,this.width=e-this.left}},{key:"bottom",get:function(){return void 0!==this._bottom?this._bottom:this._bottom=this.top+this.height},set:function(e){this._bottom=e,this.height=e-this.top}}],[{key:"bounds",value:function(t,n,o,r){return new e(t,n,o-t,r-n)}},{key:"max",value:function(t,n){return e.bounds(Math.min(t.left,n.left),Math.min(t.top,n.top),Math.max(t.right,n.right),Math.max(t.bottom,n.bottom))}}]),e}();t.Rect=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(14);t.BaseHeader=o.BaseHeader;var r=n(118);t.CheckHeader=r.CheckHeader;var i=n(119);t.Header=i.Header;var l=n(120);t.MultilineTextHeader=l.MultilineTextHeader;var a=n(121);t.SortHeader=a.SortHeader;var u={DEFAULT:new i.Header,SORT:new a.SortHeader,CHECK:new r.CheckHeader,MULTILINETEXT:new l.MultilineTextHeader};function c(e){if(e){if("string"==typeof e){var t=e.toUpperCase();return u[t]||c(null)}return e}return u.DEFAULT}t.of=c,t.ofCell=function(e){return e.sort?u.SORT:c(e.headerType)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(3);t.bindCellClickAction=function(e,t,n){var i=n.action,l=n.mouseOver,a=n.mouseOut;function u(n,o){return e.getLayoutCellId(n,o)===t}return[e.listen(r.DG_EVENT_TYPE.CLICK_CELL,(function(t){u(t.col,t.row)&&(o.isPromise(e.getRowRecord(t.row))||i({col:t.col,row:t.row}))})),e.listen(r.DG_EVENT_TYPE.MOUSEOVER_CELL,(function(t){u(t.col,t.row)&&(o.isPromise(e.getRowRecord(t.row))||l&&!l({col:t.col,row:t.row})||(e.getElement().style.cursor="pointer"))})),e.listen(r.DG_EVENT_TYPE.MOUSEOUT_CELL,(function(t){u(t.col,t.row)&&(a&&a({col:t.col,row:t.row}),e.getElement().style.cursor="")}))]},t.bindCellKeyAction=function(e,t,n){var i=n.action,l=n.acceptKeys,a=void 0===l?[]:l;return a=[].concat(s(a),[13,32]),[e.listen(r.DG_EVENT_TYPE.KEYDOWN,(function(n){var r;if(-1!==a.indexOf(n.keyCode)&&(!(null===(r=e.keyboardOptions)||void 0===r?void 0:r.moveCellOnEnter)||13!==n.keyCode)){var l,u,c=e.selection.select;l=c.col,u=c.row,e.getLayoutCellId(l,u)===t&&(o.isPromise(e.getRowRecord(c.row))||(i({col:c.col,row:c.row}),o.event.cancel(n.event)))}}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,e),this._disabled=t.disabled||!1}return v(e,[{key:"onChangeDisabledInternal",value:function(){}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=e,this.onChangeDisabledInternal()}}]),e}();t.BaseAction=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(18);t.BaseStyle=o.BaseStyle;var r=n(45);t.ButtonStyle=r.ButtonStyle;var i=n(46);t.CheckStyle=i.CheckStyle;var l=n(47);t.IconStyle=l.IconStyle;var a=n(48);t.ImageStyle=a.ImageStyle;var u=n(49);t.MenuStyle=u.MenuStyle;var c=n(50);t.MultilineTextStyle=c.MultilineTextStyle;var s=n(51);t.NumberStyle=s.NumberStyle;var f=n(52);t.PercentCompleteBarStyle=f.PercentCompleteBarStyle;var h=n(53);t.RadioStyle=h.RadioStyle;var d=n(6);t.Style=d.Style;var v=o.BaseStyle.EVENT_TYPE;t.EVENT_TYPE=v,t.of=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.Style;return t?t instanceof o.BaseStyle?t:"function"==typeof t?e(t(n),n,r):n&&t in n?e(n[t],n,r):new r(t):r.DEFAULT}},function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0});var r=o(0),i=["content","font","color","className","tagName","isLiga","width","src","svg","name","path"],l={},a={};function u(t,n){var o=a[t]||(a[t]={});if(o[n])return o[n];var r=l[t]||(l[t]=document.createElement(t));r.className=n,document.body.appendChild(r);try{var i=(document.defaultView||e).getComputedStyle(r,"::before"),u=i.getPropertyValue("content");u.length>=3&&('"'===u[0]||"'"===u[0])&&u[0]===u[u.length-1]&&(u=u.substr(1,u.length-2));var c=i.getPropertyValue("font");c||(c="".concat(i.getPropertyValue("font-style")," ").concat(i.getPropertyValue("font-variant")," ").concat(i.getPropertyValue("font-weight")," ").concat(i.getPropertyValue("font-size"),"/").concat(i.getPropertyValue("line-height")," ").concat(function(e){for(var t=[],n=e.split(/,\s*/),o=0;o<n.length;o++){var r=n[o].replace(/['"]/g,"");-1!==r.indexOf(" ")||/^\d/.test(r)?t.push("'".concat(r,"'")):t.push(r)}return t.join(",")}(i.getPropertyValue("font-family"))));var s=i.getPropertyValue("color"),f=r.clientWidth,h=(i.getPropertyValue("font-feature-settings")||"").indexOf("liga")>-1;return o[n]={content:u,font:c,color:s,width:f,isLiga:h}}finally{document.body.removeChild(r)}}function c(e){if(!e)return e;if(Array.isArray(e))return e;var t={},n=0;i.forEach((function(t){var o=e[t];o&&(n=Array.isArray(o)?Math.max(n,o.length):Math.max(n,1))})),i.forEach((function(o){var r=function(e,t){var n=[];if(Array.isArray(e)){n.push.apply(n,s(e));for(var o=e.length;o<t;o++)n.push(null)}else for(var r=0;r<t;r++)n.push(e);return n}(e[o],n);t[o]=r}));for(var o=[],r=function(e){var n={};i.forEach((function(o){var r=t[o][e];n[o]=r})),o.push(n)},l=0;l<n;l++)r(l);return o}function f(e){return i.indexOf(e)>=0}n.getIconProps=u,n.toNormarizeArray=function(e){var t=c(e);return t?t.map((function(e){return function(e){var t={};for(var n in e)"className"!==n&&f(n)&&(t[n]=e[n]);if(e.className){var o=u(e.tagName||"i",e.className);for(var i in o)f(i)&&(r.isDef(e[i])||(t[i]=o[i]))}return t}(e)})):t},n.iconPropKeys=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.toBoolean=function(e){if("string"==typeof e){if("false"===e)return!1;if("off"===e)return!1;if(/^0+$/.exec(e))return!1}return Boolean(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);function r(e){return new Error("calc parse error: ".concat(e))}var i={"*":3,"/":3,"+":2,"-":2};function l(e){return function e(t,n){var l;function a(e){var t=e.pop(),o=e.pop(),i=e.pop();if(!(i&&i.nodeType&&o&&"o"===o.type&&t&&t.nodeType))throw r(n);return{nodeType:"b",left:i,op:o,right:t}}for(var u=[];t.length;){var c=t.shift();if("p"===c.type&&"("===c.value)!function(){var i=0,l=o.array.findIndex(t,(function(e){if("p"===e.type&&"("===e.value)i++;else if("p"===e.type&&")"===e.value){if(!i)return!0;i--}return!1}));if(-1===l)throw r(n);u.push(e(t.slice(0,l),n)),t.splice(0,l+1)}();else if("o"===c.type){if(u.length>=3){var s=u[u.length-2].value;i[c.value]<=i[s]&&u.push(a(u))}u.push(c)}else if("u"===c.type){var f=c.value,h=parseFloat(f),d=(null===(l=/[a-z%]+/i.exec(f))||void 0===l?void 0:l[0])||"";u.push({nodeType:"u",value:h,unit:d})}else"n"===c.type&&u.push({nodeType:"n",value:parseFloat(c.value)})}for(;u.length>1;)u.push(a(u));return u[0]}(function(e){for(var t,n=e.replace(/calc\(/g,"("),o=/^[-+]?(\d*\.\d+|\d+)[a-z%]+/i,i=/^[-+]?(\d*\.\d+|\d+)/i,l=/^[-+*/]/,a=[];n=n.trim();)if("("===n[0]||")"===n[0])a.push({value:n[0],type:"p"}),n=n.slice(1);else if(t=o.exec(n))a.push({value:t[0],type:"u"}),n=n.slice(t[0].length);else if(t=i.exec(n))a.push({value:t[0],type:"n"}),n=n.slice(t[0].length);else{if(!(t=l.exec(n)))throw r(e);a.push({value:t[0],type:"o"}),n=n.slice(t[0].length)}return a}(e),e)}function a(e,t){return function e(t,n){if("b"===t.nodeType){var o=e(t.left,n),r=e(t.right,n);switch(t.op.value){case"+":return o+r;case"-":return o-r;case"*":return o*r;case"/":return o/r;default:throw new Error("calc error. unknown operator: ".concat(t.op.value))}}else if("u"===t.nodeType)switch(t.unit){case"%":return t.value*n.full/100;case"em":return t.value*n.em;case"px":return t.value;default:throw new Error("calc error. unknown unit: ".concat(t.unit))}else if("n"===t.nodeType)return t.value;throw new Error("calc error.")}(l(e),t)}t.toPx=function(e,t){return"string"==typeof e?a(e.trim(),t):e-0}},function(e,t,o){var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(o(60)),u=o(0),f=o(19);function d(e){if(u.obj.isObject(e)){var t=e;if(t.get&&t.set)return!0}return!1}var g={UPDATE_LENGTH:"update_length",UPDATED_LENGTH:"updated_length",UPDATED_ORDER:"updated_order"};function p(e,t){var n=u.getOrApply(e);if(u.isPromise(n)){var o=n.then((function(e){return t(e),e}));return t(o),o}return n}function y(e,t,n){if(null==e)return!1;var o=d(t)?t.set:t;if(o in e)e[o]=n;else{if("function"==typeof o)return o(e,n);if("string"==typeof o)for(var r="".concat(o).split("."),i=e,l=r.length,a=0;a<l;a++){var u=r[a];a===l-1?i[u]=n:i=i[u]||(i[u]={})}else e[o]=n}return!0}function _(e,t){if(!e)return t;var n=e[t];return u.isDef(n)?n:t}var m=function(e){r(o,e);var t=l(o);function o(e){var n,r;return h(this,o),(n=t.call(this))._sortedIndexMap=null,n._get=(null==e?void 0:e.get.bind(e))||void 0,n._length=(null==e?void 0:e.length)||0,n._source=null!==(r=null==e?void 0:e.source)&&void 0!==r?r:e,n}return v(o,[{key:"get",value:function(e){return this.getOriginal(_(this._sortedIndexMap,e))}},{key:"getField",value:function(e,t){return this.getOriginalField(_(this._sortedIndexMap,e),t)}},{key:"hasField",value:function(e,t){return this.hasOriginalField(_(this._sortedIndexMap,e),t)}},{key:"setField",value:function(e,t,n){return this.setOriginalField(_(this._sortedIndexMap,e),t,n)}},{key:"sort",value:function(e,t){var n=this,o=new Array(this._length),r="desc"!==t?function(e,t){return e===t?0:e>t?1:-1}:function(e,t){return e===t?0:e<t?1:-1};return a.sortPromise((function(e){return u.isDef(o[e])?o[e]:o[e]=e}),(function(e,t){o[e]=t}),this._length,r,(function(t){return n.getOriginalField(t,e)})).then((function(){n._sortedIndexMap=o,n.fireListeners(g.UPDATED_ORDER)}))}},{key:"dispose",value:function(){n(c(o.prototype),"dispose",this).call(this)}},{key:"getOriginal",value:function(e){var t=this;return p(this._get(e),(function(n){t.recordPromiseCallBackInternal(e,n)}))}},{key:"getOriginalField",value:function(e,t){var n=this;if(u.isDef(t))return function e(t,n,o){if(u.isDef(t)){if(u.isPromise(t))return t.then((function(t){return e(t,n,o)}));var r=d(n)?n.get:n;if(r in t)return p(t[r],o);if("function"==typeof r)return p(r(t),o);var i="".concat(r).split(".");return i.length<=1?p(t[r],o):p(u.applyChainSafe.apply(u,[t,function(t,n){return e(t,n,u.emptyFn)}].concat(s(i))),o)}}(this.getOriginal(e),t,(function(o){n.fieldPromiseCallBackInternal(e,t,o)}))}},{key:"hasOriginalField",value:function(e,t){if(!u.isDef(t))return!1;if("function"==typeof t)return!0;var n=this.getOriginal(e);return Boolean(n&&t in n)}},{key:"setOriginalField",value:function(e,t,n){if(!u.isDef(t))return!1;var o=this.getOriginal(e);return u.isPromise(o)?o.then((function(e){return y(e,t,n)})):y(o,t,n)}},{key:"fieldPromiseCallBackInternal",value:function(e,t,n){}},{key:"recordPromiseCallBackInternal",value:function(e,t){}},{key:"source",get:function(){return this._source}},{key:"length",get:function(){return this._length},set:function(e){if(this._length!==e){var t=this.fireListeners(g.UPDATE_LENGTH,e);u.array.findIndex(t,(function(e){return!e}))>=0||(this._length=e,this.fireListeners(g.UPDATED_LENGTH,this._length))}}},{key:"dataSource",get:function(){return this}}],[{key:"ofArray",value:function(e){return new o({get:function(t){return e[t]},length:e.length,source:e})}},{key:"EVENT_TYPE",get:function(){return g}}]),o}(f.EventTarget);t.DataSource=m,m.EMPTY=new m({get:function(){},length:0})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(32);t.BaseAction=o.BaseAction;var i=n(115);t.CheckHeaderAction=i.CheckHeaderAction;var a=n(116);t.SortHeaderAction=a.SortHeaderAction;var u=function(e){r(n,e);var t=l(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"disabled",get:function(){return this._disabled}}]),n}(a.SortHeaderAction),c=function(e){r(n,e);var t=l(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"disabled",get:function(){return this._disabled}}]),n}(i.CheckHeaderAction);function s(e){if(e){if("string"==typeof e){var n=e.toUpperCase();return t.ACTIONS[n]||s(null)}return e}}t.ACTIONS={SORT:new u,CHECK:new c},t.of=s,t.ofCell=function(e){if(e.sort){if("function"==typeof e.sort){var n=e.sort;return new u({sort:function(t){var o=t.order,r=t.col,i=t.grid;return n.call(e,o,r,i)}})}return t.ACTIONS.SORT}return s(e.headerAction)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,e),this._disabled=t.disabled||!1}return v(e,[{key:"clone",value:function(){return new e(this)}},{key:"bindGridEvent",value:function(e,t){return[]}},{key:"onChangeDisabledInternal",value:function(){}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=e,this.onChangeDisabledInternal()}}]),e}();t.BaseAction=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(34);t.BaseStyle=o.BaseStyle;var r=n(62);t.CheckHeaderStyle=r.CheckHeaderStyle;var i=n(63);t.MultilineTextHeaderStyle=i.MultilineTextHeaderStyle;var l=n(64);t.SortHeaderStyle=l.SortHeaderStyle;var a=n(13);t.Style=a.Style,t.of=function e(t,n){return t?t instanceof a.Style?t:"function"==typeof t?e(t(),n):new n(t):n.DEFAULT}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(19),a={CHANGE_STYLE:"change_style"},u=function(e){r(n,e);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=o.bgColor;return h(this,n),(e=t.call(this))._bgColor=r,e}return v(n,[{key:"doChangeStyle",value:function(){this.fireListeners(a.CHANGE_STYLE)}},{key:"clone",value:function(){return new n(this)}},{key:"bgColor",get:function(){return this._bgColor},set:function(e){this._bgColor=e,this.doChangeStyle()}}],[{key:"EVENT_TYPE",get:function(){return a}},{key:"DEFAULT",get:function(){return o||(o=new n)}}]),n}(i.EventTarget);t.BaseStyle=u},function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(130),l=o(n(131)),a=o(n(132)),u=n(67);t.BASIC=new i.Theme(l.default),t.MATERIAL_DESIGN=new i.Theme(a.default);var c={BASIC:t.BASIC,MATERIAL_DESIGN:t.MATERIAL_DESIGN},s=t.MATERIAL_DESIGN;function f(e){if(!e)return null;if("string"==typeof e){var t=r.getIgnoreCase(h(),e);return t||null}return e instanceof i.Theme?e:new i.Theme(e)}function h(){return r.extend(c,u.themes)}t.theme={Theme:i.Theme},t.of=f,t.getDefault=function(){return s},t.setDefault=function(e){s=f(e)||s},t.getChoices=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);function r(){return"undefined"==typeof Path2D||o.browser.Edge?n(141).Path2DShim:Path2D}t.getPath2D=r,t.fill=function(e,t,n,o,i,l){t.save();try{var a=e.width,u=e.height,c=e.ud,s=e.x,f=void 0===s?0:s,h=e.y,d=void 0===h?0:h,v=(i=i||a)/a,g=(l=l||u)/(c?-u:u);n=n||0,o=c?(o||0)+-u*g:o||0,t.translate(n,o),t.scale(v,g),0===f&&0===d||t.translate(f,d);var p=r(),y=e.path2d=e.path2d||new p(e.d);t.fill(y)}finally{t.restore()}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=n(0);t.LG_EVENT_TYPE=r.extend(o.DG_EVENT_TYPE,{CHANGED_VALUE:"changed_value",CHANGED_HEADER_VALUE:"changed_header_value"})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(22);t.drawExclamationMarkBox=function(e,t,n){var r=t.bgColor,i=t.color,l=e.getContext(),a=e.getRect();l.fillStyle=r;var u=a.copy();u.left=u.right-24,l.fillRect(u.left,u.top,u.width,u.height-1);var c=i,s=u.left+(u.width-4)/2,f=u.top+(u.height-20)/2;n.fillRectWithState(new o.Rect(s,f,4,12),e,{fillColor:c}),n.fillRectWithState(new o.Rect(s,f+16,4,4),e,{fillColor:c})},t.drawInfomationMarkBox=function(e,t,n){var r=t.bgColor,i=t.color,l=e.getContext(),a=e.getRect();l.fillStyle=r;var u=a.copy();u.left=u.right-24,l.fillRect(u.left,u.top,u.width,u.height-1);var c=i,s=u.left+(u.width-4)/2,f=u.top+(u.height-20)/2;n.fillRectWithState(new o.Rect(s,f,4,4),e,{fillColor:c}),n.fillRectWithState(new o.Rect(s,f+8,4,12),e,{fillColor:c})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t){h(this,e),this._messageElement=null,this._grid=t}return v(e,[{key:"dispose",value:function(){this.detachMessageElement(),this._messageElement&&this._messageElement.dispose(),this._messageElement=null}},{key:"_getMessageElement",value:function(){return this._messageElement||(this._messageElement=this.createMessageElementInternal())}},{key:"attachMessageElement",value:function(e,t,n){this._getMessageElement().attach(this._grid,e,t,n)}},{key:"moveMessageElement",value:function(e,t){this._getMessageElement().move(this._grid,e,t)}},{key:"detachMessageElement",value:function(){this._getMessageElement()._detach()}},{key:"drawCellMessage",value:function(e,t,n,o,r,i){this.drawCellMessageInternal(e,t,n,o,r,i)}}]),e}();t.BaseMessage=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=n(11),i="cheetah-grid__message-element",l="".concat(i,"__message"),a="".concat(i,"--hidden"),u="".concat(i,"--shown"),c=function(){function e(){h(this,e),this._handler=new o.EventHandler;var t=this._rootElement=function(){n(150);var e=r.createElement("div",{classList:[i,a]}),t=r.createElement("span",{classList:[l]});return e.appendChild(t),e}();this._messageElement=t.querySelector(".".concat(l))}return v(e,[{key:"dispose",value:function(){this.detach(),this._handler.dispose(),delete this._rootElement,delete this._messageElement}},{key:"attach",value:function(e,t,n,o){var r=this._rootElement,i=this._messageElement;r.classList.remove(u),r.classList.add(a),this._attachCell(e,t,n)?(r.classList.add(u),r.classList.remove(a),i.textContent=o.message):this._detach()}},{key:"move",value:function(e,t,n){var o=this._rootElement;this._attachCell(e,t,n)?(o.classList.add(u),o.classList.remove(a)):this._detach()}},{key:"detach",value:function(){this._detach()}},{key:"_detach",value:function(){var e=this._rootElement;e.parentElement&&(e.parentElement.removeChild(e),e.classList.remove(u),e.classList.add(a))}},{key:"_attachCell",value:function(e,t,n){var o=this._rootElement,r=e.getAttachCellsArea(e.getCellRange(t,n)),i=r.element,l=r.rect,a=l.bottom,u=l.left,c=l.width,s=e.frozenRowCount,f=e.frozenColCount;if(n>=s&&s>0){if(a<e.getAttachCellsArea(e.getCellRange(t,s-1)).rect.bottom)return!1}else if(a<0)return!1;if(t>=f&&f>0){if(u<e.getAttachCellsArea(e.getCellRange(f-1,n)).rect.right)return!1}else if(u<0)return!1;var h=i.offsetHeight,d=i.offsetWidth;return!(h<a||d<u||(o.style.top="".concat(a.toFixed(),"px"),o.style.left="".concat(u.toFixed(),"px"),o.style.width="".concat(c.toFixed(),"px"),o.parentElement!==i&&i.appendChild(o),0))}}]),e}();t.MessageElement=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(24),i=n(25),a=n(9),u=function(e){r(n,e);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(e=t.call(this,o))._action=o.action||function(){},e}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"getState",value:function(e){return{}}},{key:"bindGridEvent",value:function(e,t){var n=this,r=this.getState(e),i=function(t){if(!a.isDisabledRecord(n.disabled,e,t.row)){var o=e.getRowRecord(t.row);n._action(o,t)}};return[].concat(s(o.bindCellClickAction(e,t,{action:i,mouseOver:function(t){if(a.isDisabledRecord(n.disabled,e,t.row))return!1;r.mouseActiveCell={col:t.col,row:t.row};var o=e.getCellRange(t.col,t.row);return e.invalidateCellRange(o),!0},mouseOut:function(t){delete r.mouseActiveCell;var n=e.getCellRange(t.col,t.row);e.invalidateCellRange(n)}})),s(o.bindCellKeyAction(e,t,{action:i})))}},{key:"onPasteCellRangeBox",value:function(){}},{key:"onDeleteCellRangeBox",value:function(){}},{key:"editable",get:function(){return!1}},{key:"action",get:function(){return this._action},set:function(e){this._action=e}}]),n}(i.BaseAction);t.Action=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(9),a=n(3),u=n(10),c=function(e){r(n,e);var t=l(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),t.call(this,e)}return v(n,[{key:"bindGridEvent",value:function(e,t){var n=this,r=function(t){return!i.isReadOnlyRecord(n.readOnly,e,t.row)&&!i.isDisabledRecord(n.disabled,e,t.row)&&(n.onOpenCellInternal(e,t),!0)},l=function(t,o){i.isReadOnlyRecord(n.readOnly,e,t.row)||i.isDisabledRecord(n.disabled,e,t.row)||n.onInputCellInternal(e,t,o)};function u(n,o){return e.getLayoutCellId(n,o)===t}return[e.listen(a.DG_EVENT_TYPE.INPUT_CELL,(function(e){u(e.col,e.row)&&l({col:e.col,row:e.row},e.value)})),e.listen(a.DG_EVENT_TYPE.PASTE_CELL,(function(t){if(!t.multi){var n=e.selection.range;o.cellEquals(n.start,n.end)&&u(t.col,t.row)&&(o.event.cancel(t.event),l({col:t.col,row:t.row},t.normalizeValue))}})),e.listen(a.DG_EVENT_TYPE.DBLCLICK_CELL,(function(e){u(e.col,e.row)&&r({col:e.col,row:e.row})})),e.listen(a.DG_EVENT_TYPE.DBLTAP_CELL,(function(e){u(e.col,e.row)&&(r({col:e.col,row:e.row}),o.event.cancel(e.event))})),e.listen(a.DG_EVENT_TYPE.KEYDOWN,(function(t){if(113===t.keyCode||13===t.keyCode){var n=e.selection.select;u(n.col,n.row)&&r({col:n.col,row:n.row})&&t.stopCellMoving()}})),e.listen(a.DG_EVENT_TYPE.SELECTED_CELL,(function(t){n.onChangeSelectCellInternal(e,{col:t.col,row:t.row},t.selected)})),e.listen(a.DG_EVENT_TYPE.SCROLL,(function(){n.onGridScrollInternal(e)})),e.listen(a.DG_EVENT_TYPE.EDITABLEINPUT_CELL,(function(t){return!!u(t.col,t.row)&&!i.isReadOnlyRecord(n.readOnly,e,t.row)&&!i.isDisabledRecord(n.disabled,e,t.row)})),e.listen(a.DG_EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL,(function(t){if(u(t.col,t.row)&&!i.isReadOnlyRecord(n.readOnly,e,t.row)&&!i.isDisabledRecord(n.disabled,e,t.row)){var o=e.getCellRange(t.col,t.row);if(o.start.col!==o.end.col||o.start.row!==o.end.row){var r=t.input,l=e.getCellRect(t.col,t.row),a=e.getCellRangeRect(o);r.style.top="".concat((parseFloat(r.style.top)+(a.top-l.top)).toFixed(),"px"),r.style.left="".concat((parseFloat(r.style.left)+(a.left-l.left)).toFixed(),"px"),r.style.width="".concat(a.width.toFixed(),"px"),r.style.height="".concat(a.height.toFixed(),"px")}n.onSetInputAttrsInternal(e,{col:t.col,row:t.row},t.input)}}))]}},{key:"onPasteCellRangeBox",value:function(e,t,n){i.isReadOnlyRecord(this.readOnly,e,t.row)||i.isDisabledRecord(this.disabled,e,t.row)||e.doChangeValue(t.col,t.row,(function(){return n}))}},{key:"onDeleteCellRangeBox",value:function(e,t){i.isReadOnlyRecord(this.readOnly,e,t.row)||i.isDisabledRecord(this.disabled,e,t.row)||e.doChangeValue(t.col,t.row,(function(){return""}))}}]),n}(u.Editor);t.BaseInputEditor=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(2);t.setInputValue=function(e,t){if("number"===e.type&&"-"===t){e.type="";var n=new o.EventHandler,r=function(){n&&(n.dispose(),n=null)};n.once(e,"input",(function(t){e.type="number",r()})),n.once(e,"blur",(function(e){r()}))}e.value=null!=t?t:""}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(89);t.BranchGraphColumn=o.BranchGraphColumn;var r=n(91);t.ButtonColumn=r.ButtonColumn;var i=n(92);t.CheckColumn=i.CheckColumn;var l=n(12);t.Column=l.Column;var a=n(93);t.IconColumn=a.IconColumn;var u=n(94);t.ImageColumn=u.ImageColumn;var c=n(96);t.MenuColumn=c.MenuColumn;var s=n(97);t.MultilineTextColumn=s.MultilineTextColumn;var f=n(98);t.NumberColumn=f.NumberColumn;var h=n(99);t.PercentCompleteBarColumn=h.PercentCompleteBarColumn;var d=n(100);t.RadioColumn=d.RadioColumn;var v={DEFAULT:new l.Column,NUMBER:new f.NumberColumn,CHECK:new i.CheckColumn,RADIO:new d.RadioColumn,BUTTON:new r.ButtonColumn,IMAGE:new u.ImageColumn,MULTILINETEXT:new s.MultilineTextColumn};t.of=function e(t){if(t){if("string"==typeof t){var n=t.toUpperCase();return v[n]||e(null)}return t}return v.DEFAULT}},function(e,t,n){var o;function i(e){var t=e.textAlign,n=void 0===t?"center":t;return e.textAlign=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){r(n,e);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,n),e=t.call(this,i(o));var r=o.buttonBgColor;return e._buttonBgColor=r,e}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"buttonBgColor",get:function(){return this._buttonBgColor},set:function(e){this._buttonBgColor=e,this.doChangeStyle()}}],[{key:"DEFAULT",get:function(){return o||(o=new n)}}]),n}(n(6).Style);t.ButtonStyle=a},function(e,t,n){var o;function i(e){var t=e.textAlign,n=void 0===t?"center":t;return e.textAlign=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){r(n,e);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,n),e=t.call(this,i(o));var r=o.uncheckBgColor,l=o.checkBgColor,a=o.borderColor;return e._uncheckBgColor=r,e._checkBgColor=l,e._borderColor=a,e}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"uncheckBgColor",get:function(){return this._uncheckBgColor},set:function(e){this._uncheckBgColor=e,this.doChangeStyle()}},{key:"checkBgColor",get:function(){return this._checkBgColor},set:function(e){this._checkBgColor=e,this.doChangeStyle()}},{key:"borderColor",get:function(){return this._borderColor},set:function(e){this._borderColor=e,this.doChangeStyle()}}],[{key:"DEFAULT",get:function(){return o||(o=new n)}}]),n}(n(20).StdBaseStyle);t.CheckStyle=a},function(e,t,n){var o;function i(e){var t=e.textAlign,n=void 0===t?"center":t;return e.textAlign=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){r(n,e);var t=l(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),t.call(this,i(e))}return v(n,null,[{key:"DEFAULT",get:function(){return o||(o=new n)}}]),v(n,[{key:"clone",value:function(){return new n(this)}}]),n}(n(6).Style);t.IconStyle=a},function(e,t,n){var o;function i(e){var t=e.textAlign,n=void 0===t?"center":t;return e.textAlign=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){r(n,e);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(e=t.call(this,i(o)))._imageSizing=o.imageSizing,e._margin=o.margin||4,e}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"imageSizing",get:function(){return this._imageSizing},set:function(e){this._imageSizing=e,this.doChangeStyle()}},{key:"margin",get:function(){return this._margin},set:function(e){this._margin=e,this.doChangeStyle()}}],[{key:"DEFAULT",get:function(){return o||(o=new n)}}]),n}(n(20).StdBaseStyle);t.ImageStyle=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i=function(e){r(n,e);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,n),e=t.call(this,o);var r=o.appearance;return e._appearance=r,e}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"appearance",get:function(){return this._appearance||"menulist-button"},set:function(e){this._appearance=e,this.doChangeStyle()}}],[{key:"DEFAULT",get:function(){return o||(o=new n)}}]),n}(n(6).Style);t.MenuStyle=i},function(e,t,n){var o;function i(e){var t=e.textBaseline,n=void 0===t?"top":t;return e.textBaseline=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){r(n,e);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(e=t.call(this,i(o)))._lineHeight=o.lineHeight||"1em",e._autoWrapText=o.autoWrapText||!1,e._lineClamp=o.lineClamp,e}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(e){this._lineHeight=e,this.doChangeStyle()}},{key:"lineClamp",get:function(){return this._lineClamp},set:function(e){this._lineClamp=e,this.doChangeStyle()}},{key:"autoWrapText",get:function(){return this._autoWrapText},set:function(e){this._autoWrapText=e,this.doChangeStyle()}}],[{key:"DEFAULT",get:function(){return o||(o=new n)}}]),n}(n(6).Style);t.MultilineTextStyle=a},function(e,t,n){var o;function i(e){var t=e.textAlign,n=void 0===t?"right":t;return e.textAlign=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){r(n,e);var t=l(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),t.call(this,i(e))}return v(n,null,[{key:"DEFAULT",get:function(){return o||(o=new n)}}]),v(n,[{key:"clone",value:function(){return new n(this)}}]),n}(n(6).Style);t.NumberStyle=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(6),a=function(e){return e>80?"#20a8d8":e>50?"#4dbd74":e>20?"#ffc107":"#f86c6b"},u=function(e){r(n,e);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(e=t.call(this,o))._barColor=o.barColor||a,e._barBgColor=o.barBgColor||"#f0f3f5",e._barHeight=o.barHeight||3,e}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"barColor",get:function(){return this._barColor},set:function(e){this._barColor=e,this.doChangeStyle()}},{key:"barBgColor",get:function(){return this._barBgColor},set:function(e){this._barBgColor=e,this.doChangeStyle()}},{key:"barHeight",get:function(){return this._barHeight},set:function(e){this._barHeight=e,this.doChangeStyle()}}],[{key:"DEFAULT",get:function(){return o||(o=new n)}}]),n}(i.Style);t.PercentCompleteBarStyle=u},function(e,t,n){var o;function i(e){var t=e.textAlign,n=void 0===t?"center":t;return e.textAlign=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){r(n,e);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,n),e=t.call(this,i(o));var r=o.checkColor,l=o.uncheckBorderColor,a=o.checkBorderColor,u=o.uncheckBgColor,c=o.checkBgColor;return e._checkColor=r,e._uncheckBorderColor=l,e._checkBorderColor=a,e._uncheckBgColor=u,e._checkBgColor=c,e}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"checkColor",get:function(){return this._checkColor},set:function(e){this._checkColor=e,this.doChangeStyle()}},{key:"uncheckBorderColor",get:function(){return this._uncheckBorderColor},set:function(e){this._uncheckBorderColor=e,this.doChangeStyle()}},{key:"checkBorderColor",get:function(){return this._checkBorderColor},set:function(e){this._checkBorderColor=e,this.doChangeStyle()}},{key:"uncheckBgColor",get:function(){return this._uncheckBgColor},set:function(e){this._uncheckBgColor=e,this.doChangeStyle()}},{key:"checkBgColor",get:function(){return this._checkBgColor},set:function(e){this._checkBgColor=e,this.doChangeStyle()}}],[{key:"DEFAULT",get:function(){return o||(o=new n)}}]),n}(n(20).StdBaseStyle);t.RadioStyle=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(95),r=n(0),i={};function l(e){if("undefined"==typeof Promise)return console.error("Promise is not loaded. load Promise before this process."),{then:function(){return this}};var t=new Image,n=new Promise((function(e){t.onload=function(){e(t)}}));return t.onerror=function(){var t=e.length>200?"".concat(e.substr(0,200),"..."):e;throw console.warn("cannot load: ".concat(t)),new Error("IMAGE LOAD ERROR: ".concat(t))},t.src=e,n}t.loadImage=l,t.getCacheOrLoad=function(e,t,n){return function(e,t){return r.then(t,(function(t){var n=e.get(t);if(n)return n;var o=l(t).then((function(n){return e.put(t,n),n}));return e.put(t,o),o}))}(i[e]||(i[e]=new o.LRUCache(t)),n)}},function(e,t,n){function o(e){if(!e)return[];if(Array.isArray(e))return e.map((function(e){return function(e,t){var n={};for(var o in e)n[o]=e[o];for(var r in t)n[r]=t[r];return n}(e,{label:e.caption||e.label})}));if("string"==typeof e)return o(JSON.parse(e));var t=[];for(var n in e)t.push({value:n,label:e[n]});return t}Object.defineProperty(t,"__esModule",{value:!0}),t.normalize=o,t.normalizeToFn=function(e){return"function"==typeof e?function(t){return o(e(t))}:function(){return o(e)}}},function(t,o,i){var a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(o,"__esModule",{value:!0});var s=a(i(29)),f=a(i(107)),d=a(i(57)),g=i(0),p=i(3),y=i(2),_=i(19),m=i(110),C=i(22),w=i(111),b=i(8),k=i(1),E=i(58),x=g.event,R=x.isTouchEvent,S=x.getMouseButtons,I=x.getKeyCode,T=x.cancel,L=k.getProtectedSymbol();function O(){var e=document.createElement("div");return e.classList.add("cheetah-grid"),e}function M(e){navigator.vibrate&&R(e)&&navigator.vibrate(50)}function B(e){var t=this,n=this.getTargetRowAtInternal(e);if(g.isDef(n))return n;var o=Math.min(Math.ceil(e/this[L].defaultRowHeight),this.rowCount-1),r=te.call(this,0,o);return e>=r?function(n,o){for(var r=o-ee.call(t,n),i=t[L].rowCount,l=n;l<i;l++){var a=r+ee.call(t,l);if(r<=e&&e<a)return{top:r,row:l};r=a}return null}(o,r):function(n,o){for(var r=o,i=n;i>=0;i--){var l=r-ee.call(t,i);if(l<=e&&e<r)return{top:l,row:i};r=l}return null}(o,r)}function P(e,t){for(var n=0,o=e[L].colCount,r=0;r<o;r++){var i=n+Z(e,r);if(i>t)return{left:n,col:r};n=i}return null}function D(e,t){if(!e[L].frozenRowCount)return null;for(var n=e[L].scroll.top,o=e[L].frozenRowCount,r=0;r<o;r++){var i=n+ee.call(e,r);if(i>t)return{top:n,row:r};n=i}return null}function A(e,t){if(!e[L].frozenColCount)return null;for(var n=e[L].scroll.left,o=e[L].frozenColCount,r=0;r<o;r++){var i=n+Z(e,r);if(i>t)return{left:n,col:r};n=i}return null}function j(e){if(!e[L].frozenRowCount)return null;for(var t=e[L].scroll.top,n=0,o=e[L].frozenRowCount,r=0;r<o;r++)n+=ee.call(e,r);return new C.Rect(e[L].scroll.left,t,e[L].canvas.width,n)}function F(e){if(!e[L].frozenColCount)return null;for(var t=e[L].scroll.left,n=0,o=e[L].frozenColCount,r=0;r<o;r++)n+=Z(e,r);return new C.Rect(t,e[L].scroll.top,n,e[L].canvas.height)}function N(e,t,n,o,r,i,l,a,u,c,s){var f=this,h=new C.Rect(n-a.left,i-a.top,o,l),d=C.Rect.bounds(Math.max(n,c)-a.left,Math.max(i,u)-a.top,h.right,h.bottom);if(d.height>0&&d.width>0){e.save();try{var v=function(e,t,n){return e[L].drawCells[n]?e[L].drawCells[n][t]:null}(this,t,r);v&&v.cancel();var p=new me(t,r,e,h,d,!!v,this[L].selection,s),y=this.onDrawCell(t,r,p);if(g.isPromise(y)){!function(e,t,n,o){e[L].drawCells[n]||(e[L].drawCells[n]={}),e[L].drawCells[n][t]=o}(this,t,r,p);var _=t;p._delayMode(this,(function(){!function(e,t,n){e[L].drawCells[n]&&(delete e[L].drawCells[n][t],0===Object.keys(e[L].drawCells[n]).length&&delete e[L].drawCells[n])}(f,_,r)})),y.then((function(){p.terminate()}))}}finally{e.restore()}}}function V(e,t,n,o,r,i,l,a,u,c,s){var f=e[L].colCount,h=function(n,o){if(n>=f-1&&e[L].canvas.width>o-u.left){var r=o-u.left;t.save(),t.beginPath(),t.fillStyle=e.underlayBackgroundColor||"#F6F6F6",t.rect(r,l-u.top,e[L].canvas.width-r,a),t.fill(),t.restore()}},d=0;if(n){for(var v=n.left,g=e[L].frozenColCount,p=n.col;p<g;p++){var y=Z(e,p);if(N.call(e,t,p,v,y,i,l,a,u,c,0,s),r<=(v+=y))return void h(p,v)}d=v}for(var _=o.left,m=o.col;m<f;m++){var C=Z(e,m);if(N.call(e,t,m,_,C,i,l,a,u,c,d,s),r<=(_+=C))return void h(m,_)}h(f-1,_)}function H(){return this._getInitContext()}function W(e,t){var n=ce(e),o=e[L].rowCount,r=H.call(e),i=B.call(e,Math.max(n.top,t.top))||{top:te.call(e,0,o-1),row:o},l=P(e,Math.max(n.left,t.left))||{left:J(e,0,e[L].colCount-1),col:e[L].colCount},a=Math.min(n.bottom,t.bottom),u=Math.min(n.right,t.right),c=D(e,Math.max(n.top,t.top)),s=A(e,Math.max(n.left,t.left)),f=new ye,h=function(t,i){if(t>=o-1&&e[L].canvas.height>i-n.top){var l=i-n.top;r.save(),r.beginPath(),r.fillStyle=e.underlayBackgroundColor||"#F6F6F6",r.rect(0,l,e[L].canvas.width,e[L].canvas.height-l),r.fill(),r.restore()}},d=0;if(c){for(var v=c.top,g=e[L].frozenRowCount,p=c.row;p<g;p++){var y=ee.call(e,p);if(V(e,r,s,l,u,p,v,y,n,0,f),a<=(v+=y))return h(p,v),void f.draw(r)}d=v}for(var _=i.top,m=i.row;m<o;m++){var C=ee.call(e,m);if(V(e,r,s,l,u,m,_,C,n,d,f),a<=(_+=C))return h(m,_),void f.draw(r)}h(o-1,_),f.draw(r)}function z(e,t){return Math.round(s.toPx(t,e[L].calcWidthContext))}function G(e,t,n){var o=K(e,t);return Math.max(U(o,n),0)}function U(e,t){return e?e.min&&e.min>t?e.min:e.max&&e.max<t?e.max:t:t}function Y(e,t){var n=e[L].colWidthsMap.get(t);return n||e.defaultColWidth}function K(e,t){var n=e[L].colWidthsLimit[t];if(!n)return null;var o={};return n.min&&(o.min=z(e,n.min),o.minDef=n.min),n.max&&(o.max=z(e,n.max),o.maxDef=n.max),o}function q(e){return Boolean(e&&"string"==typeof e&&"auto"===e.toLowerCase())}function X(e){for(var t=[],n=0,o=[],r=0;r<e[L].colCount;r++){var i=Y(e,r),l=K(e,r);if(q(i))l&&o.push(l),n++;else{var a="number"==typeof i?"".concat(i,"px"):i;if(l){var u=z(e,a),c=U(l,u);u!==c&&(a="".concat(c,"px"))}t.push(a)}}if(o.length&&t.length){for(var s=z(e,"calc(100% - (".concat(t.join(" + "),"))"))/n,f=0;f<o.length;f++){var h=o[f];h.min&&s<h.min?(t.push("number"==typeof h.minDef?"".concat(h.minDef,"px"):h.minDef),n--):h.max&&h.max<s&&(t.push("number"==typeof h.maxDef?"".concat(h.maxDef,"px"):h.maxDef),n--)}if(n<=0)return"".concat(s,"px")}return t.length?"calc((100% - (".concat(t.join(" + "),")) / ").concat(n,")"):"".concat(100/n,"%")}function $(e,t){return q(t)?z(e,X(e)):z(e,t)}function Z(e,t){return G(e,t,$(e,Y(e,t)))}function Q(e,t,n){e[L].colWidthsMap.put(t,n)}function J(e,t,n){var o=$(e,e.defaultColWidth),r=o*(n-t+1);e[L].colWidthsMap.each(t,n,(function(t,n){r+=G(e,n,$(e,t))-o}));for(var i=t;i<=n;i++)if(!e[L].colWidthsMap.has(i)){var l=G(e,i,o);l!==o&&(r+=l-o)}return r}function ee(e){var t=this.getRowHeightInternal(e);if(g.isDef(t))return t;var n=this[L].rowHeightsMap.get(e);return n||this[L].defaultRowHeight}function te(e,t){var n=this,o=this.getRowsHeightInternal(e,t);if(g.isDef(o))return o;var r=t-e+1,i=this[L].defaultRowHeight*r;return this[L].rowHeightsMap.each(e,t,(function(e){i+=e-n[L].defaultRowHeight})),i}function ne(e){var t=this,n=this.getScrollHeightInternal(e);if(g.isDef(n))return n;var o=this[L].defaultRowHeight*this[L].rowCount;return this[L].rowHeightsMap.each(0,this[L].rowCount-1,(function(e){o+=e-t[L].defaultRowHeight})),o}function oe(e){var t,n,o,r=e.shiftKey,i=I(e),l=r?this.selection.focus:this.selection.select;if(37===i){if(e.ctrlKey||e.metaKey)f(this,null,"W");else if(!d.call(this,"W"))return;T(e)}else if(38===i){if(e.ctrlKey||e.metaKey)f(this,"N",null);else if(!h.call(this,"N"))return;T(e)}else if(39===i){if(e.ctrlKey||e.metaKey)f(this,null,"E");else if(!d.call(this,"E"))return;T(e)}else if(40===i){if(e.ctrlKey||e.metaKey)f(this,"S",null);else if(!h.call(this,"S"))return;T(e)}else if(36===i)e.ctrlKey||e.metaKey?f(this,"N","W"):f(this,null,"W"),T(e);else if(35===i)e.ctrlKey||e.metaKey?f(this,"S","E"):f(this,null,"E"),T(e);else if((null===(t=this.keyboardOptions)||void 0===t?void 0:t.moveCellOnTab)&&9===i){if(r){if(!d.call(this,"W",!1)){var a=this.getMoveUpRowByKeyDownInternal(l);if(0>a)return;re.call(this,this.colCount-1,a,!1)}}else if(!d.call(this,"E",!1)){var u=this.getMoveDownRowByKeyDownInternal(l);if(this.rowCount<=u)return;re.call(this,0,u,!1)}T(e)}else if((null===(n=this.keyboardOptions)||void 0===n?void 0:n.moveCellOnEnter)&&13===i){if(r){if(!h.call(this,"N",!1)){var c=this.getMoveLeftColByKeyDownInternal(l);if(0>c)return;re.call(this,c,this.rowCount-1,!1)}}else if(!h.call(this,"S",!1)){var s=this.getMoveRightColByKeyDownInternal(l);if(this.colCount<=s)return;re.call(this,s,Math.min(this.frozenRowCount,this.rowCount-1),!1)}T(e)}else(null===(o=this.keyboardOptions)||void 0===o?void 0:o.selectAllOnCtrlA)&&65===i&&(e.ctrlKey||e.metaKey)&&(this.selection.range={start:{col:0,row:0},end:{col:this.colCount-1,row:this.rowCount-1}},this.invalidate(),T(e));function f(e,t,n){var o="S"===t?e.rowCount-1:"N"===t?0:l.row,i="E"===n?e.colCount-1:"W"===n?0:l.col;re.call(e,i,o,r)}function h(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;if("S"===e){if(t=this.getMoveDownRowByKeyDownInternal(l),this.rowCount<=t)return!1}else if((t=this.getMoveUpRowByKeyDownInternal(l))<0)return!1;var o=l.col;return re.call(this,o,t,n),!0}function d(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;if("E"===e){if(t=this.getMoveRightColByKeyDownInternal(l),this.colCount<=t)return!1}else if((t=this.getMoveLeftColByKeyDownInternal(l))<0)return!1;var o=l.row;return re.call(this,t,o,n),!0}}function re(e,t,n){var o=this.getOffsetInvalidateCells();function r(e){return o>0&&(e.start.col-=o,e.start.row-=o,e.end.col+=o,e.end.row+=o),e}var i=r(this.selection.range),l=this.getCellRangeRect(i);this.selection._setFocusCell(e,t,n),this.makeVisibleCell(e,t),this.focusCell(e,t);var a=r(this.selection.range),u=this.getCellRangeRect(a);u.intersection(l)?W(this,C.Rect.max(u,l)):(W(this,l),W(this,u))}function ie(){var e=this[L].focusControl,t=this[L].selection.select,n=t.col,o=t.row,r=this.fireListeners(p.DG_EVENT_TYPE.EDITABLEINPUT_CELL,{col:n,row:o}),i=g.array.findIndex(r,(function(e){return!!e}))>=0;e.editMode=i,i&&(e.storeInputStatus(),e.setDefaultInputStatus(),this.fireListeners(p.DG_EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL,{col:n,row:o,input:e.input}))}function le(t,n){var o,r=(o=R(n)?n.changedTouches[0]:n).clientX||o.pageX+e.scrollX,i=o.clientY||o.pageY+e.scrollY,l=t[L].canvas.getBoundingClientRect();return l.right<=r||l.bottom<=i?null:{x:r-l.left+t[L].scroll.left,y:i-l.top+t[L].scroll.top}}function ae(){var e=this,t=e[L],n=t.handler,o=t.element,r=t.scrollable,i=function(t){var n=le(e,t);if(!n)return{};var o=e.getCellAt(n.x,n.y);return o.col<0||o.row<0?{abstractPos:n,cell:o}:{abstractPos:n,cell:o,eventArgs:{col:o.col,row:o.row,event:t}}},l=function(t){if(e[L].disableColumnResize)return!1;var n=e[L].colWidthsLimit[t];return!(n&&n.min&&n.max)||n.max!==n.min};n.on(o,"mousedown",(function(t){var n=i(t),o=n.abstractPos,r=n.eventArgs;if(o){if(r){var a=e.fireListeners(p.DG_EVENT_TYPE.MOUSEDOWN_CELL,r);if(g.array.findIndex(a,(function(e){return!e}))>=0)return}if(1===S(t)){var u=ue(e,o.x,o.y);u>=0&&l(u)?e[L].columnResizer.start(u,t):e[L].cellSelector.start(t)}}})),n.on(o,"mouseup",(function(t){if(e.hasListeners(p.DG_EVENT_TYPE.MOUSEUP_CELL)){var n=i(t).eventArgs;n&&e.fireListeners(p.DG_EVENT_TYPE.MOUSEUP_CELL,n)}}));var a=null,u=null;function c(e){u&&(clearTimeout(u),u=null)}n.on(o,"touchstart",(function(t){if(a){var n=i(t).eventArgs;if(n&&n.col===a.col&&n.row===a.row&&e.fireListeners(p.DG_EVENT_TYPE.DBLTAP_CELL,n),a=null,t.defaultPrevented)return}else a=i(t).eventArgs,setTimeout((function(){a=null}),350);u=setTimeout((function(){u=null;var n=le(e,t);if(n){var o=ue(e,n.x,n.y,15);o>=0&&l(o)?e[L].columnResizer.start(o,t):e[L].cellSelector.start(t)}}),500)})),n.on(o,"touchcancel",c),n.on(o,"touchmove",c),n.on(o,"touchend",(function(t){u&&(clearTimeout(u),e[L].cellSelector.select(t),u=null)}));var s=!1,f=null,h=null;function d(t,n){e.fireListeners(p.DG_EVENT_TYPE.MOUSEENTER_CELL,{col:t.col,row:t.row,related:n}),f=t}function v(t){var n=f;return f=null,n&&e.fireListeners(p.DG_EVENT_TYPE.MOUSELEAVE_CELL,{col:n.col,row:n.row,related:t}),n||void 0}function y(t,n){e.fireListeners(p.DG_EVENT_TYPE.MOUSEOVER_CELL,{col:t.col,row:t.row,related:n}),h=t}function _(t){var n=h;return h=null,n&&e.fireListeners(p.DG_EVENT_TYPE.MOUSEOUT_CELL,{col:n.col,row:n.row,related:t}),n||void 0}var m=r.getElement();n.on(m,"mouseover",(function(e){s=!0})),n.on(m,"mouseout",(function(e){s=!1,_()})),n.on(o,"mouseleave",(function(e){v()})),n.on(o,"mousemove",(function(t){var n=i(t),r=n.abstractPos,a=n.eventArgs;if(a){var u=f;if(u)if(e.fireListeners(p.DG_EVENT_TYPE.MOUSEMOVE_CELL,a),u.col!==a.col||u.row!==a.row){var c={col:a.col,row:a.row},g=_(c);d(c,v(c)),s&&y(c,g)}else s&&!h&&y({col:a.col,row:a.row});else{var m={col:a.col,row:a.row};d(m),s&&y(m),e.fireListeners(p.DG_EVENT_TYPE.MOUSEMOVE_CELL,a)}}else _(),v();if(!e[L].columnResizer.moving(t)&&!e[L].cellSelector.moving(t)){var C=o.style;if(r){var w=ue(e,r.x,r.y);w>=0&&l(w)?C.cursor="col-resize":"col-resize"===C.cursor&&(C.cursor="")}else"col-resize"===C.cursor&&(C.cursor="")}})),n.on(o,"click",(function(t){if(!e[L].columnResizer.lastMoving(t)&&!e[L].cellSelector.lastMoving(t)&&e.hasListeners(p.DG_EVENT_TYPE.CLICK_CELL)){var n=i(t).eventArgs;n&&e.fireListeners(p.DG_EVENT_TYPE.CLICK_CELL,n)}})),n.on(o,"contextmenu",(function(t){if(e.hasListeners(p.DG_EVENT_TYPE.CONTEXTMENU_CELL)){var n=i(t).eventArgs;n&&e.fireListeners(p.DG_EVENT_TYPE.CONTEXTMENU_CELL,n)}})),n.on(o,"dblclick",(function(t){if(e.hasListeners(p.DG_EVENT_TYPE.DBLCLICK_CELL)){var n=i(t).eventArgs;n&&e.fireListeners(p.DG_EVENT_TYPE.DBLCLICK_CELL,n)}})),e[L].focusControl.onKeyDown((function(t){e.fireListeners(p.DG_EVENT_TYPE.KEYDOWN,t)})),e[L].selection.listen(p.DG_EVENT_TYPE.SELECTED_CELL,(function(t){e.fireListeners(p.DG_EVENT_TYPE.SELECTED_CELL,t,t.selected)})),r.onScroll((function(t){!function(e,t){var n=e[L].scroll.left,o=e[L].scroll.top,r=e[L].scrollable.scrollLeft-n,i=e[L].scrollable.scrollTop-o;e[L].scroll={left:e[L].scrollable.scrollLeft,top:e[L].scrollable.scrollTop};var l=ce(e);if(Math.abs(r)>=l.width||Math.abs(i)>=l.height)W(e,l);else{if(e[L].context.drawImage(e[L].canvas,-r,-i),0!==r){var a=l.copy();if(r<0){if(a.width=-r,e[L].frozenColCount>0){var u=F(e);a.width+=u.width}}else r>0&&(a.left=a.right-r);W(e,a),r>0&&e[L].frozenColCount>0&&W(e,F(e))}if(0!==i){var c=l.copy();if(i<0){if(c.height=-i,e[L].frozenRowCount>0){var s=j(e);c.height+=s.height}}else i>0&&(c.top=c.bottom-i);W(e,c),i>0&&e[L].frozenRowCount>0&&W(e,j(e))}}}(e),e.fireListeners(p.DG_EVENT_TYPE.SCROLL,{event:t})})),e[L].focusControl.onKeyDownMove((function(t){oe.call(e,t)})),e.listen("copydata",(function(t){for(var n=e.getCopyRangeInternal(t),o="",r=n.start.row;r<=n.end.row;r++){for(var i=n.start.col;i<=n.end.col;i++){var l=e.getCopyCellValue(i,r,n);if("undefined"!=typeof Promise&&l instanceof Promise);else{var a="".concat(l);/^\[object .*\]$/.exec(a)||(o+=a)}i<n.end.col&&(o+="\t")}o+="\n"}return o})),e[L].focusControl.onCopy((function(t){return g.array.find(e.fireListeners("copydata",e[L].selection.range),g.isDef)})),e[L].focusControl.onPaste((function(t){var n=t.value,o=t.event,r=n.replace(/\r?\n$/,""),i=e[L].selection.select,l=i.col,a=i.row,u=/[\r\n\u2028\u2029\t]/.test(r),c=null,s={col:l,row:a,value:n,normalizeValue:r,multi:u,get rangeBoxValues(){return null!=c?c:c=E.parsePasteRangeBoxValues(r)},event:o};e.fireListeners(p.DG_EVENT_TYPE.PASTE_CELL,s)})),e[L].focusControl.onInput((function(t){var n=e[L].selection.select,o=n.col,r=n.row;e.fireListeners(p.DG_EVENT_TYPE.INPUT_CELL,{col:o,row:r,value:t})})),e[L].focusControl.onDelete((function(t){var n=e[L].selection.select,o=n.col,r=n.row;e.fireListeners(p.DG_EVENT_TYPE.DELETE_CELL,{col:o,row:r,event:t})})),e[L].focusControl.onFocus((function(t){e.fireListeners(p.DG_EVENT_TYPE.FOCUS_GRID,t),e[L].focusedGrid=!0;var n=e[L].selection.select,o=n.col,r=n.row;e.invalidateCell(o,r)})),e[L].focusControl.onBlur((function(t){e.fireListeners(p.DG_EVENT_TYPE.BLUR_GRID,t),e[L].focusedGrid=!1;var n=e[L].selection.select,o=n.col,r=n.row;e.invalidateCell(o,r)}))}function ue(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;if(e[L].frozenRowCount<=0)return-1;var r=j(e);if(!r.inPoint(t,n))return-1;var i=e.getCellAt(t,n),l=e.getCellRect(i.col,i.row);return t<l.left+o?i.col-1:l.right-o<t?i.col:-1}function ce(e){var t=e[L],n=t.scroll,o=n.left,r=n.top,i=t.canvas,l=i.width,a=i.height;return new C.Rect(o,r,l,a)}function se(e,t){var n=t.copy(),o=ce(e);return n.offsetLeft(-o.left),n.offsetTop(-o.top),n}var fe=function(){function e(t){h(this,e),this._grid=t,this._handler=new y.EventHandler,this._events={},this._started=!1,this._moved=!1}return v(e,[{key:"moving",value:function(e){return!!this._started}},{key:"lastMoving",value:function(e){if(this.moving(e))return!0;var t=this._mouseEndPoint;if(!t)return!1;var n=le(this._grid,e);return null!=n&&n.x===t.x&&n.y===t.y}},{key:"_bindMoveAndUp",value:function(e){var t=this,n=this._events,o=this._handler;R(e)?(n.touchmove=o.on(document.body,"touchmove",(function(e){return t._mouseMove(e)}),{passive:!1}),n.touchend=o.on(document.body,"touchend",(function(e){return t._mouseUp(e)})),n.touchcancel=o.on(document.body,"touchcancel",(function(e){return t._mouseUp(e)}))):(n.mousemove=o.on(document.body,"mousemove",(function(e){return t._mouseMove(e)})),n.mouseup=o.on(document.body,"mouseup",(function(e){return t._mouseUp(e)}))),this._started=!0,this._moved=!1}},{key:"_mouseMove",value:function(e){R(e)||1===S(e)?(this._moved=this._moveInternal(e)||this._moved,T(e)):this._mouseUp(e)}},{key:"_moveInternal",value:function(e){return!1}},{key:"_mouseUp",value:function(e){var t=this,n=this._events,o=this._handler;o.off(n.mousemove),o.off(n.touchmove),o.off(n.mouseup),o.off(n.touchend),o.off(n.touchcancel),this._started=!1,this._upInternal(e),this._moved&&(this._mouseEndPoint=le(this._grid,e),setTimeout((function(){t._mouseEndPoint=null}),10))}},{key:"_upInternal",value:function(e){}},{key:"dispose",value:function(){this._handler.dispose()}}]),e}(),he=function(e){r(n,e);var t=l(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"start",value:function(e){var t=this._getTargetCell(e);t&&(re.call(this._grid,t.col,t.row,e.shiftKey),this._bindMoveAndUp(e),this._cell=t,T(e),M(e))}},{key:"select",value:function(e){var t=this._getTargetCell(e);t&&(re.call(this._grid,t.col,t.row,e.shiftKey),this._cell=t)}},{key:"_moveInternal",value:function(e){var t=this._getTargetCell(e);if(!t)return!1;var n=this._cell,o=n.col,r=n.row,i=t.col,l=t.row;if(o===i&&r===l)return!1;var a=this._grid;re.call(a,i,l,!0);var u=i<o&&0<i?i-1:o<i&&i+1<a.colCount?i+1:i,c=l<r&&0<l?l-1:r<l&&l+1<a.rowCount?l+1:l;return u===i&&c===l||a.makeVisibleCell(u,c),this._cell=t,!0}},{key:"_getTargetCell",value:function(e){var t=this._grid,n=le(t,e);if(!n)return null;var o=t.getCellAt(n.x,n.y);return o.col<0||o.row<0?null:o}}]),n}(fe),de=function(e){r(n,e);var t=l(n);function n(e){var o;return h(this,n),(o=t.call(this,e))._x=-1,o._preX=-1,o._invalidateAbsoluteLeft=-1,o._targetCol=-1,o}return v(n,[{key:"start",value:function(e,t){var n;n=R(t)?t.changedTouches[0].pageX:t.pageX,this._x=n,this._preX=0,this._bindMoveAndUp(t),this._targetCol=e,this._invalidateAbsoluteLeft=J(this._grid,0,e-1),T(t),M(t)}},{key:"_moveInternal",value:function(e){var t=(R(e)?e.changedTouches[0].pageX:e.pageX)-this._x,n=t-this._preX;this._preX=t;var o=this._grid.getColWidth(this._targetCol),r=G(this._grid,this._targetCol,o+n);r<10&&n<0&&(r=10),function(e){for(var t=null,n=0;n<e[L].colCount;n++)q(Y(e,n))&&Q(e,n,t||(t=X(e)))}(this._grid),Q(this._grid,this._targetCol,r);var i=ce(this._grid);return i.left=this._invalidateAbsoluteLeft,W(this._grid,i),this._grid.fireListeners(p.DG_EVENT_TYPE.RESIZE_COLUMN,{col:this._targetCol}),!0}},{key:"_upInternal",value:function(e){var t=this._grid;t.updateScroll()&&t.invalidate()}}]),n}(fe);function ve(e,t){var n=e.type;e.type="",e.value=t,n&&(e.type=n)}var ge=function(t){r(i,t);var o=l(i);function i(t,n,r){var l;h(this,i),(l=o.call(this))._grid=t,l._scrollable=r;var a,u=l._handler=new y.EventHandler,c=l._input=document.createElement("input");c.classList.add("grid-focus-control"),c.readOnly=!0,n.appendChild(c),u.on(c,"compositionstart",(function(e){c.classList.add("composition"),c.style.font=t.font||"16px sans-serif",l._isComposition=!0,l._compositionEnd&&(clearTimeout(l._compositionEnd),delete l._compositionEnd),t.focus()}));var s=function(){a=c.value,l._isComposition||""!==a&&ve(c,"")},f=function(){l._isComposition=!1,c.classList.remove("composition"),c.style.font="";var e=c.value;s(),c.readOnly||l.fireListeners("input",e),l._compositionEnd&&(clearTimeout(l._compositionEnd),delete l._compositionEnd)};return u.on(c,"compositionend",(function(e){l._compositionEnd=setTimeout(f,1)})),u.on(c,"keypress",(function(e){if(!l._isComposition){if(!c.readOnly&&e.key&&1===e.key.length)if(e.ctrlKey||e.metaKey)"c"===e.key||e.key;else{if(" "===e.key)return;l.fireListeners("input",e.key),T(e)}s()}})),u.on(c,"keydown",(function(e){var t;if(l._isComposition)l._compositionEnd&&(f(),T(e));else{var n=I(e),o=!1,r={keyCode:n,event:e,stopCellMoving:function(){o=!0}};l.fireListeners("keydown",r),!c.readOnly&&a&&l.fireListeners("input",a),o||l.fireKeyDownMove(n,e),!(null===(t=l._grid.keyboardOptions)||void 0===t?void 0:t.deleteCellValueOnDel)||46!==n&&8!==n||l.fireListeners("delete",e),s()}})),u.on(c,"keyup",(function(e){l._isComposition&&l._compositionEnd&&f(),s()})),u.on(c,"input",(function(e){" "!==e.data&&"ã€€"!==e.data||l.fireListeners("input",e.data),s()})),g.browser.IE&&u.on(document,"keydown",(function(e){if(e.target===c){var t=I(e);67===t&&e.ctrlKey?(ve(c,"dummy"),c.select(),setTimeout((function(){ve(c,"")}),100)):86===t&&e.ctrlKey&&c.readOnly&&(c.readOnly=!1,setTimeout((function(){c.readOnly=!0,ve(c,"")}),10))}})),g.browser.Edge&&u.once(document,"keydown",(function(e){var o;if(g.isDescendantElement(n,e.target)){var r=document.createElement("input");t.getElement().appendChild(r),r.focus(),c.focus(),null===(o=r.parentElement)||void 0===o||o.removeChild(r)}})),u.on(document,"paste",(function(t){if(g.isDescendantElement(n,t.target)){var o=void 0;if(g.browser.IE)o=e.clipboardData.getData("Text");else{var r=t.clipboardData;r.items?o=r.getData("text/plain"):-1!==Array.prototype.indexOf.call(r.types,"text/plain")&&(o=r.getData("Text"))}g.isDef(o)&&o.length&&l.fireListeners("paste",{value:o,event:t})}})),u.on(document,"copy",(function(t){if(!l._isComposition&&g.isDescendantElement(n,t.target)){ve(c,"");var o=g.array.find(l.fireListeners("copy"),g.isDef);g.isDef(o)&&(T(t),g.browser.IE?e.clipboardData.setData("Text",o):t.clipboardData.setData("text/plain",o))}})),u.on(c,"focus",(function(e){l.fireListeners("focus",e)})),u.on(c,"blur",(function(e){l.fireListeners("blur",e)})),l}return v(i,[{key:"fireKeyDownMove",value:function(e,t){var n,o,r,i=this._keyDownMoveCallback;i&&(this._isComposition||(37===e||38===e||39===e||40===e||36===e||35===e||(null===(n=this._grid.keyboardOptions)||void 0===n?void 0:n.moveCellOnTab)&&9===e||(null===(o=this._grid.keyboardOptions)||void 0===o?void 0:o.moveCellOnEnter)&&13===e||(null===(r=this._grid.keyboardOptions)||void 0===r?void 0:r.selectAllOnCtrlA)&&65===e&&(t.ctrlKey||t.metaKey))&&i(t))}},{key:"onKeyDownMove",value:function(e){this._keyDownMoveCallback=e}},{key:"onKeyDown",value:function(e){return this.listen("keydown",e)}},{key:"onInput",value:function(e){return this.listen("input",e)}},{key:"onDelete",value:function(e){return this.listen("delete",e)}},{key:"onCopy",value:function(e){return this.listen("copy",e)}},{key:"onPaste",value:function(e){return this.listen("paste",e)}},{key:"onFocus",value:function(e){return this.listen("focus",e)}},{key:"onBlur",value:function(e){return this.listen("blur",e)}},{key:"focus",value:function(){this._input.focus()}},{key:"setFocusRect",value:function(e){var t=this._input,n=this._scrollable.calcTop(e.top);t.style.top="".concat((n-d.getScrollBarSize()).toFixed(),"px"),t.style.left="".concat(e.left.toFixed(),"px"),t.style.width="".concat(e.width.toFixed(),"px"),t.style.height="".concat(e.height.toFixed(),"px")}},{key:"resetInputStatus",value:function(){var e,t=this._input;if(t.classList.contains("grid-focus-control--stored-status")){for(var n=t.classList.contains("composition"),o=t.attributes,r=[],i=0,l=o.length;i<l;i++){var a=o[i];(null===(e=this._inputStatus)||void 0===e?void 0:e.hasOwnProperty(a.nodeName))||r.push(a.name)}for(var u in r.forEach((function(e){t.removeAttribute(e)})),this._inputStatus)t.setAttribute(u,this._inputStatus[u]);n?(t.classList.add("composition"),t.style.font=this._grid.font||"16px sans-serif"):t.classList.remove("composition"),t.classList.remove("grid-focus-control--stored-status")}}},{key:"storeInputStatus",value:function(){var e=this._input;if(!e.classList.contains("grid-focus-control--stored-status")){for(var t=this._inputStatus={},n=e.attributes,o=0,r=n.length;o<r;o++){var i=n[o];t[i.name]=i.value}e.classList.add("grid-focus-control--stored-status")}}},{key:"setDefaultInputStatus",value:function(){}},{key:"dispose",value:function(){n(c(i.prototype),"dispose",this).call(this),this._handler.dispose()}},{key:"editMode",get:function(){return!this._input.readOnly},set:function(e){this._input.readOnly=!e}},{key:"input",get:function(){return this._input}}]),i}(_.EventTarget),pe=function(e){r(n,e);var t=l(n);function n(e){var o;return h(this,n),(o=t.call(this))._grid=e,o._sel={col:0,row:0},o._focus={col:0,row:0},o._start={col:0,row:0},o._end={col:0,row:0},o}return v(n,[{key:"_setSelectCell",value:function(e,t){var n=this;this._wrapFireSelectedEvent((function(){n._sel={col:e,row:t},n._start={col:e,row:t}}))}},{key:"_setFocusCell",value:function(e,t,n){var o=this;this._wrapFireSelectedEvent((function(){n||o._setSelectCell(e,t),o._focus={col:e,row:t},o._end={col:e,row:t}}))}},{key:"_wrapFireSelectedEvent",value:function(e){if(this._isWraped)e();else{this._isWraped=!0;try{var t={col:this._sel.col,row:this._sel.row,selected:!1};e();var n={col:this._sel.col,row:this._sel.row,selected:!0,before:{col:t.col,row:t.row}};t.after={col:n.col,row:n.row},this.fireListeners(p.DG_EVENT_TYPE.SELECTED_CELL,t),this.fireListeners(p.DG_EVENT_TYPE.SELECTED_CELL,n)}finally{this._isWraped=!1}}}},{key:"_updateGridRange",value:function(){for(var e=this._grid,t=e.rowCount,n=e.colCount,o=[this._sel,this._focus,this._start,this._end],r=!1,i=0;i<o.length;i++)if(n<=o[i].col||t<=o[i].row){r=!0;break}return!!r&&(this._wrapFireSelectedEvent((function(){o.forEach((function(e){e.col=Math.min(n-1,e.col),e.row=Math.min(t-1,e.row)}))})),!0)}},{key:"range",get:function(){var e=this._start,t=this._end;return{start:{col:Math.min(e.col,t.col),row:Math.min(e.row,t.row)},end:{col:Math.max(e.col,t.col),row:Math.max(e.row,t.row)}}},set:function(e){var t=this,n=Math.min(e.start.col,e.end.col),o=Math.min(e.start.row,e.end.row),r=Math.max(e.start.col,e.end.col),i=Math.max(e.start.row,e.end.row);this._wrapFireSelectedEvent((function(){t._sel={col:n,row:o},t._focus={col:n,row:o},t._start={col:n,row:o},t._end={col:r,row:i},ie.call(t._grid)}))}},{key:"focus",get:function(){var e=this._focus;return{col:e.col,row:e.row}}},{key:"select",get:function(){var e=this._sel;return{col:e.col,row:e.row}},set:function(e){var t=this;this._wrapFireSelectedEvent((function(){var n=e.col,o=void 0===n?0:n,r=e.row,i=void 0===r?0:r;t._setSelectCell(o,i),t._setFocusCell(o,i,!0),ie.call(t._grid)}))}}]),n}(_.EventTarget),ye=function(){function e(){h(this,e),this._layers={}}return v(e,[{key:"addDraw",value:function(e,t){(this._layers[e]||(this._layers[e]=new _e(e))).addDraw(t)}},{key:"draw",value:function(e){var t=[];for(var n in this._layers)t.push(this._layers[n]);t.sort((function(e,t){return e.level-t.level})),t.forEach((function(t){return t.draw(e)}))}}]),e}(),_e=function(){function e(t){h(this,e),this._level=t,this._list=[]}return v(e,[{key:"addDraw",value:function(e){this._list.push(e)}},{key:"draw",value:function(e){this._list.forEach((function(t){e.save();try{t(e)}finally{e.restore()}}))}},{key:"level",get:function(){return this._level}}]),e}(),me=function(){function e(t,n,o,r,i,l,a,u){h(this,e),this._rectFilter=null,this._col=t,this._row=n,this._mode=0,this._ctx=o,this._rect=r,this._drawRect=i,this._drawing=l,this._selection=a,this._drawLayers=u,this._childContexts=[]}return v(e,[{key:"cancel",value:function(){this._cancel=!0,this._childContexts.forEach((function(e){e.cancel()}))}},{key:"getSelection",value:function(){return{select:this._selection.select,range:this._selection.range}}},{key:"getContext",value:function(){return 0===this._mode?this._ctx:H.call(this._grid)}},{key:"getRect",value:function(){var e=this._rectFilter;return e?e(this._getRectInternal()):this._getRectInternal()}},{key:"setRectFilter",value:function(e){this._rectFilter=e}},{key:"getDrawRect",value:function(){if(this._cancel)return null;if(0===this._mode)return this._drawRect;if(this._isOutOfRange())return null;var e=this._grid.getCellRect(this._col,this._row);return this._toRelativeDrawRect(e)}},{key:"_isOutOfRange",value:function(){var e=this._grid,t=e.colCount,n=e.rowCount;return t<=this._col||n<=this._row}},{key:"toCurrentContext",value:function(){if(0===this._mode)return this;var t=this._grid.getCellRect(this._col,this._row),n=se(this._grid,t),o=this._isOutOfRange()?null:this._toRelativeDrawRect(t),r=new e(this._col,this._row,this.getContext(),n,o,this.drawing,this._selection,this._drawLayers);return r.toCurrentContext=this.toCurrentContext.bind(this),this._childContexts.push(r),this._cancel&&r.cancel(),r._rectFilter=this._rectFilter,r}},{key:"addLayerDraw",value:function(e,t){this._drawLayers.addDraw(e,t)}},{key:"_toRelativeDrawRect",value:function(e){var t=ce(this._grid),n=e.copy();if(!n.intersection(t))return null;var o=this._grid,r=o.isFrozenCell(this._col,this._row);if(o.frozenColCount>=0&&(!r||!r.col)){var i=o.getCellRect(o.frozenColCount-1,this._row);n=C.Rect.bounds(Math.max(n.left,i.right),n.top,n.right,n.bottom)}if(o.frozenRowCount>=0&&(!r||!r.row)){var l=o.getCellRect(this._col,o.frozenRowCount-1);n=C.Rect.bounds(n.left,Math.max(n.top,l.bottom),n.right,n.bottom)}return n.intersection(t)?(n.offsetLeft(-t.left),n.offsetTop(-t.top),n):null}},{key:"_delayMode",value:function(e,t){this._mode=1,this._ctx=null,this._rect=null,this._drawRect=null,this._grid=e,this._onTerminate=t}},{key:"terminate",value:function(){var e;0!==this._mode&&(null===(e=this._onTerminate)||void 0===e||e.call(this))}},{key:"_getRectInternal",value:function(){return 0===this._mode||this._rect?this._rect:this._grid.getCellRelativeRect(this._col,this._row)}},{key:"drawing",get:function(){return 0!==this._mode||this._drawing}},{key:"row",get:function(){return this._row}},{key:"col",get:function(){return this._col}}]),e}(),Ce=function(e){r(o,e);var t=l(o);function o(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,o),e=t.call(this);var r=n.rowCount,i=void 0===r?10:r,l=n.colCount,a=void 0===l?10:l,c=n.frozenColCount,s=void 0===c?0:c,v=n.frozenRowCount,g=void 0===v?0:v,p=n.defaultRowHeight,_=void 0===p?40:p,C=n.defaultColWidth,k=void 0===C?80:C,E=n.font,x=n.underlayBackgroundColor,R=n.keyboardOptions,S=n.parentElement,I=n.disableColumnResize,T=e[L]={};return d.initDocument(),T.element=O(),T.scrollable=new w.Scrollable,T.handler=new y.EventHandler,T.selection=new pe(u(e)),T.focusControl=new ge(u(e),T.scrollable.getElement(),T.scrollable),T.canvas=f.transform(document.createElement("canvas")),T.context=T.canvas.getContext("2d",{alpha:!1}),T.rowCount=i,T.colCount=a,T.frozenColCount=s,T.frozenRowCount=g,T.defaultRowHeight=_,T.defaultColWidth=k,T.font=E,T.underlayBackgroundColor=x,T.keyboardOptions=R,T.disableColumnResize=I,T.rowHeightsMap=new m.NumberMap,T.colWidthsMap=new m.NumberMap,T.colWidthsLimit={},T.calcWidthContext={_:T,get full(){return this._.canvas.width},get em(){return b.getFontSize(this._.context,this._.font).width}},T.columnResizer=new de(u(e)),T.cellSelector=new he(u(e)),T.drawCells={},T.cellTextOverflows={},T.focusedGrid=!1,T.element.appendChild(T.canvas),T.element.appendChild(T.scrollable.getElement()),T.scroll={left:0,top:0},e.updateScroll(),S?(S.appendChild(T.element),e.updateSize()):e.updateSize(),ae.call(u(e)),e.bindEventsInternal(),e}return v(o,[{key:"getElement",value:function(){return this[L].element}},{key:"focus",value:function(){var e=this[L].selection.select,t=e.col,n=e.row;this.focusCell(t,n)}},{key:"hasFocusGrid",value:function(){return this[L].focusedGrid}},{key:"configure",value:function(e,t){var n=this[L].config||(this[L].config={});return g.isDef(t)&&(n[e]=t),n[e]}},{key:"updateSize",value:function(){var e=this[L].canvas;e.style.width="",e.style.height="";var t=Math.floor(e.offsetWidth||e.parentElement.offsetWidth-d.getScrollBarSize()),n=Math.floor(e.offsetHeight||e.parentElement.offsetHeight-d.getScrollBarSize());e.width=t,e.height=n,e.style.width="".concat(t,"px"),e.style.height="".concat(n,"px");var o=this[L].selection.select;this[L].focusControl.setFocusRect(this.getCellRect(o.col,o.row))}},{key:"updateScroll",value:function(){var e,t=this[L].scrollable,n=ne.call(this),o=J(e=this,0,e[L].colCount-1);return(n!==t.scrollHeight||o!==t.scrollWidth)&&(t.setScrollSize(o,n),this[L].scroll={left:t.scrollLeft,top:t.scrollTop},!0)}},{key:"getRowHeight",value:function(e){return ee.call(this,e)}},{key:"setRowHeight",value:function(e,t){!function(e,t,n){e[L].rowHeightsMap.put(t,n)}(this,e,t)}},{key:"getColWidth",value:function(e){return Z(this,e)}},{key:"setColWidth",value:function(e,t){Q(this,e,t)}},{key:"getMaxColWidth",value:function(e){var t=this[L].colWidthsLimit[e];return t&&t.max||void 0}},{key:"setMaxColWidth",value:function(e,t){(this[L].colWidthsLimit[e]||(this[L].colWidthsLimit[e]={})).max=t}},{key:"getMinColWidth",value:function(e){var t=this[L].colWidthsLimit[e];return t&&t.min||void 0}},{key:"setMinColWidth",value:function(e,t){(this[L].colWidthsLimit[e]||(this[L].colWidthsLimit[e]={})).min=t}},{key:"getCellRect",value:function(e,t){var n=this.isFrozenCell(e,t),o=J(this,0,e-1),r=Z(this,e);n&&n.col&&(o+=this[L].scroll.left);var i=te.call(this,0,t-1),l=ee.call(this,t);return n&&n.row&&(i+=this[L].scroll.top),new C.Rect(o,i,r,l)}},{key:"getCellRelativeRect",value:function(e,t){return se(this,this.getCellRect(e,t))}},{key:"getCellsRect",value:function(e,t,n,o){var r=this.isFrozenCell(e,t),i=this.isFrozenCell(n,o),l=J(this,0,e-1),a=J(this,e,n);if(r&&r.col){var u=this[L].scroll.left;l+=u,i&&i.col||(a-=u,a=Math.max(a,J(this,e,this.frozenColCount-1)))}var c=te.call(this,0,t-1),s=te.call(this,t,o);if(r&&r.row){var f=this[L].scroll.top;c+=f,i&&i.row||(s-=f,s=Math.max(s,J(this,t,this.frozenRowCount-1)))}return new C.Rect(l,c,a,s)}},{key:"getCellRangeRect",value:function(e){return this.getCellsRect(e.start.col,e.start.row,e.end.col,e.end.row)}},{key:"isFrozenCell",value:function(e,t){var n=this[L],o=n.frozenRowCount,r=n.frozenColCount,i=o>0&&t<o,l=r>0&&e<r;return i||l?{row:i,col:l}:null}},{key:"getRowAt",value:function(e){var t=D(this,e);if(t)return t.row;var n=B.call(this,e);return n?n.row:-1}},{key:"getColAt",value:function(e){var t=A(this,e);if(t)return t.col;var n=P(this,e);return n?n.col:-1}},{key:"getCellAt",value:function(e,t){return{row:this.getRowAt(t),col:this.getColAt(e)}}},{key:"makeVisibleCell",value:function(e,t){var n=this.isFrozenCell(e,t);if(!(n&&n.col&&n.row)){var o=this.getCellRect(e,t),r=function(e){var t=0;e[L].frozenColCount>0&&(t=F(e).width);var n=0;return e[L].frozenRowCount>0&&(n=j(e).height),new C.Rect(e[L].scrollable.scrollLeft+t,e[L].scrollable.scrollTop+n,e[L].canvas.width-t,e[L].canvas.height-n)}(this);if(!r.contains(o)){var i=this[L].scrollable;n&&n.col||(o.left<r.left?i.scrollLeft-=r.left-o.left:r.right<o.right&&(i.scrollLeft-=r.right-o.right)),n&&n.row||(o.top<r.top?i.scrollTop-=r.top-o.top:r.bottom<o.bottom&&(i.scrollTop-=r.bottom-o.bottom))}}}},{key:"setFocusCursor",value:function(e,t){var n=this[L].focusControl,o=n.editMode;n.setFocusRect(this.getCellRect(e,t)),ie.call(this),o&&!n.editMode&&n.resetInputStatus()}},{key:"focusCell",value:function(e,t){this.setFocusCursor(e,t),this[L].focusControl.focus()}},{key:"invalidateCell",value:function(e,t){this.invalidateGridRect(e,t)}},{key:"invalidateGridRect",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,r=this.getOffsetInvalidateCells();r>0&&(e-=r,t-=r,n+=r,o+=r);var i=ce(this),l=this.getCellsRect(e,t,n,o),a=i.intersection(l);if(a){var u=this[L],c=u.frozenColCount,s=u.frozenRowCount;if(c>0&&n>=c){var f=F(this);f.intersection(a)&&(a.left=Math.min(f.right-1,a.left))}if(s>0&&o>=s){var h=j(this);h.intersection(a)&&(a.top=Math.min(h.bottom-1,a.top))}W(this,a)}}},{key:"invalidateCellRange",value:function(e){this.invalidateGridRect(e.start.col,e.start.row,e.end.col,e.end.row)}},{key:"invalidate",value:function(){W(this,ce(this))}},{key:"getCopyCellValue",value:function(e,t,n){}},{key:"getCellOverflowText",value:function(e,t){var n="".concat(e,":").concat(t);return this[L].cellTextOverflows[n]||null}},{key:"setCellOverflowText",value:function(e,t,n){var o="".concat(e,":").concat(t);n?this[L].cellTextOverflows[o]="string"==typeof n?n.trim():n:delete this[L].cellTextOverflows[o]}},{key:"addDisposable",value:function(e){if(!e||!e.dispose||"function"!=typeof e.dispose)throw new Error("not disposable!");(this[L].disposables=this[L].disposables||[]).push(e)}},{key:"dispose",value:function(){n(c(o.prototype),"dispose",this).call(this);var e=this[L];e.handler.dispose(),e.scrollable.dispose(),e.focusControl.dispose(),e.columnResizer.dispose(),e.cellSelector.dispose(),e.disposables&&(e.disposables.forEach((function(e){return e.dispose()})),e.disposables=null);var t=e.element.parentElement;t&&t.removeChild(e.element)}},{key:"getAttachCellsArea",value:function(e){return{element:this.getElement(),rect:se(this,this.getCellRangeRect(e))}}},{key:"onKeyDownMove",value:function(e){oe.call(this,e)}},{key:"bindEventsInternal",value:function(){}},{key:"getTargetRowAtInternal",value:function(e){}},{key:"getRowsHeightInternal",value:function(e,t){}},{key:"getRowHeightInternal",value:function(e){}},{key:"getScrollHeightInternal",value:function(e){}},{key:"getMoveLeftColByKeyDownInternal",value:function(e){return e.col-1}},{key:"getMoveRightColByKeyDownInternal",value:function(e){return e.col+1}},{key:"getMoveUpRowByKeyDownInternal",value:function(e){return e.row-1}},{key:"getMoveDownRowByKeyDownInternal",value:function(e){return e.row+1}},{key:"getOffsetInvalidateCells",value:function(){return 0}},{key:"getCopyRangeInternal",value:function(e){return e}},{key:"_getInitContext",value:function(){var e=this[L].context;return e.fillStyle="white",e.strokeStyle="black",e.textAlign="left",e.textBaseline="top",e.lineWidth=1,e.font=this.font||"16px sans-serif",e}},{key:"fireListeners",value:function(e){for(var t,r=arguments.length,i=new Array(r>1?r-1:0),l=1;l<r;l++)i[l-1]=arguments[l];return(t=n(c(o.prototype),"fireListeners",this)).call.apply(t,[this,e].concat(i))}},{key:"canvas",get:function(){return this[L].canvas}},{key:"selection",get:function(){return this[L].selection}},{key:"rowCount",get:function(){return this[L].rowCount},set:function(e){if(this[L].rowCount=e,this.updateScroll(),this[L].selection._updateGridRange()){var t=this[L].selection.focus,n=t.col,o=t.row;this.makeVisibleCell(n,o),this.setFocusCursor(n,o)}}},{key:"colCount",get:function(){return this[L].colCount},set:function(e){if(this[L].colCount=e,this.updateScroll(),this[L].selection._updateGridRange()){var t=this[L].selection.focus,n=t.col,o=t.row;this.makeVisibleCell(n,o),this.setFocusCursor(n,o)}}},{key:"frozenColCount",get:function(){return this[L].frozenColCount},set:function(e){this[L].frozenColCount=e}},{key:"frozenRowCount",get:function(){return this[L].frozenRowCount},set:function(e){this[L].frozenRowCount=e}},{key:"defaultRowHeight",get:function(){return this[L].defaultRowHeight},set:function(e){this[L].defaultRowHeight=e}},{key:"defaultColWidth",get:function(){return this[L].defaultColWidth},set:function(e){this[L].defaultColWidth=e}},{key:"font",get:function(){return this[L].font},set:function(e){this[L].font=e}},{key:"underlayBackgroundColor",get:function(){return this[L].underlayBackgroundColor},set:function(e){this[L].underlayBackgroundColor=e}},{key:"keyboardOptions",get:function(){var e;return null!==(e=this[L].keyboardOptions)&&void 0!==e?e:null},set:function(e){this[L].keyboardOptions=null!=e?e:void 0}},{key:"visibleRowCount",get:function(){var e=this.frozenRowCount,t=ce(this),n=e>0?t.top+te.call(this,0,e-1):t.top,o=B.call(this,n);if(!o)return 0;for(var r=Math.max(o.top>=n?o.row:o.row+1,e),i=te.call(this,0,r-1),l=0,a=this.rowCount,u=r;u<a;u++){var c=i+ee.call(this,u);if(t.bottom<c)break;l++,i=c}return l}},{key:"visibleColCount",get:function(){var e=this.frozenColCount,t=ce(this),n=e>0?t.left+J(this,0,e-1):t.left,o=P(this,n);if(!o)return 0;for(var r=Math.max(o.left>=n?o.col:o.col+1,e),i=J(this,0,r-1),l=0,a=this.colCount,u=r;u<a;u++){var c=i+Z(this,u);if(t.right<c)break;l++,i=c}return l}},{key:"topRow",get:function(){var e=this.frozenRowCount,t=ce(this),n=e>0?t.top+te.call(this,0,e-1):t.top,o=B.call(this,n);return o?Math.max(o.top>=n?o.row:o.row+1,e):0}},{key:"leftCol",get:function(){var e=this.frozenColCount,t=ce(this),n=e>0?t.left+J(this,0,e-1):t.left,o=P(this,n);return o?Math.max(o.left>=n?o.col:o.col+1,e):0}},{key:"scrollTop",get:function(){return this[L].scrollable.scrollTop},set:function(e){this[L].scrollable.scrollTop=e}},{key:"scrollLeft",get:function(){return this[L].scrollable.scrollLeft},set:function(e){this[L].scrollable.scrollLeft=e}}],[{key:"EVENT_TYPE",get:function(){return p.DG_EVENT_TYPE}}]),o}(_.EventTarget);o.DrawGrid=Ce},function(t,n,o){var r;Object.defineProperty(n,"__esModule",{value:!0});var i=function(){o(108),r=function(){var t=document.createElement("div"),n=t.style;n.position="absolute",n.height="9999px",n.width="calc(100vw - 100%)",n.opacity="0",t.textContent="x",document.body.appendChild(t);var o=(document.defaultView||e).getComputedStyle(t,"").width;return document.body.removeChild(t),parseInt(o,10)}()||10;var t=document.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("data-name","cheetah-grid"),t.innerHTML="\n.cheetah-grid .grid-scroll-end-point {\n\twidth: ".concat(r,"px;\n\theight: ").concat(r,"px;\n}\n.cheetah-grid > canvas {\n\twidth: -webkit-calc(100% - ").concat(r,"px);\n\twidth: calc(100% - ").concat(r,"px);\n\theight: -webkit-calc(100% - ").concat(r,"px);\n\theight: calc(100% - ").concat(r,"px);\n}\n\t\t"),document.head.appendChild(t)};n.initDocument=function(){i(),i=Function.prototype},n.getScrollBarSize=function(){return r}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.parsePasteRangeBoxValues=function(e){var t=e.replace(/\r?\n$/,"").split(/(?:\r?\n)|[\u2028\u2029]/g).map((function(e){return e.split(/\t/g)}));return{colCount:t.reduce((function(e,t){return Math.max(e,t.length)}),0),rowCount:t.length,getCellValue:function(e,n){var o;return(null===(o=t[n])||void 0===o?void 0:o[e])||""}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(30);t.DataSource=o.DataSource;var r=n(112);t.CachedDataSource=r.CachedDataSource;var i=n(113);t.FilterDataSource=i.FilterDataSource},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);function r(e,t,n){return new Promise((function(r){for(var i=[],l=new Array(n),a=function(t){var n=e(t),r={v:n,f:n};l[t]=r,o.isPromise(n)&&i.push(n.then((function(e){r.v=e,r.f=e})))},u=0;u<n;u++)a(u);Promise.all(i).then((function(){return null==t?l:function(e,t){return new Promise((function(n){for(var r=e.length,i=[],l=function(n){var r=e[n],l=t(r.v);o.isPromise(l)?i.push(l.then((function(e){r.f=e}))):r.f=l},a=0;a<r;a++)l(a);Promise.all(i).then((function(){return n(e)}))}))}(l,t)})).then(r)}))}function i(e,t,n,o,r){var i=function(e,t){for(var n=new Array(t),o=0;o<t;o++)n[o]=e(o);return n}(e,n);null!=r?i.sort((function(e,t){return o(r(e),r(t))})):i.sort(o);for(var l=0;l<n;l++)t(l,i[l])}t.sortArray=function(e,t){Array.prototype.sort.call(e,t)},t.sort=i,t.sortPromise=function(e,t,n,o,l){if("undefined"!=typeof Promise)return r(e,l,n).then((function(e){e.sort((function(e,t){return o(e.f,t.f)}));for(var r=0;r<n;r++)t(r,e[r].v)}));i(e,t,n,o,l);var a={then:function(e){return e(),a},catch:function(){return a}};return a}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=n(0);t.bindCellClickAction=function(e,t,n){var r,i=n.action,l=n.mouseOver,a=n.mouseOut;function u(n,o){return e.getLayoutCellId(n,o)===t}return[e.listen(o.DG_EVENT_TYPE.CLICK_CELL,(function(e){u(e.col,e.row)&&i({col:e.col,row:e.row})})),e.listen(o.DG_EVENT_TYPE.MOUSEOVER_CELL,(function(t){u(t.col,t.row)&&(l&&!l({col:t.col,row:t.row})||(e.getElement().style.cursor="pointer",r=!0))})),e.listen(o.DG_EVENT_TYPE.MOUSEMOVE_CELL,(function(t){u(t.col,t.row)&&r&&!e.getElement().style.cursor&&(e.getElement().style.cursor="pointer")})),e.listen(o.DG_EVENT_TYPE.MOUSEOUT_CELL,(function(t){u(t.col,t.row)&&(a&&a({col:t.col,row:t.row}),e.getElement().style.cursor="",r=!1)}))]},t.bindCellKeyAction=function(e,t,n){var i=n.action,l=n.acceptKeys,a=void 0===l?[]:l;return a=[].concat(s(a),[13]),[e.listen(o.DG_EVENT_TYPE.KEYDOWN,(function(n){var o;if(-1!==a.indexOf(n.keyCode)&&(!(null===(o=e.keyboardOptions)||void 0===o?void 0:o.moveCellOnEnter)||13!==n.keyCode)){var l,u,c=e.selection.select;l=c.col,u=c.row,e.getLayoutCellId(l,u)===t&&(i({col:c.col,row:c.row}),r.event.cancel(n.event))}}))]}},function(e,t,n){var o;function i(e){var t=e.textAlign,n=void 0===t?"center":t;return e.textAlign=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){r(n,e);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,n),e=t.call(this,i(o));var r=o.uncheckBgColor,l=o.checkBgColor,a=o.borderColor;return e._uncheckBgColor=r,e._checkBgColor=l,e._borderColor=a,e}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"uncheckBgColor",get:function(){return this._uncheckBgColor},set:function(e){this._uncheckBgColor=e,this.doChangeStyle()}},{key:"checkBgColor",get:function(){return this._checkBgColor},set:function(e){this._checkBgColor=e,this.doChangeStyle()}},{key:"borderColor",get:function(){return this._borderColor},set:function(e){this._borderColor=e,this.doChangeStyle()}}],[{key:"DEFAULT",get:function(){return o||(o=new n)}}]),n}(n(13).Style);t.CheckHeaderStyle=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i=function(e){r(n,e);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(e=t.call(this,o))._lineHeight=o.lineHeight||"1em",e._autoWrapText=o.autoWrapText||!1,e._lineClamp=o.lineClamp,e}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(e){this._lineHeight=e,this.doChangeStyle()}},{key:"lineClamp",get:function(){return this._lineClamp},set:function(e){this._lineClamp=e,this.doChangeStyle()}},{key:"autoWrapText",get:function(){return this._autoWrapText},set:function(e){this._autoWrapText=e,this.doChangeStyle()}}],[{key:"DEFAULT",get:function(){return o||(o=new n)}}]),n}(n(13).Style);t.MultilineTextHeaderStyle=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i=function(e){r(n,e);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(e=t.call(this,o))._sortArrowColor=o.sortArrowColor,e}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"sortArrowColor",get:function(){return this._sortArrowColor},set:function(e){this._sortArrowColor=e,this.doChangeStyle()}}],[{key:"DEFAULT",get:function(){return o||(o=new n)}}]),n}(n(13).Style);t.SortHeaderStyle=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(66),i={get arrow_upward(){return n(122)},get arrow_downward(){return n(123)},get edit(){return n(124)},get add(){return n(125)},get star(){return n(126)},get star_border(){return n(127)},get star_half(){return n(128)}};t.get=function(){return o.extend(i,r.icons)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.icons={}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.themes={}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),r=Math.ceil,i=Math.PI;function l(e,t,n,o,r,l){e.beginPath(),e.arc(t+l,n+l,l,-i,-.5*i,!1),e.arc(t+o-l,n+l,l,-.5*i,0,!1),e.arc(t+o-l,n+r-l,l,0,.5*i,!1),e.arc(t+l,n+r-l,l,.5*i,i,!1),e.closePath()}function a(e,t,n,o,r,i){l(e,t,n,o,r,i),e.fill()}function u(e,t,n,o,r,i){l(e,t,n,o,r,i),e.stroke()}function c(e,t,n,o,r){var i=Math.min(o,r)/2;e.beginPath(),e.arc(t+i,n+i,i,0,2*Math.PI),e.closePath(),e.fill()}function s(e,t,n,o,r){var i=Math.min(o,r)/2;e.beginPath(),e.arc(t+i,n+i,i,0,2*Math.PI),e.closePath(),e.stroke()}function f(e){return{width:o.getFontSize(e,null).width}}function h(e){return{width:o.getFontSize(e,null).width}}t.strokeColorsRect=function(e,t,n,o,r,i){t[0]===t[1]&&t[0]===t[2]&&t[0]===t[3]?t[0]&&(e.strokeStyle=t[0],e.strokeRect(n,o,r,i)):function(n){for(var o=0;o<t.length;o++){var r=t[o],i=t[o-1];if(r){if(i!==r){i&&(e.strokeStyle=i,e.stroke());var l=n[o];e.beginPath(),e.moveTo(l.x,l.y)}var a=n[o+1];e.lineTo(a.x,a.y)}else i&&(e.strokeStyle=i,e.stroke())}var u=t[t.length-1];u&&(e.strokeStyle=u,e.stroke())}([{x:n,y:o},{x:n+r,y:o},{x:n+r,y:o+i},{x:n,y:o+i},{x:n,y:o}])},t.roundRect=l,t.fillRoundRect=a,t.strokeRoundRect=u,t.fillCircle=c,t.strokeCircle=s,t.fillTextRect=function(e,t,n,r,i,l){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},u=a.offset,c=void 0===u?2:u,s=a.padding,f={left:n,top:r,width:i,height:l,right:n+i,bottom:r+l};e.save();try{e.beginPath(),e.rect(f.left,f.top,f.width,f.height),e.clip();var h=o.calcBasePosition(e,f,{offset:c,padding:s});e.fillText(t,h.x,h.y)}finally{e.restore()}},t.drawInlineImageRect=function(e,t,n,r,i,l,a,u,c,s,f,h){var d=arguments.length>12&&void 0!==arguments[12]?arguments[12]:{},v=d.offset,g=void 0===v?2:v,p=d.padding,y={left:c,top:s,width:f,height:h,right:c+f,bottom:s+h};e.save();try{e.beginPath(),e.rect(y.left,y.top,y.width,y.height),e.clip();var _=o.calcStartPosition(e,y,a,u,{offset:g,padding:p});e.drawImage(t,n,r,i,l,_.x,_.y,a,u)}finally{e.restore()}},t.measureCheckbox=f,t.measureRadioButton=h,t.drawCheckbox=function(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=i.uncheckBgColor,c=void 0===l?"#FFF":l,s=i.checkBgColor,h=void 0===s?"rgb(76, 73, 72)":s,d=i.borderColor,v=void 0===d?"#000":d,g=i.boxSize,p=void 0===g?f(e).width:g,y="number"==typeof o?o>1?1:o:1;e.save();try{e.fillStyle=o?h:c;var _=r(t),m=r(n),C=r(p);if(a(e,_-1,m-1,C+1,C+1,p/5),e.lineWidth=1,e.strokeStyle=v,u(e,_-.5,m-.5,C,C,p/5),o){e.lineWidth=r(p/10),e.strokeStyle=c;var w=p/4,b=p/2*.9,k=t+.2*p,E=n+p/2;y<.5&&(w*=2*y),e.beginPath(),e.moveTo(k,E),e.lineTo(k+w,E+w),y>.5&&(y<1&&(b*=2*(y-.5)),e.lineTo(k+w+b,E+w-b)),e.stroke()}}finally{e.restore()}},t.drawRadioButton=function(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=i.checkColor,a=void 0===l?"rgb(76, 73, 72)":l,u=i.borderColor,f=void 0===u?"#000":u,d=i.bgColor,v=void 0===d?"#FFF":d,g=i.boxSize,p=void 0===g?h(e).width:g,y="number"==typeof o?o>1?1:o:1;e.save();try{e.fillStyle=v;var _=r(t),m=r(n),C=r(p);if(c(e,_-1,m-1,C+1,C+1),e.lineWidth=1,e.strokeStyle=f,s(e,_-.5,m-.5,C,C),o){var w=C*y/2,b=(C-w)/2;e.fillStyle=a,c(e,r(100*(_-.5+b))/100,r(100*(m-.5+b))/100,r(100*w)/100,r(100*w)/100)}}finally{e.restore()}},t.drawButton=function(e,t,n,o,i){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=l.backgroundColor,c=void 0===u?"#FFF":u,s=l.bgColor,f=void 0===s?c:s,h=l.radius,d=void 0===h?4:h,v=l.shadow,g=void 0===v?{}:v;e.save();try{if(e.fillStyle=f,g){var p=g.color,y=void 0===p?"rgba(0, 0, 0, 0.24)":p,_=g.blur,m=void 0===_?1:_,C=g.offsetX,w=void 0===C?0:C,b=g.offsetY,k=void 0===b?2:b,E=g.offset,x=(E=void 0===E?{}:E).x,R=void 0===x?w:x,S=E.y,I=void 0===S?k:S;e.shadowColor=y,e.shadowBlur=m,e.shadowOffsetX=R,e.shadowOffsetY=I}a(e,r(t),r(n),r(o),r(i),d)}finally{e.restore()}}},function(e,t,n){var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(16)),i=o(n(23)),l=-1;function a(){return{id:l--,define:{},headerType:i.of(null)}}function u(){return{id:l--,define:{},columnType:r.type.of(null),style:null}}t.newEmptyHeaderData=a,t.newEmptyColumnData=u;var c=function(){function e(){h(this,e),this.headers=[],this.columns=[]}return v(e,[{key:"getHeader",value:function(e,t){var n=this.headers[t]||(this.headers[t]=[]);return n[e]||(n[e]=a())}},{key:"getBody",value:function(e,t){var n=this.columns[t]||(this.columns[t]=[]);return n[e]||(n[e]=u())}}]),e}();t.EmptyDataCache=c},function(e,t,n){var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(29)),i=o(n(68)),l=o(n(71)),a=o(n(140)),u=o(n(35)),c=n(74),f=n(8),d=n(0),g=n(72),p=n(22),y=d.style.toBoxArray,_=a.of("â€¦");function m(e,t,n,o,r){return d.getOrApply(e,{col:t,row:n,grid:o,context:r})}function C(e,t,n,o,r){if(null!=e)return d.getOrApply(e,{col:t,row:n,grid:o,context:r})}function w(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r,i=d.getChainSafe.apply(d,[e.theme].concat(n));return d.isDef(i)?"function"!=typeof i?i:function(e){var t=i(e);return d.isDef(t)?t:(r=r||d.getChainSafe.apply(d,[u.getDefault()].concat(n)),d.getOrApply(r,e))}:d.getChainSafe.apply(d,[u.getDefault()].concat(n))}function b(e,t,n,o,r,l,a,u,c){function s(t,s,f){if(t.canDraw()){e.save();try{e.fillStyle=m(t.color()||e.fillStyle,a,u,c,e),e.font=t.font()||e.font,t.draw({ctx:e,canvashelper:i,rect:n,offset:o,offsetLeft:s,offsetRight:f,offsetTop:r,offsetBottom:l})}finally{e.restore()}}else t.onReady((function(){return c.invalidateCell(a,u)}))}if(1===t.length)s(t[0],0,0);else{var f=t.map((function(t){return(t.width({ctx:e})||0)-0})),h=f.reduce((function(e,t){return e+t})),d=0;t.forEach((function(e,t){var n=f[t];s(e,d,h-=n),d+=n}))}}function k(e,t){return a.buildInlines(e,t||"")}function E(e){return a.string(e)}function x(e){return R(e)&&"ellipsis"!==e&&1===(e=e.trim()).length?a.of(e[0]):_}function R(e){return Boolean(e&&"clip"!==e&&"string"==typeof e)}function S(e,t,n){for(var o=n-3,r=0,i=0;i<t.length;i++){var l=(t[i].width({ctx:e})||0)-0;if(r+l>o)return{index:i,lineWidth:r,remWidth:o-r};r+=l}return null}function I(e,t,n){var o=S(e,t,n);if(!o)return{beforeInlines:t,overflow:!1,afterInlines:[]};var r=o.index,i=o.remWidth,l=t[r],a=t.slice(0,r),u=[];if(l.canBreak()){var c=l.breakWord(e,i),f=c.before,h=c.after;if(!f&&!a.length){var d=l.breakAll(e,i);f=d.before,h=d.after}if(!f&&!a.length){var v=l.splitIndex(1);f=v.before,h=v.after}f&&a.push(f),h&&u.push(h),u.push.apply(u,s(t.slice(r+1)))}else a.length||a.push(l),u.push.apply(u,s(t.slice(a.length)));return{beforeInlines:a,overflow:!0,afterInlines:u}}function T(e,t,n,o){var r=S(e,t,n);if(!r)return{inlines:t,overflow:!1};var i=r.index,l=r.lineWidth,a=t[i],u=x(o),c=n-l-u.width({ctx:e}),s=t.slice(0,i);if(a.canBreak()){var f=a.breakAll(e,c).before;f&&s.push(f)}return s.push(u),{inlines:s,overflow:!0}}function L(e,t,n,o,r,i,l){var a=l.offset,u=l.color,c=l.textAlign,s=l.textBaseline,f=l.font,h=l.textOverflow,d=l.icons;t.fillStyle=m(u||t.fillStyle,r,i,e,t),t.textAlign=c,t.textBaseline=s,t.font=f||t.font;var v=k(d,n);if(R(h)&&function(e,t,n){return!!S(e,t,n)}(t,v,o.width)){var g=T(t,v,o.width,h),p=g.inlines,y=g.overflow;v=p,e.setCellOverflowText(r,i,y&&E(n))}else e.setCellOverflowText(r,i,!1);b(t,v,o,a,0,0,r,i,e)}function O(e,t,n,o,r,i,l){var a,u=l.offset,c=l.color,s=l.textAlign,h=l.textBaseline,d=l.font,v=l.lineHeight,g=l.autoWrapText,p=l.lineClamp,y=l.textOverflow,_=l.icons;if(t.fillStyle=m(c||t.fillStyle,r,i,e,t),t.textAlign=s,t.textBaseline=h,t.font=d||t.font,"auto"===p){var C=o.height-2*u-2;p=Math.max(Math.floor(C/v),1)}if(g||p>0||R(y)){var w=o.width;a=[];var S=p>0?function(o,l){if(a.length+1>=p){if(0===o.length&&l)a.push([x(y)]),e.setCellOverflowText(r,i,n.map(E).join("\n"));else{var u=T(t,o,w,y),c=u.inlines,s=u.overflow;a.push(l&&!s?c.concat([x(y)]):c),(s||l)&&e.setCellOverflowText(r,i,n.map(E).join("\n"))}return!1}return!0}:function(){return!0},L=g?function(e,n){if(!S(e,n))return!1;for(;e.length;){if(!S(e,n))return!1;var o=I(t,e,w),r=o.beforeInlines,i=o.afterInlines;a.push(r),e=i}return!0}:R(y)?function(o,l){if(!S(o,l))return!1;var u=T(t,o,w,y),c=u.inlines,s=u.overflow;return a.push(c),s&&e.setCellOverflowText(r,i,n.map(E).join("\n")),!0}:function(e,t){return!!S(e,t)&&(a.push(e),!0)};e.setCellOverflowText(r,i,!1);for(var O=0;O<n.length;O++){var M=n[O];if(!L(k(0===O?_:void 0,M),O+1<n.length))break}}else e.setCellOverflowText(r,i,!1),a=n.map((function(e,t){return k(0===t?_:void 0,e)}));var B=0,P=v*(a.length-1);if("top"===t.textBaseline||"hanging"===t.textBaseline){var D=f.getFontSize(t,t.font).height,A=(v-D)/2;B+=A,P-=A}else if("bottom"===t.textBaseline||"alphabetic"===t.textBaseline||"ideographic"===t.textBaseline){var j=f.getFontSize(t,t.font).height,F=(v-j)/2;B-=F,P+=F}a.forEach((function(n){b(t,n,o,u,B,P,r,i,e),B+=v,P-=v}))}function M(e,t,n){var o=c.colorToRGB(e),r=c.colorToRGB(t),i=function(e){var t=o[e],i=r[e];if(n>=1)return i;if(n<=0)return t;var l=t-i;return Math.ceil(t-l*n)};return"rgb(".concat(i("r"),", ").concat(i("g"),", ").concat(i("b"),")")}function B(e,t,n,o,r,l,a){var u=a.animElapsedTime,c=void 0===u?1:u,s=a.uncheckBgColor,h=void 0===s?l.theme.checkbox.uncheckBgColor:s,d=a.checkBgColor,v=void 0===d?l.theme.checkbox.checkBgColor:d,g=a.borderColor,p=void 0===g?l.theme.checkbox.borderColor:g,y=a.textAlign,_=void 0===y?"center":y,m=a.textBaseline,C=void 0===m?"middle":m,w=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},b=i.measureCheckbox(e).width;e.textAlign=_,e.textBaseline=C;var k=f.calcStartPosition(e,t,b+1,b+1,w);h=l.getColor(h,n,o,e),v=l.getColor(v,n,o,e),p=l.getColor(p,n,o,e),0<c&&c<1&&(h=r?h:M(v,h,c),v=r?M(h,v,c):v),i.drawCheckbox(e,k.x,k.y,!!r&&c,{uncheckBgColor:h,checkBgColor:v,borderColor:p})}function P(e,t,n,o,r,l,a){var u=a.animElapsedTime,c=void 0===u?1:u,s=a.checkColor,h=void 0===s?l.theme.radioButton.checkColor:s,d=a.uncheckBorderColor,v=void 0===d?l.theme.radioButton.uncheckBorderColor:d,g=a.checkBorderColor,p=void 0===g?l.theme.radioButton.checkBorderColor:g,y=a.uncheckBgColor,_=void 0===y?l.theme.radioButton.uncheckBgColor:y,m=a.checkBgColor,C=void 0===m?l.theme.radioButton.checkBgColor:m,w=a.textAlign,b=void 0===w?"center":w,k=a.textBaseline,E=void 0===k?"middle":k,x=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},R=i.measureRadioButton(e).width;e.textAlign=b,e.textBaseline=E;var S=f.calcStartPosition(e,t,R+1,R+1,x);h=l.getColor(h,n,o,e),v=l.getColor(v,n,o,e),p=l.getColor(p,n,o,e),_=l.getColor(_,n,o,e),C=l.getColor(C,n,o,e);var I=r?p:v,T=r?C:_;0<c&&c<1&&(I=r?M(v,p,c):M(p,v,c),T=r?M(_,C,c):M(C,_,c)),i.drawRadioButton(e,S.x,S.y,r?c:1-c,{checkColor:h,borderColor:I,bgColor:T})}var D=function(){function e(t){h(this,e),this._checkbox=null,this._radioButton=null,this._button=null,this._header=null,this._grid=t}return v(e,[{key:"getThemeColor",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return w.apply(void 0,[this._grid].concat(t))}},{key:"font",get:function(){return w(this._grid,"font")}},{key:"underlayBackgroundColor",get:function(){return w(this._grid,"underlayBackgroundColor")}},{key:"color",get:function(){return w(this._grid,"color")}},{key:"frozenRowsColor",get:function(){return w(this._grid,"frozenRowsColor")}},{key:"defaultBgColor",get:function(){return w(this._grid,"defaultBgColor")}},{key:"frozenRowsBgColor",get:function(){return w(this._grid,"frozenRowsBgColor")}},{key:"selectionBgColor",get:function(){return w(this._grid,"selectionBgColor")}},{key:"highlightBgColor",get:function(){return w(this._grid,"highlightBgColor")}},{key:"borderColor",get:function(){return w(this._grid,"borderColor")}},{key:"frozenRowsBorderColor",get:function(){return w(this._grid,"frozenRowsBorderColor")}},{key:"highlightBorderColor",get:function(){return w(this._grid,"highlightBorderColor")}},{key:"checkbox",get:function(){var e=this._grid;return this._checkbox||(this._checkbox={get uncheckBgColor(){return w(e,"checkbox","uncheckBgColor")},get checkBgColor(){return w(e,"checkbox","checkBgColor")},get borderColor(){return w(e,"checkbox","borderColor")}})}},{key:"radioButton",get:function(){var e=this._grid;return this._radioButton||(this._radioButton={get checkColor(){return w(e,"radioButton","checkColor")},get uncheckBorderColor(){return w(e,"radioButton","uncheckBorderColor")},get checkBorderColor(){return w(e,"radioButton","checkBorderColor")},get uncheckBgColor(){return w(e,"radioButton","uncheckBgColor")},get checkBgColor(){return w(e,"radioButton","checkBgColor")}})}},{key:"button",get:function(){var e=this._grid;return this._button||(this._button={get color(){return w(e,"button","color")},get bgColor(){return w(e,"button","bgColor")}})}},{key:"header",get:function(){var e=this._grid;return this._header||(this._header={get sortArrowColor(){return w(e,"header","sortArrowColor")}})}}]),e}();function A(e,t,n,o,r,l){if(Array.isArray(t)){var a=y(t);i.strokeColorsRect(e,a,n,o,r,l)}else t&&(e.strokeStyle=t,e.strokeRect(n,o,r,l))}var j=function(){function e(t){h(this,e),this._grid=t,this._theme=new D(t)}return v(e,[{key:"createCalculator",value:function(e,t){return{calcWidth:function(n){return r.toPx(n,{get full(){return e.getRect().width},get em(){return f.getFontSize(e.getContext(),t).width}})},calcHeight:function(n){return r.toPx(n,{get full(){return e.getRect().height},get em(){return f.getFontSize(e.getContext(),t).height}})}}}},{key:"getColor",value:function(e,t,n,o){return m(e,t,n,this._grid,o)}},{key:"toBoxArray",value:function(e){return y(e)}},{key:"toBoxPixelArray",value:function(e,t,n){if("string"==typeof e||Array.isArray(e)){var o=this.createCalculator(t,n),r=y(e);return[o.calcHeight(r[0]),o.calcWidth(r[1]),o.calcHeight(r[2]),o.calcWidth(r[3])]}return y(e)}},{key:"drawWithClip",value:function(e,t){var n=e.getDrawRect();if(n){var o=e.getContext();o.save();try{o.beginPath(),o.rect(n.left,n.top,n.width,n.height),o.clip(),t(o)}finally{o.restore()}}}},{key:"drawBorderWithClip",value:function(e,t){var n=e.getDrawRect();if(n){var o=e.getRect(),r=e.getContext();r.save();try{r.beginPath();var i=n.left,l=n.width;n.left===o.left&&(i+=-1,l+=1);var a=n.top,u=n.height;n.top===o.top&&(a+=-1,u+=1),r.rect(i,a,l,u),r.clip(),t(r)}finally{r.restore()}}}},{key:"text",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o.padding,i=o.offset,l=void 0===i?2:i,a=o.color,u=o.textAlign,c=void 0===u?"left":u,s=o.textBaseline,f=void 0===s?"middle":s,h=o.font,d=o.textOverflow,v=void 0===d?"clip":d,g=o.icons,y=t.getRect(),_=t.col,m=t.row;if(!a){a=this.theme.color;var w=this._grid.isFrozenCell(_,m);w&&w.row&&(a=this.theme.frozenRowsColor)}this.drawWithClip(t,(function(o){if(h=C(h,t.col,t.row,n._grid,o),r){var i=n.toBoxPixelArray(r,t,h),u=y.left+i[3],s=y.top+i[0],d=y.width-i[1]-i[3],w=y.height-i[0]-i[2];y=new p.Rect(u,s,d,w)}L(n._grid,o,e,y,_,m,{offset:l,color:a,textAlign:c,textBaseline:f,font:h,textOverflow:v,icons:g})}))}},{key:"multilineText",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o.padding,i=o.offset,l=void 0===i?2:i,a=o.color,u=o.textAlign,c=void 0===u?"left":u,s=o.textBaseline,f=void 0===s?"middle":s,h=o.font,d=o.lineHeight,v=void 0===d?"1em":d,g=o.autoWrapText,y=void 0!==g&&g,_=o.lineClamp,m=void 0===_?0:_,w=o.textOverflow,b=void 0===w?"clip":w,k=o.icons,E=t.getRect(),x=t.col,R=t.row;if(!a){a=this.theme.color;var S=this._grid.isFrozenCell(x,R);S&&S.row&&(a=this.theme.frozenRowsColor)}this.drawWithClip(t,(function(o){if(h=C(h,t.col,t.row,n._grid,o),r){var i=n.toBoxPixelArray(r,t,h),u=E.left+i[3],s=E.top+i[0],d=E.width-i[1]-i[3],g=E.height-i[0]-i[2];E=new p.Rect(u,s,d,g)}var _=n.createCalculator(t,h);v=_.calcHeight(v),O(n._grid,o,e,E,x,R,{offset:l,color:a,textAlign:c,textBaseline:f,font:h,lineHeight:v,autoWrapText:y,lineClamp:m,textOverflow:b,icons:k})}))}},{key:"fillText",value:function(e,t,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=r.color,l=r.textAlign,a=void 0===l?"left":l,u=r.textBaseline,c=void 0===u?"top":u,s=r.font,f=o.col,h=o.row;if(!i){i=this.theme.color;var d=this._grid.isFrozenCell(f,h);d&&d.row&&(i=this.theme.frozenRowsColor)}var v=o.getContext();v.save();try{s=C(s,o.col,o.row,this._grid,v),v.fillStyle=m(i,f,h,this._grid,v),v.textAlign=a,v.textBaseline=c,v.font=s||v.font,v.fillText(e,t,n)}finally{v.restore()}}},{key:"fillCell",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.fillColor,r=void 0===o?this.theme.defaultBgColor:o,i=e.getRect();this.drawWithClip(e,(function(n){var o=e.col,l=e.row;n.fillStyle=m(r,o,l,t._grid,n),n.beginPath(),n.rect(i.left,i.top,i.width,i.height),n.fill()}))}},{key:"fillCellWithState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.fillColor=this.getFillColorState(e,t),this.fillCell(e,t)}},{key:"fillRect",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.fillColor,r=void 0===o?this.theme.defaultBgColor:o,i=t.getContext();i.save();try{var l=t.col,a=t.row;i.fillStyle=m(r,l,a,this._grid,i),i.beginPath(),i.rect(e.left,e.top,e.width,e.height),i.fill()}finally{i.restore()}}},{key:"fillRectWithState",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.fillColor=this.getFillColorState(t,n),this.fillRect(e,t,n)}},{key:"getFillColorState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getSelection(),o=e.col,r=e.row;if(!d.cellEquals(n.select,e)&&d.cellInRange(n.range,o,r))return this.theme.selectionBgColor;if(t.fillColor)return t.fillColor;if(d.cellEquals(n.select,e))return this.theme.highlightBgColor;var i=this._grid.isFrozenCell(o,r);return i&&i.row?this.theme.frozenRowsBgColor:this.theme.defaultBgColor}},{key:"border",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.borderColor,r=void 0===o?this.theme.borderColor:o,i=n.lineWidth,l=void 0===i?1:i,a=e.getRect();this.drawBorderWithClip(e,(function(n){var o=e.col,i=e.row,u=m(r,o,i,t._grid,n);if(1===l)n.lineWidth=1,A(n,u,a.left-.5,a.top-.5,a.width,a.height);else if(2===l)n.lineWidth=2,A(n,u,a.left,a.top,a.width-1,a.height-1);else{n.lineWidth=l;var c=l/2-1;A(n,u,a.left+c,a.top+c,a.width-l+1,a.height-l+1)}}))}},{key:"borderWithState",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.getRect(),r=e.getSelection(),i=e.col,l=e.row;if(d.cellEquals(r.select,e))n.borderColor=this.theme.highlightBorderColor,n.lineWidth=2,this.border(e,n);else{var a=this._grid.isFrozenCell(i,l);(null==a?void 0:a.row)&&(n.borderColor=this.theme.frozenRowsBorderColor),n.lineWidth=1,this.border(e,n);var u=this._grid.selection.select;u.col+1===i&&u.row===l?this.drawBorderWithClip(e,(function(e){var n=y(m(t.theme.highlightBorderColor,u.col,u.row,t._grid,e));e.lineWidth=1,e.strokeStyle=n[1]||e.strokeStyle,e.beginPath(),e.moveTo(o.left-.5,o.top),e.lineTo(o.left-.5,o.bottom),e.stroke()})):u.col===i&&u.row+1===l&&this.drawBorderWithClip(e,(function(e){var n=y(m(t.theme.highlightBorderColor,u.col,u.row,t._grid,e));e.lineWidth=1,e.strokeStyle=n[0]||e.strokeStyle,e.beginPath(),e.moveTo(o.left,o.top-.5),e.lineTo(o.right,o.top-.5),e.stroke()}))}}},{key:"buildCheckBoxInline",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this,r=t.getContext(),l=i.measureCheckbox(r).width;return new g.InlineDrawer({draw:a,width:l+3,height:l+1,color:void 0});function a(r){var i=r.ctx,l=r.rect,a=r.offset,u=r.offsetLeft,c=r.offsetRight,s=r.offsetTop,f=r.offsetBottom;B(i,l,t.col,t.row,e,o,n,{offset:a+1,padding:{left:u+1,right:c,top:s,bottom:f}})}}},{key:"checkbox",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.drawWithClip(t,(function(r){var i=t.col,l=t.row;B(r,t.getRect(),i,l,e,n,o)}))}},{key:"radioButton",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.drawWithClip(t,(function(r){var i=t.col,l=t.row;P(r,t.getRect(),i,l,e,n,o)}))}},{key:"button",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o.bgColor,l=void 0===r?this.theme.button.bgColor:r,a=o.padding,u=o.offset,c=void 0===u?2:u,s=o.color,f=void 0===s?this.theme.button.color:s,h=o.textAlign,d=void 0===h?"center":h,v=o.textBaseline,g=void 0===v?"middle":v,y=o.shadow,_=o.font,w=o.textOverflow,b=void 0===w?"clip":w,k=o.icons,E=t.getRect();this.drawWithClip(t,(function(o){_=C(_,t.col,t.row,n._grid,o);var r=t.col,u=t.row,s=n.toBoxPixelArray(a||E.height/8,t,_),h=E.left+s[3],v=E.top+s[0],w=E.width-s[1]-s[3],x=E.height-s[0]-s[2];l=m(l,t.col,t.row,n._grid,o),i.drawButton(o,h,v,w,x,{bgColor:l,radius:E.height/8,shadow:y}),L(n._grid,o,e,new p.Rect(h,v,w,x),r,u,{offset:c,color:f,textAlign:d,textBaseline:g,font:_,textOverflow:b,icons:k})}))}},{key:"testFontLoad",value:function(e,t,n){return function(e,t,n,o){return!(e&&!l.check(e,t)&&(l.load(e,t,(function(){return function(e,t){var n=e.col,o=e.row;t.invalidateCell(n,o)}(n,o)})),1))}(e,t,n,this._grid)}},{key:"theme",get:function(){return this._theme}}]),e}();t.GridCanvasHelper=j},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=n(0),l={};if(t.load=o,t.check=r,i.isNode)t.load=o=function(e,t,n){n()},t.check=r=function(){return!1};else{var a=document.fonts,u=!a;t.load=o=u?function(e,t,o){l["".concat(e," @ ").concat(t)]?o():n(138).load(e,t,(function(){l["".concat(e," @ ").concat(t)]=!0,o()}),(function(){l["".concat(e," @ ").concat(t)]=!0,o()}))}:function(e,t,n){l.all||l[e]?n():(a.ready.then((function(){l.all=!0})),a.load(e).then((function(){l[e]=!0,n()})))},t.check=r=u?function(e,t){return!!l["".concat(e," @ ").concat(t)]||(o(e,t,(function(){})),!1)}:function(e,t){return!(!l.all&&!l[e]&&!a.check(e)&&(o(e,t,(function(){})),1))}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){r(n,e);var t=l(n);function n(e){var o,r=e.draw,i=e.width,l=e.color;return h(this,n),(o=t.call(this))._draw=r,o._width=i,o._color=l,o}return v(n,[{key:"width",value:function(e){return this._width}},{key:"font",value:function(){return null}},{key:"color",value:function(){var e;return null!==(e=this._color)&&void 0!==e?e:null}},{key:"canDraw",value:function(){return!0}},{key:"onReady",value:function(e){}},{key:"draw",value:function(e){var t=e.ctx,n=e.canvashelper,o=e.rect,r=e.offset,i=e.offsetLeft,l=e.offsetRight,a=e.offsetTop,u=e.offsetBottom;this._draw({ctx:t,canvashelper:n,rect:o,offset:r,offsetLeft:i,offsetRight:l,offsetTop:a,offsetBottom:u})}},{key:"canBreak",value:function(){return!1}},{key:"toString",value:function(){return""}}]),n}(n(15).Inline);t.InlineDrawer=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),i=n(54),a=n(0),u=function(e){r(n,e);var t=l(n);function n(e){var o,r=e.src,i=e.width,l=e.height,u=e.imageLeft,c=e.imageTop,s=e.imageWidth,f=e.imageHeight;return h(this,n),(o=t.call(this))._inlineImgPromise=null,o._inlineImg=null,o._src=r,o._width=i,o._height=l,o._imageLeft=u,o._imageTop=c,o._imageWidth=s,o._imageHeight=f,o._onloaded=[],a.isPromise(r)?r.then((function(e){o._src=e,o._loadImage(e)})):o._loadImage(r),o}return v(n,[{key:"_loadImage",value:function(e){var t=this,n=this._inlineImgPromise=i.getCacheOrLoad("InlineImage",50,e);a.isPromise(n)?n.then((function(e){t._inlineImg=e,t._onloaded.forEach((function(e){return e()}))})):this._inlineImg=n}},{key:"width",value:function(e){var t,n;return this._width||(null!==(n=null===(t=this._inlineImg)||void 0===t?void 0:t.width)&&void 0!==n?n:0)}},{key:"font",value:function(){return null}},{key:"color",value:function(){return null}},{key:"canDraw",value:function(){return!!this._inlineImg}},{key:"onReady",value:function(e){(a.isPromise(this._src)||a.isPromise(this._inlineImgPromise))&&this._onloaded.push((function(){return e()}))}},{key:"draw",value:function(e){var t=e.ctx,n=e.canvashelper,o=e.rect,r=e.offset,i=e.offsetLeft,l=e.offsetRight,a=e.offsetTop,u=e.offsetBottom,c=this._inlineImg;n.drawInlineImageRect(t,c,this._imageLeft||0,this._imageTop||0,this._imageWidth||c.width,this._imageHeight||c.height,this._width||c.width,this._height||c.height,o.left,o.top,o.width,o.height,{offset:r+1,padding:{left:i,right:l,top:a,bottom:u}})}},{key:"canBreak",value:function(){return!1}},{key:"toString",value:function(){return""}}]),n}(o.Inline);t.InlineImage=u},function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0});var r={};function i(e){return parseInt(e,16)}function l(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return{r:e,g:t,b:n,a:o}}function a(e){var t=e.r,n=e.g,o=e.b,r=e.a;return 0<=t&&t<=255&&0<=n&&n<=255&&0<=o&&o<=255&&0<=r&&r<=1}function u(e){return Math.ceil(255*e/100)}function c(e){if(/^#[0-9a-f]{3}$/i.exec(e))return n=(t=e)[1],o=t[2],r=t[3],l(i(n+n),i(o+o),i(r+r));var t,n,o,r,c,s,f,h,d,v,g;if(/^#[0-9a-f]{6}$/i.exec(e))return s=(c=e)[1],f=c[2],h=c[3],d=c[4],v=c[5],g=c[6],l(i(s+f),i(h+d),i(v+g));var p=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i.exec(e);if(p){var y=l(Number(p[1]),Number(p[2]),Number(p[3]));if(a(y))return y}if(p=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d(\.\d)?)\s*\)$/i.exec(e)){var _=l(Number(p[1]),Number(p[2]),Number(p[3]),Number(p[4]));if(a(_))return _}if(p=/^rgb\(\s*(\d{1,3}(\.\d)?)%\s*,\s*(\d{1,3}(\.\d)?)%\s*,\s*(\d{1,3}(\.\d)?)%\s*\)$/i.exec(e)){var m=l(u(Number(p[1])),u(Number(p[3])),u(Number(p[5])));if(a(m))return m}if(p=/^rgba\(\s*(\d{1,3}(\.\d)?)%\s*,\s*(\d{1,3}(\.\d)?)%\s*,\s*(\d{1,3}(\.\d)?)%\s*,\s*(\d(\.\d)?)\s*\)$/i.exec(e)){var C=l(u(Number(p[1])),u(Number(p[3])),u(Number(p[5])),Number(p[7]));if(a(C))return C}return null}n.colorToRGB=function(t){return"string"!=typeof t?l(0,0,0,0):(t=t.toLowerCase().trim(),r[t]?r[t]:c(t)||(r[t]=function(t){var n=document.createElement("div"),o=n.style;o.color=t,o.position="fixed",o.height="1px",o.width="1px",o.opacity="0",document.body.appendChild(n);var r=(document.defaultView||e).getComputedStyle(n,"").color;return document.body.removeChild(n),c(r||"")}(t)))}},function(e,t,n){var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(16));t.columns=r;var i=o(n(106));t.core=i;var l=o(n(59));t.data=l;var a=o(n(114));t.headers=a;var u=o(n(65)),c=o(n(129));t.register=c;var s=o(n(35));t.themes=s;var f=o(n(133));t.tools=f;var h=n(134);t.ListGrid=h.ListGrid;var d=n(70);t.GridCanvasHelper=d.GridCanvasHelper;var v=n(165);function g(){return u.get()}t._getInternal=v.getInternal,t.getIcons=g,t.default={core:i,tools:f,ListGrid:h.ListGrid,columns:r,headers:a,themes:s,data:l,GridCanvasHelper:d.GridCanvasHelper,register:c,get icons(){return g()}},Object.defineProperty(s,"default",{enumerable:!1,configurable:!0,get:function(){return s.getDefault()},set:function(e){s.setDefault(e)}}),Object.defineProperty(s,"choices",{enumerable:!1,configurable:!0,get:function(){return s.getChoices()}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(41);t.Action=o.Action;var i=n(25);t.BaseAction=i.BaseAction;var a=n(77);t.ButtonAction=a.ButtonAction;var u=n(79);t.CheckEditor=u.CheckEditor;var c=n(10);t.Editor=c.Editor;var s=n(80);t.InlineInputEditor=s.InlineInputEditor;var f=n(85);t.InlineMenuEditor=f.InlineMenuEditor;var d=n(101);t.RadioEditor=d.RadioEditor;var g=n(102);t.SmallDialogInputEditor=g.SmallDialogInputEditor;var p=function(e){r(n,e);var t=l(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"disabled",get:function(){return this._disabled}},{key:"readOnly",get:function(){return this._readOnly}}]),n}(u.CheckEditor),y=function(e){r(n,e);var t=l(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"disabled",get:function(){return this._disabled}},{key:"readOnly",get:function(){return this._readOnly}}]),n}(d.RadioEditor),_=function(e){r(n,e);var t=l(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"disabled",get:function(){return this._disabled}},{key:"readOnly",get:function(){return this._readOnly}}]),n}(g.SmallDialogInputEditor);t.ACTIONS={CHECK:new p,INPUT:new _,RADIO:new y},t.of=function e(n){if(n){if("string"==typeof n){var o=n.toUpperCase();return t.ACTIONS[o]||e(null)}return n}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(41),i=n(1),a=n(0),u=i.getButtonColumnStateId(),c=function(e){r(n,e);var t=l(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"getState",value:function(e){var t=e[u];return t||(t={},a.obj.setReadonly(e,u,t)),t}}]),n}(o.Action);t.ButtonAction=c},function(t,n){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(t){"object"===g(e)&&(o=e)}t.exports=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(24),i=n(0),a=n(9),u=n(3),c=n(10),f=n(17),d=n(1).getCheckColumnStateId(),g=function(e){r(n,e);var t=l(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"bindGridEvent",value:function(e,t){var n=this,r=e[d];r||(r={block:{},elapsed:{}},i.obj.setReadonly(e,d,r));var l=r,c=function(t){var o=e.getCellRange(t.col,t.row),r="".concat(o.start.col,":").concat(o.start.row);if(!(a.isReadOnlyRecord(n.readOnly,e,t.row)||a.isDisabledRecord(n.disabled,e,t.row)||l.block[r])){var u=e.doChangeValue(t.col,t.row,a.toggleValue);if(u){var c=function(){f.animate(200,(function(t){1===t?delete l.elapsed[r]:l.elapsed[r]=t,e.invalidateCellRange(o)}))};i.isPromise(u)?(l.block[r]=!0,u.then((function(){delete l.block[r],c()}))):c()}}};function h(n,o){return e.getLayoutCellId(n,o)===t}return[].concat(s(o.bindCellClickAction(e,t,{action:c,mouseOver:function(t){if(a.isDisabledRecord(n.disabled,e,t.row))return!1;l.mouseActiveCell={col:t.col,row:t.row};var o=e.getCellRange(t.col,t.row);return e.invalidateCellRange(o),!0},mouseOut:function(t){delete l.mouseActiveCell;var n=e.getCellRange(t.col,t.row);e.invalidateCellRange(n)}})),s(o.bindCellKeyAction(e,t,{action:function(t){for(var n=e.selection.range,o=e.selection.select.col,r=n.start.row;r<=n.end.row;r++)h(o,r)&&c({col:o,row:r})}})),[e.listen(u.DG_EVENT_TYPE.PASTE_CELL,(function(t){if(!t.multi){var n=e.selection.range;if(i.cellEquals(n.start,n.end)&&h(t.col,t.row)){var o=t.normalizeValue.trim();e.doGetCellValue(t.col,t.row,(function(e){var n=a.toggleValue(e);"".concat(n).trim()===o&&(i.event.cancel(t.event),c({col:t.col,row:t.row}))}))}}}))])}},{key:"onPasteCellRangeBox",value:function(e,t,n){if(!a.isReadOnlyRecord(this.readOnly,e,t.row)&&!a.isDisabledRecord(this.disabled,e,t.row)){var o=n.trim();e.doGetCellValue(t.col,t.row,(function(n){var r=a.toggleValue(n);"".concat(r).trim()===o&&e.doChangeValue(t.col,t.row,a.toggleValue)}))}}},{key:"onDeleteCellRangeBox",value:function(){}}]),n}(c.Editor);t.CheckEditor=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(42),i=n(81),a=n(1),u=n(0),c=a.getInlineInputEditorStateId(),s=null,f=0;function d(e,t,n,o){var r=function(e){var t=e[c];return t||(t={},u.obj.setReadonly(e,c,t)),t}(e);s||(s=new i.InlineInputElement),r.element||(r.element=s,f++,e.addDisposable({dispose:function(){--f||(null==s||s.dispose(),s=null,r.element=null)}})),s.attach(e,n,t.col,t.row,o)}function g(e){s&&s.detach(e)}function p(e){s&&s.doChangeValue()}var y=function(e){r(n,e);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(e=t.call(this,o))._classList=o.classList,e._type=o.type,e}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"onInputCellInternal",value:function(e,t,n){d(e,t,this,n)}},{key:"onOpenCellInternal",value:function(e,t){var n=this;e.doGetCellValue(t.col,t.row,(function(o){d(e,t,n,o)}))}},{key:"onChangeSelectCellInternal",value:function(e,t,n){p(),g()}},{key:"onGridScrollInternal",value:function(e){p(),g(!0)}},{key:"onChangeDisabledInternal",value:function(){g(!0)}},{key:"onChangeReadOnlyInternal",value:function(){g(!0)}},{key:"onSetInputAttrsInternal",value:function(e,t,n){i.InlineInputElement.setInputAttrs(this,e,n)}},{key:"classList",get:function(){if(this._classList)return Array.isArray(this._classList)?this._classList:[this._classList]},set:function(e){this._classList=e}},{key:"type",get:function(){return this._type},set:function(e){this._type=e}}]),n}(o.BaseInputEditor);t.InlineInputEditor=y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=n(11),i=n(0),l=n(43);function a(e,t,n){var o,r=e.classList,i=e.type;r&&(o=n.classList).add.apply(o,s(r)),n.type=i||""}var u=function(){function e(){h(this,e),this._handler=new o.EventHandler,this._input=(n(82),r.createElement("input",{classList:"cheetah-grid__inline-input"})),this._bindInputEvents()}return v(e,[{key:"dispose",value:function(){var e,t=this._input;this.detach(),this._handler.dispose(),delete this._input,this._beforePropEditor=null,null===(e=t.parentElement)||void 0===e||e.removeChild(t)}},{key:"attach",value:function(e,t,n,o,r){var i=this,u=this._input,c=this._handler;if(this._beforePropEditor){var f,h=this._beforePropEditor.classList;h&&(f=u.classList).remove.apply(f,s(h))}u.style.font=e.font||"16px sans-serif";var d=e.getAttachCellsArea(e.getCellRange(n,o)),v=d.element,g=d.rect;u.style.top="".concat(g.top.toFixed(),"px"),u.style.left="".concat(g.left.toFixed(),"px"),u.style.width="".concat(g.width.toFixed(),"px"),u.style.height="".concat(g.height.toFixed(),"px"),v.appendChild(u),a(t,0,u),l.setInputValue(u,r),this._activeData={grid:e,col:n,row:o,editor:t},this._beforePropEditor=t,c.tryWithOffEvents(u,"blur",(function(){!function(){u.focus();var e=u.value.length;try{if(void 0!==u.selectionStart)return u.selectionStart=e,void(u.selectionEnd=e)}catch(e){}if(document.selection){var t=u.createTextRange();t.collapse(),t.moveEnd("character",e),t.moveStart("character",e),t.select()}}()})),this._attaching=!0,setTimeout((function(){delete i._attaching}))}},{key:"detach",value:function(e){if(this._isActive()){var t=this._activeData,n=t.grid,o=t.col,r=t.row,i=this._input;this._handler.tryWithOffEvents(i,"blur",(function(){var e;null===(e=i.parentElement)||void 0===e||e.removeChild(i)}));var l=n.getCellRange(o,r);n.invalidateCellRange(l),e&&n.focus()}this._activeData=null}},{key:"doChangeValue",value:function(){if(this._isActive()){var e=this._input.value,t=this._activeData,n=t.grid,o=t.col,r=t.row;n.doChangeValue(o,r,(function(){return e}))}}},{key:"_isActive",value:function(){var e=this._input;return!(!e||!e.parentElement||!this._activeData)}},{key:"_bindInputEvents",value:function(){var e=this,t=this._handler,n=this._input,o=function(e){return e.stopPropagation()};t.on(n,"click",o),t.on(n,"mousedown",o),t.on(n,"touchstart",o),t.on(n,"dblclick",o),t.on(n,"compositionstart",(function(e){n.classList.add("composition")})),t.on(n,"compositionend",(function(e){n.classList.remove("composition")})),t.on(n,"keydown",(function(t){if(!n.classList.contains("composition")){var o=i.event.getKeyCode(t);13===o?e._onKeydownEnter(t):9===o&&e._onKeydownTab(t)}})),t.on(n,"blur",(function(t){e.doChangeValue(),e.detach()}))}},{key:"_onKeydownEnter",value:function(e){var t;if(this._isActive()&&!this._attaching){var n=this._activeData.grid;this.doChangeValue(),this.detach(!0),i.event.cancel(e),(null===(t=n.keyboardOptions)||void 0===t?void 0:t.moveCellOnEnter)&&n.onKeyDownMove(e)}}},{key:"_onKeydownTab",value:function(e){var t;if(this._isActive()){var n=this._activeData.grid;(null===(t=n.keyboardOptions)||void 0===t?void 0:t.moveCellOnTab)&&(this.doChangeValue(),this.detach(!0),n.onKeyDownMove(e))}}}],[{key:"setInputAttrs",value:function(e,t,n){a(e,0,n)}}]),e}();t.InlineInputElement=u},function(e,t,n){var o=n(83);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(5)(o,r),o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,"/* ms */\n.cheetah-grid__inline-input::-ms-clear {\n\tvisibility: hidden;\n}\n.cheetah-grid__inline-input {\n\tposition: absolute;\n\tbox-sizing: border-box;\n}\n",""])},function(t,n){t.exports=function(t){var n=void 0!==e&&e.location;if(!n)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var o=n.protocol+"//"+n.host,r=o+n.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var n,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(n=0===i.indexOf("//")?i:0===i.indexOf("/")?o+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(9),a=n(3),u=n(10),c=n(86),s=n(44),f=n(1),d=n(55),g=f.getInlineMenuEditorStateId(),p=null,y=0;function _(e,t,n,r,i){var l=function(e){var t=e[g];return t||(t={},o.obj.setReadonly(e,g,t)),t}(e);p||(p=new c.InlineMenuElement),l.element||(l.element=p,y++,e.addDisposable({dispose:function(){--y||(null==p||p.dispose(),p=null,l.element=null)}})),p.attach(e,n,t.col,t.row,r,i)}function m(e){p&&p.detach(e)}var C=function(e){r(n,e);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(e=t.call(this,o))._classList=o.classList,e._options=d.normalizeToFn(o.options),e}return v(n,[{key:"dispose",value:function(){}},{key:"clone",value:function(){return new n(this)}},{key:"onChangeDisabledInternal",value:function(){m(!0)}},{key:"onChangeReadOnlyInternal",value:function(){m(!0)}},{key:"bindGridEvent",value:function(e,t){var n=this,r=function(t){return!i.isReadOnlyRecord(n.readOnly,e,t.row)&&!i.isDisabledRecord(n.disabled,e,t.row)&&(e.doGetCellValue(t.col,t.row,(function(r){var i=e.getRowRecord(t.row);o.isPromise(i)||_(e,t,n,r,i)})),!0)};function l(n,o){return e.getLayoutCellId(n,o)===t}return[e.listen(a.DG_EVENT_TYPE.CLICK_CELL,(function(e){l(e.col,e.row)&&r({col:e.col,row:e.row})})),e.listen(a.DG_EVENT_TYPE.KEYDOWN,(function(t){if(113===t.keyCode||13===t.keyCode){var n=e.selection.select;l(n.col,n.row)&&r({col:n.col,row:n.row})&&t.stopCellMoving()}})),e.listen(a.DG_EVENT_TYPE.SELECTED_CELL,(function(e){m()})),e.listen(a.DG_EVENT_TYPE.SCROLL,(function(){m(!0)})),e.listen(a.DG_EVENT_TYPE.MOUSEOVER_CELL,(function(t){l(t.col,t.row)&&(i.isReadOnlyRecord(n.readOnly,e,t.row)||i.isDisabledRecord(n.disabled,e,t.row)||(e.getElement().style.cursor="pointer"))})),e.listen(a.DG_EVENT_TYPE.MOUSEMOVE_CELL,(function(t){l(t.col,t.row)&&(i.isReadOnlyRecord(n.readOnly,e,t.row)||i.isDisabledRecord(n.disabled,e,t.row)||e.getElement().style.cursor||(e.getElement().style.cursor="pointer"))})),e.listen(a.DG_EVENT_TYPE.MOUSEOUT_CELL,(function(t){l(t.col,t.row)&&(e.getElement().style.cursor="")})),e.listen(a.DG_EVENT_TYPE.PASTE_CELL,(function(t){if(!t.multi){var r=e.selection.range;if(o.cellEquals(r.start,r.end)&&l(t.col,t.row)&&!i.isReadOnlyRecord(n.readOnly,e,t.row)&&!i.isDisabledRecord(n.disabled,e,t.row)){var a=e.getRowRecord(t.row);if(!o.isPromise(a)){var u=n._pasteDataToOptionValue(t.normalizeValue,e,t,a);u&&(o.event.cancel(t.event),o.then(e.doChangeValue(t.col,t.row,(function(){return u.value})),(function(){var n=e.getCellRange(t.col,t.row);e.invalidateCellRange(n)})))}}}}))]}},{key:"onPasteCellRangeBox",value:function(e,t,n){if(!i.isReadOnlyRecord(this.readOnly,e,t.row)&&!i.isDisabledRecord(this.disabled,e,t.row)){var r=e.getRowRecord(t.row);if(!o.isPromise(r)){var l=this._pasteDataToOptionValue(n,e,t,r);l&&e.doChangeValue(t.col,t.row,(function(){return l.value}))}}}},{key:"onDeleteCellRangeBox",value:function(e,t){if(!i.isReadOnlyRecord(this.readOnly,e,t.row)&&!i.isDisabledRecord(this.disabled,e,t.row)){var n=e.getRowRecord(t.row);if(!o.isPromise(n)){var r=this._pasteDataToOptionValue("",e,t,n);r&&e.doChangeValue(t.col,t.row,(function(){return r.value}))}}}},{key:"_pasteDataToOptionValue",value:function(e,t,n,r){var i=this._options(r),l=w(e,i);if(l)return l;var a=t.getColumnType(n.col,n.row);if(function(e){return e instanceof s.MenuColumn||!!Array.isArray(e.options)}(a)){var u=b(e),c=o.array.find(a.options,(function(e){return b(e.label)===u}));if(c)return w(c.value,i)}}},{key:"classList",get:function(){if(this._classList)return Array.isArray(this._classList)?this._classList:[this._classList]},set:function(e){this._classList=e}},{key:"options",get:function(){return this._options},set:function(e){this._options=d.normalizeToFn(e)}}]),n}(u.Editor);function w(e,t){var n=b(e),r=o.array.find(t,(function(e){return b(e.value)===n}));if(r)return r}function b(e){return null==e?"":"".concat(e).trim()}t.InlineMenuEditor=C},function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0});var r=o(11),i=o(0),l=o(2),a="cheetah-grid__inline-menu",u="".concat(a,"__menu-item"),c="".concat(a,"--hidden"),f="".concat(a,"--shown"),d="".concat(u,"--empty");function g(e){for(var t=e;t&&!t.classList.contains(u);)if(!(t=t.parentElement)||t.classList.contains(a))return null;return t}function p(e,t,n){n.style.top="".concat(t.top.toFixed(),"px"),n.style.left="".concat(t.left.toFixed(),"px"),n.style.width="".concat(t.width.toFixed(),"px"),n.style.lineHeight="".concat(t.height.toFixed(),"px"),e.appendChild(n)}function y(t,n,o,l,a,h,v){var g=n.classList;v.classList.remove(f),v.classList.add(c),r.empty(v),v.style.font=t.font||"16px sans-serif";var y=null,_=null;h.forEach((function(e,t){var n=function(e,t){var n,o=e.classList,l=e.label,a=e.value,c=e.html,f=r.createElement("li",{classList:u});if(f.tabIndex=0,f.dataset.valueindex="".concat(t),o&&(n=f.classList).add.apply(n,s(Array.isArray(o)?o:[o])),l){var h=r.createElement("span",{text:l});f.appendChild(h)}else c&&r.appendHtml(f,c);return""!==a&&i.isDef(a)||f.classList.add(d),f}(e,t);v.appendChild(n),e.value===a&&(_=n,n.dataset.select="select"),n.classList.contains(d)&&(y=n)}));var m,C=_||y||v.children[0];g&&(m=v.classList).add.apply(m,s(g));var w=Array.prototype.slice.call(v.children,0),b=w.indexOf(C),k=t.getAttachCellsArea(t.getCellRange(o,l)),E=k.element,x=k.rect;x.width++,p(E,x,v);for(var R=0,S=0,I=0;I<w.length;I++){var T=w[I].offsetHeight;I<b&&(R+=T),S+=T}x.offsetTop(-R),v.style.transformOrigin="center ".concat(R+Math.ceil(w[b].offsetHeight/2),"px 0px"),p(E,x,v);var L=v.getBoundingClientRect(),O=(S-L.height)/2,M=L.top-O,B=M,P=B+S,D=e.innerHeight;P>D-20&&(B-=P-D+20),B<20&&(B=20),B!==M&&(x.offsetTop(-(M-B)),p(E,x,v)),C&&C.focus(),v.classList.remove(c),v.classList.add(f)}var _=function(){function e(){h(this,e),this._handler=new l.EventHandler,this._menu=(o(87),r.createElement("ul",{classList:a})),this._bindMenuEvents()}return v(e,[{key:"dispose",value:function(){var e,t=this._menu;this.detach(),this._handler.dispose(),delete this._menu,this._beforePropEditor=null,null===(e=t.parentElement)||void 0===e||e.removeChild(t)}},{key:"attach",value:function(e,t,n,o,r,i){var l=this._menu;if(this._beforePropEditor){var a,u=this._beforePropEditor.classList;u&&(a=l.classList).remove.apply(a,s(u))}var c=t.options(i);y(e,t,n,o,r,c,l),this._activeData={grid:e,col:n,row:o,editor:t,options:c},this._beforePropEditor=t}},{key:"detach",value:function(e){if(this._isActive()){var t=this._activeData,n=t.grid,o=t.col,i=t.row;!function(e,t,n,o){o.classList.remove(f),o.classList.add(c),r.disableFocus(o)}(0,0,0,this._menu);var l=n.getCellRange(o,i);n.invalidateCellRange(l),e&&n.focus()}this._activeData=null}},{key:"_doChangeValue",value:function(e){if(this._isActive()){var t=this._activeData,n=t.grid,o=t.col,r=t.row,i=t.options[Number(e)];if(i){var l=i.value;n.doChangeValue(o,r,(function(){return l}))}}}},{key:"_isActive",value:function(){var e=this._menu;return!(!e||!e.parentElement||!this._activeData)}},{key:"_bindMenuEvents",value:function(){var e=this,t=this._handler,n=this._menu,o=function(e){return e.stopPropagation()};t.on(n,"mousedown",o),t.on(n,"touchstart",o),t.on(n,"dblclick",o),t.on(n,"click",(function(t){t.stopPropagation();var n=g(t.target);if(n){var o=n.dataset.valueindex;e._doChangeValue(o||""),e.detach(!0)}})),t.on(n,"keydown",(function(t){var o=g(t.target);if(o){var l=i.event.getKeyCode(t);if(13===l)e._onKeydownEnter(n,o,t);else if(27===l)e.detach(!0),i.event.cancel(t);else if(38===l){var a=r.findPrevSiblingFocusable(o);a&&(a.focus(),i.event.cancel(t))}else if(40===l){var u=r.findNextSiblingFocusable(o);u&&(u.focus(),i.event.cancel(t))}else 9===l&&e._onKeydownTab(n,o,t)}}))}},{key:"_onKeydownEnter",value:function(e,t,n){var o,r=this._isActive()?this._activeData.grid:null,l=t.dataset.valueindex;this._doChangeValue(l||""),this.detach(!0),i.event.cancel(n),r&&(null===(o=r.keyboardOptions)||void 0===o?void 0:o.moveCellOnEnter)&&r.onKeyDownMove(n)}},{key:"_onKeydownTab",value:function(e,t,n){var o;if(this._isActive()){var l=this._activeData.grid;if(null===(o=l.keyboardOptions)||void 0===o?void 0:o.moveCellOnTab){var a=t.dataset.valueindex;return this._doChangeValue(a||""),this.detach(!0),void l.onKeyDownMove(n)}}if(n.shiftKey){if(!r.findPrevSiblingFocusable(t)){var c=e.querySelectorAll(".".concat(u)),s=c[c.length-1];r.isFocusable(s)||(s=r.findPrevSiblingFocusable(s)),s&&(s.focus(),i.event.cancel(n))}}else if(!r.findNextSiblingFocusable(t)){var f=e.querySelector(".".concat(u));r.isFocusable(f)||(f=r.findNextSiblingFocusable(f)),f&&(f.focus(),i.event.cancel(n))}}}]),e}();n.InlineMenuElement=_},function(e,t,n){var o=n(88);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(5)(o,r),o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,'.cheetah-grid__inline-menu {\n\tposition: absolute;\n\tcolor: rgba(0, 0, 0, .87);\n\tbox-sizing: content-box;\n\tmargin: -1px auto auto -1px;\n\tpadding: 8px 0;\n\tbackground-color: #fafafa;\n\tlist-style-type: none;\n\tborder-radius: 2px;\n\tmax-height: calc(100vh - 40px);\n\toverflow-y: auto;\n}\n.cheetah-grid__inline-menu--hidden {\n\ttransform: scale(.9);\n\tbox-shadow: none;\n\topacity: 0;\n\tpointer-events: none;\n\ttransition: all 50ms ease-out;\n}\n.cheetah-grid__inline-menu--hidden * {\n\tpointer-events: none;\n}\n.cheetah-grid__inline-menu--shown {\n\ttransform: translateY(-7px);\n\tbox-shadow: 0 3px 1px -2px rgba(0, 0, 0, .2), 0 2px 2px 0 rgba(0, 0, 0, .14), 0 1px 5px 0 rgba(0, 0, 0, .12);\n\topacity: 1;\n\ttransition: all 150ms ease-out;\n}\n.cheetah-grid__inline-menu__menu-item {\n\theight: 100%;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-start;\n\toutline: none;\n\tcursor: pointer;\n\tposition: relative;\n\toverflow: hidden;\n\tpadding: 0 16px;\n}\n.cheetah-grid__inline-menu__menu-item--empty {\n\tcolor: rgba(0, 0, 0, .38);\n}\n.cheetah-grid__inline-menu__menu-item::before {\n\tcontent: "";\n\tposition: absolute;\n\ttop: -50%;\n\tleft: -50%;\n\twidth: 200%;\n\theight: 200%;\n\tbackground-color: #000;\n\topacity: 0;\n\tpointer-events: none;\n\ttransition: opacity 15ms linear;\n}\n.cheetah-grid__inline-menu__menu-item:hover::before {\n\topacity: .04;\n}\n.cheetah-grid__inline-menu__menu-item[data-select]::before {\n\topacity: .04;\n}\n.cheetah-grid__inline-menu__menu-item:focus::before {\n\topacity: .12;\n}\n',""])},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i=o(0),a=o(7),u=o(90),f=o(1).getBranchGraphColumnStateId(),d=function e(t){var n=t.fromIndex,o=t.toIndex,r=t.colorIndex,i=t.point;h(this,e),this.fromIndex=n,this.toIndex=o,this.colorIndex=r,this.point=i},g=function(){function e(t){var n=t.index,o=t.commit,r=void 0!==o&&o,i=t.lines,l=void 0===i?[]:i,a=t.tag;h(this,e),this.index=n,this.commit=r,this.lines=l,this.tag=a}return v(e,null,[{key:"mergeLines",value:function(e){var t=e.filter((function(e){return i.isDef(e.fromIndex)&&i.isDef(e.toIndex)})),n=e.filter((function(e){return i.isDef(e.fromIndex)&&!i.isDef(e.toIndex)})),o=e.filter((function(e){return!i.isDef(e.fromIndex)&&i.isDef(e.toIndex)}));return n.forEach((function(e){for(var n=0;n<o.length;n++){var r=o[n];if(!r.point&&e.colorIndex===r.colorIndex){e.toIndex=r.toIndex,o.splice(n,1);break}}t.push(e)})),t.concat(o)}},{key:"merge",value:function(t,n){return t?new e({index:t.index,commit:t.commit||n.commit,lines:e.mergeLines(t.lines.concat(n.lines)),tag:t.tag||n.tag}):n}}]),e}();function p(e,t){for(var n=s(e).reverse(),o=0;o<n.length;o++){var r=n[o][t];if(r){r.lines=g.mergeLines(r.lines.concat([new d({toIndex:t,colorIndex:t})]));for(var i=0;i<o;i++)n[i][t]=new g({index:t,lines:[new d({fromIndex:t,toIndex:t,colorIndex:t})]});return!0}}return!1}function y(e,t){var n=e.timeline,o=[];(Array.isArray(t)?t:[t]).forEach((function(t){if(t){var n;if("branch"===t.command){var r=i.obj.isObject(t.branch)?t.branch.from:null,l=i.obj.isObject(t.branch)?t.branch.to:t.branch;n=function(e,t,n){var o=e.timeline,r=e.branches,i=null!=t?r.indexOf(t):-1,l=r.indexOf(n);if(l<0&&(l=r.length,r.push(n)),i<0)return new g({index:l});var a=function(){for(var e=o.length-1;e>=0;e--){var t=o[e][i];if(t&&t.commit)return e}return-1}();if(-1===a)return null;var u,c=a+1,s=new g({index:l,lines:[new d({fromIndex:i,colorIndex:l})]}),f=null;if(c<o.length){var h=o[c];u=h[l]=g.merge(h[l],s)}else u=s,f=s;var v=o[a][i];return v.lines=g.mergeLines(v.lines.concat([new d({toIndex:l,colorIndex:l,point:u})])),f}(e,r,l)}else if("commit"===t.command){var a=t.branch;n=function(e,t){var n=e.timeline,o=e.branches.indexOf(t);if(o<0)return null;var r=new g({index:o,commit:!0});return p(n,o)&&(r.lines=g.mergeLines(r.lines.concat([new d({fromIndex:o,colorIndex:o})]))),r}(e,a)}else if("merge"===t.command){var u=t.branch,c=u.from,f=u.to;n=function(e,t,n){var o=e.timeline,r=e.branches,i=r.indexOf(t),l=r.indexOf(n);if(l<0||i<0)return new g({index:l,commit:!0});var a=new g({index:l,commit:!0,lines:[new d({fromIndex:i,colorIndex:i}),new d({fromIndex:l,colorIndex:l})]}),u=s(o),c=u.pop();return c&&(c[i]=g.merge(c[i],new g({index:l,lines:[new d({toIndex:l,colorIndex:i})]}))),p(u,i)&&c&&(c[i].lines=g.mergeLines(c[i].lines.concat([new d({fromIndex:i,colorIndex:i})]))),p(o,l),a}(e,c,f)}else if("tag"===t.command){var h=t.branch,v=t.tag;n=function(e,t,n){var o=e.branches,r=o.indexOf(t);return r<0&&(r=o.length,o.push(t)),new g({index:r,tag:n})}(e,h,v)}n&&n.index>-1&&(o[n.index]=g.merge(o[n.index],n))}})),n.push(o)}function _(e,t,n){var o={branches:[],timeline:[]};return function(e,t,n){for(var o,r=e.dataSource,l=[],a=function(e){var n=r.getField(e,t);if(i.isPromise(n)){var a=l.length;l.push(void 0),o=o?o.then((function(){return n})).then((function(e){l[a]=e})):n.then((function(e){l[a]=e}))}else l.push(n)},u=0;u<r.length;u++)a(u);o?o.then((function(){return n(l)})):n(l)}(t,n,(function(t){"top"!==e&&(t=s(t).reverse()),t.forEach((function(e){y(o,e)}))})),o}var m=function(e){r(o,e);var t=l(o);function o(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,o),(e=t.call(this,n))._start=n.start||"bottom",e._cache=!!i.isDef(n.cache)&&n.cache,e}return v(o,[{key:"clearCache",value:function(e){delete e[f]}},{key:"onDrawCell",value:function(e,t,r,i){if(this._cache){var l=i[f]||(i[f]=new Map),a=r.col,u=r.row,s=i.getField(a,u);l.has(s)||l.set(s,_(this._start,i,s))}return n(c(o.prototype),"onDrawCell",this).call(this,e,t,r,i)}},{key:"clone",value:function(){return new o(this)}},{key:"drawInternal",value:function(e,t,n,o,r,l){var a,u,c=l.drawCellBase,s=t.col,h=t.row,d=r.getField(s,h),v=null!==(u=this._cache?null===(a=r[f])||void 0===a?void 0:a.get(d):null)&&void 0!==u?u:_(this._start,r,d),g=v.timeline,p=v.branches,y="top"!==this._start?{upLineIndexKey:"toIndex",downLineIndexKey:"fromIndex"}:{upLineIndexKey:"fromIndex",downLineIndexKey:"toIndex"},m=y.upLineIndexKey,C=y.downLineIndexKey,w="top"!==this._start?g[g.length-(h-r.frozenRowCount)-1]:g[h-r.frozenRowCount],b=n.branchColors,k=n.branchLineWidth,E=n.circleSize,x=n.mergeStyle,R=n.margin,S=n.bgColor;S&&c({bgColor:S});var I=t.getRect(),T=E/2,L=I.width-2*R;o.drawWithClip(t,(function(e){e.textAlign="left",e.textBaseline="middle";var t=function(e,t,n,o,r,i){var l=Math.max(n/r.length+1,5);i.forEach((function(t){t.forEach((function(t,r){if(!(r<=0)&&t.tag){var i=e.measureText(t.tag).width;l*r+2*o+4+i>n&&(l=Math.max((n-2*o-4-i)/r,5))}}))}));var a=[],u=t;return r.forEach((function(){a.push(Math.ceil(u+o)),u+=l})),a}(e,I.left+R,L,T,p,g),n=I.top+I.height/2;w.map((function(e,t){return e?e.lines.map((function(e){return{colorIndex:e.colorIndex,upLineIndex:e[m],downLineIndex:e[C],pointIndex:t}})):[]})).reduce((function(e,t){return e.concat(t)}),[]).sort((function(e,t){return t.colorIndex-e.colorIndex})).forEach((function(o){var l=t[o.pointIndex];!function(e,t,n,o,r,l,a,u,c){var s=u.branchXPoints,f=u.branchColors,h=u.branchLineWidth,d=u.mergeStyle,v=c.col,g=c.row,p=c.branches;if(i.isDef(r)||i.isDef(l)){if(t.strokeStyle=i.getOrApply(f,p[a],a),t.lineWidth=h,t.lineCap="round",t.beginPath(),i.isDef(r)){var y=s[r],_=e.getCellRelativeRect(v,g-1),m=_.top+_.height/2;t.moveTo(y,m),"bezier"===d?t.bezierCurveTo(y,(o+m)/2,n,(o+m)/2,n,o):t.lineTo(n,o)}else t.moveTo(n,o);if(i.isDef(l)){var C=s[l],w=e.getCellRelativeRect(v,g+1),b=w.top+w.height/2;"bezier"===d?t.bezierCurveTo(n,(o+b)/2,C,(o+b)/2,C,b):t.lineTo(C,b)}t.stroke()}}(r,e,l,n,o.upLineIndex,o.downLineIndex,o.colorIndex,{margin:R,branchXPoints:t,branchLineWidth:k,branchColors:b,mergeStyle:x},{width:L,col:s,row:h,branches:p})})),w.forEach((function(o,r){if(o&&o.commit){var l=t[r];e.fillStyle=i.getOrApply(b,p[r],r),e.beginPath(),e.arc(l,n,T,0,2*Math.PI,!0),e.fill(),e.closePath()}})),w.forEach((function(o,r){o&&o.tag&&(e.fillStyle=i.getOrApply(b,p[r],r),e.fillText(o.tag,t[r]+T+4,n))}))}))}},{key:"StyleClass",get:function(){return u.BranchGraphStyle}}]),o}(a.BaseColumn);t.BranchGraphColumn=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(18),a=function(e,t){switch(t%3){case 0:return"#979797";case 1:return"#008fb5";case 2:return"#f1c109"}return"#979797"},u=function(e){r(n,e);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(e=t.call(this,o))._branchColors=o.branchColors||a,e._margin=o.margin||4,e._circleSize=o.circleSize||16,e._branchLineWidth=o.branchLineWidth||4,e._mergeStyle="straight"===o.mergeStyle?"straight":"bezier",e}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"branchColors",get:function(){return this._branchColors},set:function(e){this._branchColors=e,this.doChangeStyle()}},{key:"margin",get:function(){return this._margin},set:function(e){this._margin=e,this.doChangeStyle()}},{key:"circleSize",get:function(){return this._circleSize},set:function(e){this._circleSize=e,this.doChangeStyle()}},{key:"branchLineWidth",get:function(){return this._branchLineWidth},set:function(e){this._branchLineWidth=e,this.doChangeStyle()}},{key:"mergeStyle",get:function(){return this._mergeStyle},set:function(e){this._mergeStyle=e,this.doChangeStyle()}}],[{key:"DEFAULT",get:function(){return o||(o=new n)}}]),n}(i.BaseStyle);t.BranchGraphStyle=u},function(e,t,o){var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(o(21)),u=o(45),s=o(12),f=o(0),d=o(1).getButtonColumnStateId(),g=function(e){r(o,e);var t=l(o);function o(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,o),(e=t.call(this,n))._caption=n.caption,e}return v(o,[{key:"withCaption",value:function(e){var t=this.clone();return t._caption=e,t}},{key:"clone",value:function(){return new o(this)}},{key:"convertInternal",value:function(e){return this._caption||n(c(o.prototype),"convertInternal",this).call(this,e)}},{key:"drawInternal",value:function(e,t,n,o,r,i){var l=i.drawCellBase,u=i.getIcon,c=n.textAlign,s=n.textBaseline,h=n.bgColor,v=n.color,g=n.buttonBgColor,p=n.font,y=n.padding,_=n.textOverflow;h&&l({bgColor:h}),o.testFontLoad(p,e,t);var m=t.col,C=t.row,w=r.getCellRange(m,C),b=!1,k=r[d];if(k)if(k.mouseActiveCell&&f.cellInRange(w,k.mouseActiveCell.col,k.mouseActiveCell.row))b=!0;else{var E=t.getSelection().select;f.cellInRange(w,E.col,E.row)&&(b=!0)}a.loadIcons(u(),t,o,(function(t,n){o.button(e,n,{textAlign:c,textBaseline:s,bgColor:g,color:v,font:p,padding:y,shadow:b?{color:"rgba(0, 0, 0, 0.48)",blur:6,offsetY:3}:{},textOverflow:_,icons:t})}))}},{key:"StyleClass",get:function(){return u.ButtonStyle}},{key:"caption",get:function(){return this._caption}}]),o}(s.Column);t.ButtonColumn=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(46),a=n(1),u=n(0),c=n(28),s=a.getCheckColumnStateId(),f=function(e){r(n,e);var t=l(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"convertInternal",value:function(e){return c.toBoolean(e)}},{key:"drawInternal",value:function(e,t,n,o,r,i){var l,a=i.drawCellBase,c=n.textAlign,f=n.textBaseline,h=n.borderColor,d=n.checkBgColor,v=n.uncheckBgColor,g=n.bgColor;g&&a({bgColor:g});var p=t.col,y=t.row,_=r.getCellRange(p,y),m="".concat(_.start.col,":").concat(_.start.row),C=null===(l=r[s])||void 0===l?void 0:l.elapsed[m],w={textAlign:c,textBaseline:f,borderColor:h,checkBgColor:d,uncheckBgColor:v};u.isDef(C)&&(w.animElapsedTime=C),o.checkbox(e,t,w)}},{key:"StyleClass",get:function(){return i.CheckStyle}}]),n}(o.BaseColumn);t.CheckColumn=f},function(e,t,o){var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(o(27)),u=o(12),s=o(47),f=function(e){r(o,e);var t=l(o);function o(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,o),(e=t.call(this,n))._tagName=n.tagName||"i",e._className=n.className,e._content=n.content,e._name=n.name,e._iconWidth=n.iconWidth,e}return v(o,[{key:"clone",value:function(){return new o(this)}},{key:"drawInternal",value:function(e,t,r,i,l,u){var s=Number(e);if(isNaN(s))u.getIcon=function(){return null};else{var f={};a.iconPropKeys.forEach((function(e){f[e]=r[e]})),f.className=this._className,f.tagName=this._tagName,this._content&&(f.content=this._content),f.name=this._name,this._iconWidth&&(f.width=this._iconWidth),u.getIcon=function(){return function(e,t){t===1/0&&(t=0);for(var n=[],o=0;o<t;o++)n.push(e);return n}(f,s)}}n(c(o.prototype),"drawInternal",this).call(this,"",t,r,i,l,u)}},{key:"StyleClass",get:function(){return s.IconStyle}}]),o}(u.Column);t.IconColumn=f},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i=o(7),a=o(48),u=o(8),s=o(54),f=function(e){r(o,e);var t=l(o);function o(){return h(this,o),t.apply(this,arguments)}return v(o,[{key:"onDrawCell",value:function(e,t,r,i){return n(c(o.prototype),"onDrawCell",this).call(this,(l=e,s.getCacheOrLoad("ImageColumn",50,l)),t,r,i);var l}},{key:"clone",value:function(){return new o(this)}},{key:"drawInternal",value:function(e,t,n,o,r,i){var l=i.drawCellBase;if(e){var a=n.textAlign,c=n.textBaseline,s=n.margin,f=n.bgColor;f&&l({bgColor:f}),o.drawWithClip(t,(function(o){o.textAlign=a,o.textBaseline=c;var r=t.getRect();if("keep-aspect-ratio"===n.imageSizing){var i=function(e,t,n,o){var r=e,i=t;return r>n&&(i=(r=n)*t/e),i>o&&(r=(i=o)*e/t),{width:r,height:i}}(e.width,e.height,r.width-2*s,r.height-2*s),l=i.width,f=i.height,h=u.calcStartPosition(o,r,l,f,{offset:s});o.drawImage(e,0,0,e.width,e.height,h.x,h.y,l,f)}else o.drawImage(e,0,0,e.width,e.height,r.left+s,r.top+s,r.width-2*s,r.height-2*s)}))}}},{key:"StyleClass",get:function(){return a.ImageStyle}}]),o}(i.BaseColumn);t.ImageColumn=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t){h(this,e),this._list=[],this._map={},this._cacheSize=t||50}return v(e,[{key:"get",value:function(e){var t=this._map[e];if(t){var n=this._list,o=n.indexOf(e);n.splice(o,1),n.push(e)}return t}},{key:"put",value:function(e,t){var n=this._list,o=this._map;if(o[e]){var r=n.indexOf(e);n.splice(r,1)}o[e]=t,n.push(e),n.length>this._cacheSize&&delete o[n.shift()||""]}}]),e}();t.LRUCache=o},function(e,t,o){var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(o(21)),u=o(7),s=o(49),f=o(0),d=o(55),g=function(e){r(o,e);var t=l(o);function o(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,o),(e=t.call(this,n))._options=d.normalize(n.options),e}return v(o,[{key:"clone",value:function(){return new o(this)}},{key:"withOptions",value:function(e){var t=this.clone();return t._options=d.normalize(e),t}},{key:"drawInternal",value:function(e,t,n,o,r,i){var l=i.drawCellBase,u=i.getIcon,c=n.textAlign,s=n.textBaseline,h=n.font,d=n.bgColor,v=n.padding,g=n.textOverflow,p=n.appearance,y=n.color;d&&l({bgColor:d});var _=this._convertInternal(e);o.testFontLoad(h,_,t),a.loadIcons(u(),t,o,(function(t,n){var r=o.toBoxPixelArray(v||0,n,h),i=r.slice(0);i[1]+=26;var l=r.slice(0);l[1]+=8,f.isDef(y)||f.isDef(e)&&""!==e||(y="rgba(0, 0, 0, .38)"),o.text(_,n,{textAlign:c,textBaseline:s,color:y,font:h,padding:i,textOverflow:g,icons:t}),"menulist-button"===p?o.text("",n,{textAlign:"right",textBaseline:s,color:y,font:h,icons:[{path:"M0 2 5 7 10 2z",width:10,color:"rgba(0, 0, 0, .54)"}],padding:l}):"none"!==p&&console.warn("unsupported appearance:".concat(p))}))}},{key:"convertInternal",value:function(e){return e}},{key:"_convertInternal",value:function(e){for(var t=this._options,r=0;r<t.length;r++){var i=t[r];if(i.value===e){e=i.label;break}}return n(c(o.prototype),"convertInternal",this).call(this,e)}},{key:"getCopyCellValue",value:function(e){return this._convertInternal(e)}},{key:"StyleClass",get:function(){return s.MenuStyle}},{key:"options",get:function(){return this._options}}]),o}(u.BaseColumn);t.MenuColumn=g},function(e,t,n){var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(21)),a=n(7),u=n(50),c=function(e){r(n,e);var t=l(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),t.call(this,e)}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"drawInternal",value:function(e,t,n,o,r,l){var a=l.drawCellBase,u=l.getIcon,c=n.textAlign,s=n.textBaseline,f=n.color,h=n.font,d=n.bgColor,v=n.padding,g=n.lineHeight,p=n.autoWrapText,y=n.lineClamp,_=n.textOverflow;d&&a({bgColor:d});var m=e.replace(/\r?\n/g,"\n").replace(/\r/g,"\n").split("\n");o.testFontLoad(h,e,t),i.loadIcons(u(),t,o,(function(e,t){o.multilineText(m,t,{textAlign:c,textBaseline:s,color:f,font:h,padding:v,lineHeight:g,autoWrapText:p,lineClamp:y,textOverflow:_,icons:e})}))}},{key:"StyleClass",get:function(){return u.MultilineTextStyle}}]),n}(a.BaseColumn);t.MultilineTextColumn=c},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i,a=o(12),u=o(51),s=function(e){r(o,e);var t=l(o);function o(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,o),(e=t.call(this,n))._format=n.format,e}return v(o,[{key:"clone",value:function(){return new o(this)}},{key:"withFormat",value:function(e){var t=this.clone();return t._format=e,t}},{key:"convertInternal",value:function(e){var t=Number(e);return isNaN(t)?n(c(o.prototype),"convertInternal",this).call(this,e):(this._format||o.defaultFotmat).format(t)}},{key:"StyleClass",get:function(){return u.NumberStyle}},{key:"format",get:function(){return this._format}}],[{key:"defaultFotmat",get:function(){return i||(i=new Intl.NumberFormat)},set:function(e){i=e}}]),o}(a.Column);t.NumberColumn=s},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i=o(0),a=o(12),u=o(52),s=function(e){r(o,e);var t=l(o);function o(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,o),(e=t.call(this,n))._min=n.min||0,e._max=n.max||e._min+100,e._formatter=n.formatter||function(e){return e},e}return v(o,[{key:"clone",value:function(){return new o(this)}},{key:"drawInternal",value:function(e,t,r,l,a,u){n(c(o.prototype),"drawInternal",this).call(this,this._formatter(e),t,r,l,a,u);var s=r.barColor,f=r.barBgColor,h=r.barHeight,d="".concat(e);i.str.endsWith(d,"%")&&(d=d.substr(0,d.length-1));var v=Number(d);if(!isNaN(v)){var g=v<this._min?0:v>this._max?1:(v-this._min)/(this._max-this._min);l.drawWithClip(t,(function(e){var n=t.getRect(),o=n.width-4-1,r=n.bottom-2-h-1,l=n.left+2;e.fillStyle=i.getOrApply(f,100*g)||"#f0f3f5",e.beginPath(),e.rect(l,r,o,h),e.fill();var a=Math.min(o*g,o);e.fillStyle=i.getOrApply(s,100*g)||"#20a8d8",e.beginPath(),e.rect(l,r,a,h),e.fill()}))}}},{key:"StyleClass",get:function(){return u.PercentCompleteBarStyle}}]),o}(a.Column);t.PercentCompleteBarColumn=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(53),a=n(1),u=n(0),c=n(28),s=a.getRadioColumnStateId(),f=function(e){r(n,e);var t=l(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"convertInternal",value:function(e){return c.toBoolean(e)}},{key:"drawInternal",value:function(e,t,n,o,r,i){var l,a=i.drawCellBase,c=n.textAlign,f=n.textBaseline,h=n.checkColor,d=n.uncheckBorderColor,v=n.checkBorderColor,g=n.uncheckBgColor,p=n.checkBgColor,y=n.bgColor;y&&a({bgColor:y});var _=t.col,m=t.row,C=r.getCellRange(_,m),w="".concat(C.start.col,":").concat(C.start.row),b=null===(l=r[s])||void 0===l?void 0:l.elapsed[w],k={textAlign:c,textBaseline:f,checkColor:h,uncheckBorderColor:d,checkBorderColor:v,uncheckBgColor:g,checkBgColor:p};u.isDef(b)&&(k.animElapsedTime=b),o.radioButton(e,t,k)}},{key:"StyleClass",get:function(){return i.RadioStyle}}]),n}(o.BaseColumn);t.RadioColumn=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(24),i=n(0),a=n(9),u=n(3),c=n(10),f=n(17),d=n(1),g=n(28),p=d.getRadioColumnStateId(),y=function(e){for(var t=e.grid,n=e.col,o=e.row,r=t.getLayoutCellId(n,o),i=o-t.getRecordStartRowByRecordIndex(t.getRecordIndexByRow(o)),l=[],a=t.rowCount,u=t.recordRowCount,c=t.frozenRowCount+i;c<a;c+=u)t.getLayoutCellId(n,c)===r&&l.push({col:n,row:c});return l},_=function(e){r(n,e);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(e=t.call(this,o))._group=o.group||y,e}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"bindGridEvent",value:function(e,t){var n=this,r=e[p];r||(r={block:{},elapsed:{}},i.obj.setReadonly(e,p,r));var l=r,c=function(t){n._action(e,t)};return[].concat(s(o.bindCellClickAction(e,t,{action:c,mouseOver:function(t){if(a.isDisabledRecord(n.disabled,e,t.row))return!1;l.mouseActiveCell={col:t.col,row:t.row};var o=e.getCellRange(t.col,t.row);return e.invalidateCellRange(o),!0},mouseOut:function(t){delete l.mouseActiveCell;var n=e.getCellRange(t.col,t.row);e.invalidateCellRange(n)}})),s(o.bindCellKeyAction(e,t,{action:c})),[e.listen(u.DG_EVENT_TYPE.PASTE_CELL,(function(n){if(!n.multi){var o=e.selection.range;if(i.cellEquals(o.start,o.end)&&(r=n.col,l=n.row,e.getLayoutCellId(r,l)===t)){var r,l,a=n.normalizeValue.trim();g.toBoolean(a)&&(i.event.cancel(n.event),c({col:n.col,row:n.row}))}}}))])}},{key:"onPasteCellRangeBox",value:function(e,t,n){if(!a.isReadOnlyRecord(this.readOnly,e,t.row)&&!a.isDisabledRecord(this.disabled,e,t.row)){var o=n.trim();g.toBoolean(o)&&this._action(e,{col:t.col,row:t.row})}}},{key:"onDeleteCellRangeBox",value:function(){}},{key:"_action",value:function(e,t){var n=this,o=e[p],r=e.getCellRange(t.col,t.row),l="".concat(r.start.col,":").concat(r.start.row);a.isReadOnlyRecord(this.readOnly,e,t.row)||a.isDisabledRecord(this.disabled,e,t.row)||o.block[l]||e.doGetCellValue(t.col,t.row,(function(r){g.toBoolean(r)||n._group({grid:e,col:t.col,row:t.row}).forEach((function(r){var l=r.col,u=r.row,c=e.getCellRange(l,u),s="".concat(c.start.col,":").concat(c.start.row);a.isReadOnlyRecord(n.readOnly,e,t.row)||a.isDisabledRecord(n.disabled,e,t.row)||o.block[s]||function(e,t,n,o){e.doGetCellValue(t,n,(function(r){if(g.toBoolean(r)!==o){var l=e[p],u=e.getCellRange(t,n),c="".concat(u.start.col,":").concat(u.start.row),s=e.doChangeValue(t,n,a.toggleValue);if(s){var h=function(){f.animate(200,(function(t){1===t?delete l.elapsed[c]:l.elapsed[c]=t,e.invalidateCellRange(u)}))};i.isPromise(s)?(l.block[c]=!0,s.then((function(){delete l.block[c],h()}))):h()}}}))}(e,l,u,l===t.col&&u===t.row)}))}))}},{key:"group",get:function(){return this._group},set:function(e){this._group=e}}]),n}(c.Editor);t.RadioEditor=_},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(42),i=n(103),a=n(1),u=n(0),c=a.getSmallDialogInputEditorStateId(),s=null,f=0;function d(e,t,n,o){var r=function(e){var t=e[c];return t||(t={},u.obj.setReadonly(e,c,t)),t}(e);s||(s=new i.SmallDialogInputElement),r.element||(r.element=s,f++,e.addDisposable({dispose:function(){--f||(null==s||s.dispose(),s=null,r.element=null)}})),s.attach(e,n,t.col,t.row,o)}function g(e){s&&s.detach(e)}var p=function(e){r(n,e);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(e=t.call(this,o))._helperText=o.helperText,e._inputValidator=o.inputValidator,e._validator=o.validator,e._classList=o.classList,e._type=o.type,e}return v(n,[{key:"dispose",value:function(){}},{key:"clone",value:function(){return new n(this)}},{key:"onInputCellInternal",value:function(e,t,n){d(e,t,this,n)}},{key:"onOpenCellInternal",value:function(e,t){var n=this;e.doGetCellValue(t.col,t.row,(function(o){d(e,t,n,o)}))}},{key:"onChangeSelectCellInternal",value:function(e,t,n){g()}},{key:"onGridScrollInternal",value:function(e){g(!0)}},{key:"onChangeDisabledInternal",value:function(){g(!0)}},{key:"onChangeReadOnlyInternal",value:function(){g(!0)}},{key:"onSetInputAttrsInternal",value:function(e,t,n){i.SmallDialogInputElement.setInputAttrs(this,e,n)}},{key:"classList",get:function(){if(this._classList)return Array.isArray(this._classList)?this._classList:[this._classList]},set:function(e){this._classList=e}},{key:"type",get:function(){return this._type},set:function(e){this._type=e}},{key:"helperText",get:function(){return this._helperText}},{key:"inputValidator",get:function(){return this._inputValidator}},{key:"validator",get:function(){return this._validator}}]),n}(o.BaseInputEditor);t.SmallDialogInputEditor=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(2),i=n(11),l=n(43),a="cheetah-grid__small-dialog-input",u="".concat(a,"__input"),c="".concat(a,"--hidden"),f="".concat(a,"--shown");function d(e,t){t.tryWithOffEvents(e,"blur",(function(){!function(){e.focus();var t=e.value.length;try{if(void 0!==e.selectionStart)return e.selectionStart=t,void(e.selectionEnd=t)}catch(e){}if(document.selection){var n=e.createTextRange();n.collapse(),n.moveEnd("character",t),n.moveStart("character",t),n.select()}}()}))}function g(e,t,n){var o=e.type;n.type=o||""}var p=function(){function e(){h(this,e),this._handler=new r.EventHandler,this._dialog=function(){n(104);var e=i.createElement("div",{classList:[a,c]}),t=i.createElement("input",{classList:u});return t.readOnly=!0,t.tabIndex=-1,e.appendChild(t),e}(),this._input=this._dialog.querySelector(".".concat(u)),this._bindDialogEvents()}return v(e,[{key:"dispose",value:function(){var e=this._dialog;this.detach(),this._handler.dispose(),delete this._dialog,delete this._input,this._beforePropEditor=null,e.parentElement&&e.parentElement.removeChild(e)}},{key:"attach",value:function(e,t,n,r,i){var a=this,u=this._handler,h=this._dialog,v=this._input;this._beforePropEditor&&function(e,t,n,o){var r,i=o.classList;i&&(r=t.classList).remove.apply(r,s(i)),delete t.dataset.helperText,n.type=""}(0,h,v,this._beforePropEditor),delete h.dataset.errorMessage,h.classList.remove(f),h.classList.add(c),v.readOnly=!0,v.tabIndex=0;var p=e.getAttachCellsArea(e.getCellRange(n,r)),y=p.element,_=p.rect;h.style.top="".concat(_.top.toFixed(),"px"),h.style.left="".concat(_.left.toFixed(),"px"),h.style.width="".concat(_.width.toFixed(),"px"),v.style.height="".concat(_.height.toFixed(),"px"),y.appendChild(h),l.setInputValue(v,i),v.style.font=e.font||"16px sans-serif";var m={grid:e,col:n,row:r,editor:t};this._onInputValue(v,m),o.browser.IE?setTimeout((function(){return d(v,u)})):d(v,u),h.classList.add(f),h.classList.remove(c),v.readOnly=!1,function(e,t,n,o){var r,i=o.classList,l=o.helperText;i&&(r=t.classList).add.apply(r,s(i)),l&&"function"!=typeof l&&(t.dataset.helperText=l),g(o,0,n)}(0,h,v,t),this._activeData=m,this._beforePropEditor=t,this._attaching=!0,setTimeout((function(){delete a._attaching}))}},{key:"detach",value:function(e){if(this._isActive()){var t=this._dialog,n=this._input;t.classList.remove(f),t.classList.add(c),n.readOnly=!0,n.tabIndex=-1;var o=this._activeData,r=o.grid,i=o.col,l=o.row,a=r.getCellRange(i,l);r.invalidateCellRange(a),e&&r.focus()}this._activeData=null,this._beforeValue=null}},{key:"_doChangeValue",value:function(){var e=this;if(!this._isActive())return!1;var t=this._input,n=t.value;return o.then(this._validate(n),(function(o){if(o&&n===t.value){var r=e._activeData,i=r.grid,l=r.col,a=r.row;return i.doChangeValue(l,a,(function(){return n})),!0}return!1}))}},{key:"_isActive",value:function(){var e=this._dialog;return!(!e||!e.parentElement||!this._activeData)}},{key:"_bindDialogEvents",value:function(){var e=this,t=this._handler,n=this._dialog,r=this._input,i=function(e){return e.stopPropagation()};t.on(n,"click",i),t.on(n,"dblclick",i),t.on(n,"mousedown",i),t.on(n,"touchstart",i),t.on(r,"compositionstart",(function(e){r.classList.add("composition")})),t.on(r,"compositionend",(function(t){r.classList.remove("composition"),e._onInputValue(r)}));var l=function(t){r.classList.contains("composition")||e._onInputValue(r)};t.on(r,"keyup",l),t.on(r,"keypress",l),t.on(r,"keydown",(function(t){if(!r.classList.contains("composition")){var n=o.event.getKeyCode(t);27===n?(e.detach(!0),o.event.cancel(t)):13===n?e._onKeydownEnter(t):e._onInputValue(r)}}))}},{key:"_onKeydownEnter",value:function(e){var t=this;if(!this._attaching){var n=this._input,r=n.value;o.then(this._doChangeValue(),(function(o){var i;if(o&&r===n.value){var l=t._isActive()?t._activeData.grid:null;t.detach(!0),(null===(i=null==l?void 0:l.keyboardOptions)||void 0===i?void 0:i.moveCellOnEnter)&&l.onKeyDownMove(e)}})),o.event.cancel(e)}}},{key:"_onInputValue",value:function(e,t){var n=this._beforeValue,o=e.value;n!==o&&this._onInputValueChange(o,t),this._beforeValue=o}},{key:"_onInputValueChange",value:function(e,t){t=t||this._activeData;var n=this._dialog,o=t,r=o.grid,i=o.col,l=o.row,a=o.editor;if("function"==typeof a.helperText){var u=a.helperText(e,{grid:r,col:i,row:l});u?n.dataset.helperText=u:delete n.dataset.helperText}"errorMessage"in n.dataset&&this._validate(e,!0)}},{key:"_validate",value:function(e,t){var n=this._dialog,r=this._input,i=this._activeData,l=i.grid,a=i.col,u=i.row,c=i.editor,s="";return c.inputValidator&&(s=c.inputValidator(e,{grid:l,col:a,row:u})),o.then(s,(function(i){return i||!c.validator||t||(i=c.validator(e,{grid:l,col:a,row:u})),o.then(i,(function(t){return t&&e===r.value?n.dataset.errorMessage=t:delete n.dataset.errorMessage,!t}))}))}}],[{key:"setInputAttrs",value:function(e,t,n){g(e,0,n)}}]),e}();t.SmallDialogInputElement=p},function(e,t,n){var o=n(105);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(5)(o,r),o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,"/* ms */\n.cheetah-grid__small-dialog-input__input::-ms-clear {\n\tvisibility: hidden;\n}\n\n@keyframes cheetah-grid__small-dialog-input--hidden-animation {\n\t0% {\n\t\topacity: 1;\n\t}\n\t99% {\n\t\topacity: 1;\n\t}\n\t100% {\n\t\topacity: 0;\n\t}\n}\n.cheetah-grid__small-dialog-input {\n\tposition: absolute;\n\tbox-sizing: content-box;\n\tmargin: -1px auto auto -1px;\n\tborder-radius: 3px;\n\tbackground-color: #fafafa;\n\ttransition: padding 150ms ease-out, box-shadow 150ms ease-out;\n}\n.cheetah-grid__small-dialog-input--hidden {\n\tbox-shadow: none;\n\tpadding: 0;\n\tpointer-events: none;\n\tanimation: cheetah-grid__small-dialog-input--hidden-animation  150ms ease-out;\n\topacity: 0;\n}\n.cheetah-grid__small-dialog-input--shown {\n\tbox-shadow: 0 3px 1px -2px rgba(0, 0, 0, .2), 0 2px 2px 0 rgba(0, 0, 0, .14), 0 1px 5px 0 rgba(0, 0, 0, .12);\n\tpadding: 8px 24px;\n}\n.cheetah-grid__small-dialog-input__input {\n\twidth: 100%;\n\theight: 100%;\n\tbox-sizing: border-box;\n\tpadding: 3px 2px 0 4px;\n\tborder: none;\n\tborder-bottom: solid 1px rgba(0, 0, 0, .87);\n\toutline: none;\n\tbackground-color: transparent;\n\ttransition: all 300ms ease-out;\n}\n.cheetah-grid__small-dialog-input__input:focus {\n\tborder-bottom: solid 1px #2196f3;\n\tbox-shadow: 0 1px 0 0 #2196f3;\n}\n.cheetah-grid__small-dialog-input::after {\n\tcontent: '';\n\tfont-family: Roboto;\n\tfont-size: 12px;\n\tfont-size: .75rem;\n\tmin-height: 1em;\n\tline-height: 1;\n\tdisplay: block;\n\twidth: 100%;\n\tpadding-top: 8px;\n}\n.cheetah-grid__small-dialog-input.helper-text--right-justified::after {\n\ttext-align: right;\n}\n.cheetah-grid__small-dialog-input[data-helper-text]::after {\n\tcontent: attr(data-helper-text);\n\tcolor: rgba(0, 0, 0, .87);\n}\n.cheetah-grid__small-dialog-input[data-error-message] input {\n\tborder-bottom: solid 1px #ff1744;\n\tbox-shadow: 0 1px 0 0 #ff1744;\n}\n.cheetah-grid__small-dialog-input[data-error-message]::after {\n\tcontent: attr(data-error-message);\n\tcolor: #ff1744;\n\ttext-align: left;\n}\n",""])},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(56);t.DrawGrid=o.DrawGrid;var r=n(3);t.EVENT_TYPE=r.DG_EVENT_TYPE},function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0});var r=o(2),i=o(0),l=new r.EventHandler,a=1;function u(){i.isNode?a=1:(a=Math.ceil(e.devicePixelRatio||1))>1&&a%2!=0&&(a+=1)}u(),i.isNode||l.on(e,"resize",u),n.transform=function(e){var t=e.getContext("2d"),n=e.getAttribute,o=e.setAttribute;e.getAttribute=function(e){var t=n.call(this,e);return"width"!==e&&"height"!==e||(t="".concat(Number(t)/a)),t},e.setAttribute=function(e,n){var r="width"===e||"height"===e;r&&(n="".concat(Number(n)*a));var i=o.call(this,e,n);return r&&t.scale(a,a),i},Object.defineProperty(e,"width",{get:function(){return Number(e.getAttribute("width"))},set:function(t){e.setAttribute("width","".concat(Math.floor(t)))},configurable:!0,enumerable:!0}),Object.defineProperty(e,"height",{get:function(){return Number(e.getAttribute("height"))},set:function(t){e.setAttribute("height","".concat(Math.floor(t)))},configurable:!0,enumerable:!0});var r=t.drawImage;return t.drawImage=function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];if(t!==e||1===a)return r.call.apply(r,[this,t].concat(o));this.save();try{return this.scale(1/a,1/a),o.length>4?(o[4]*=a,o[5]*=a):(o[0]*=a,o[1]*=a),r.call.apply(r,[this,t].concat(o))}finally{this.restore()}},e}},function(e,t,n){var o=n(109);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(5)(o,r),o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,"/**\n * core styles\n */\n.cheetah-grid .grid-scrollable {\n\theight: 100%;\n\twidth: 100%;\n\tposition: absolute;\n\toverflow: scroll;\n}\n.cheetah-grid .grid-scroll-end-point {\n\topacity: 0;\n\tposition: relative;\n}\n.cheetah-grid {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n.cheetah-grid > canvas {\n\tposition: absolute;\n\twidth: 0;\n\theight: 0;\n}\n.cheetah-grid .grid-focus-control {\n\tposition: relative !important;\n\twidth: 1px;\n\theight: 1px;\n\topacity: 0;\n\tpadding: 0;\n\tmargin: 0;\n\tbox-sizing: border-box;\n\tpointer-events: none;\n\tmax-width: 0;\n\tmax-height: 0;\n\tfloat: none !important;\n}\n.cheetah-grid input.grid-focus-control::-ms-clear {\n\tvisibility: hidden;\n}\n.cheetah-grid input.grid-focus-control.composition {\n\topacity: 1;\n\tmax-width: none;\n\tmax-height: none;\n}\n",""])},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){h(this,e),this._keys=[],this._vals={},this._sorted=!1}return v(e,[{key:"put",value:function(e,t){e in this._vals||(this._keys.push(e),this._sorted=!1),this._vals[e]=t}},{key:"get",value:function(e){return this._vals[e]}},{key:"has",value:function(e){return null!=this._vals[e]}},{key:"each",value:function(e,t,n){var o=this._keys,r=o.length;this._sorted||(o.sort((function(e,t){return e<t?-1:e>t?1:0})),this._sorted=!0);for(var i=function(e,t){for(var n=0,o=e.length-1;n<=o;){var r=Math.floor((n+o)/2);if(e[r]===t)return r;e[r]>t?o=r-1:n=r+1}return o<0?0:o}(o,e);i<r;i++){var l=o[i];if(e<=l&&l<=t)n(this.get(l),l);else if(t<l)return}}}]),e}();t.NumberMap=o},function(e,t,n){var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(57)),i=n(2),l=n(0).browser.heightLimit-1e3,a=function(){function e(){h(this,e),this._p=1,this._handler=new i.EventHandler,this._scrollable=document.createElement("div"),this._scrollable.classList.add("grid-scrollable"),this._height=0,this._width=0,this._endPointElement=document.createElement("div"),this._endPointElement.classList.add("grid-scroll-end-point"),this._update(),this._scrollable.appendChild(this._endPointElement)}return v(e,[{key:"calcTop",value:function(e){var t=e-this.scrollTop;return this._scrollable.scrollTop+t}},{key:"getElement",value:function(){return this._scrollable}},{key:"setScrollSize",value:function(e,t){this._width=e,this._height=t,this._update()}},{key:"onScroll",value:function(e){this._handler.on(this._scrollable,"scroll",e)}},{key:"dispose",value:function(){this._handler.dispose()}},{key:"_update",value:function(){var e;if(this._height>l){var t=r.getScrollBarSize(),n=this._scrollable.offsetHeight,o=l-n+t,i=this._height-n+t;this._p=o/i,e=l}else this._p=1,e=this._height;this._endPointElement.style.top="".concat(e.toFixed(),"px"),this._endPointElement.style.left="".concat(this._width.toFixed(),"px")}},{key:"scrollWidth",get:function(){return this._width},set:function(e){this._width=e,this._update()}},{key:"scrollHeight",get:function(){return this._height},set:function(e){this._height=e,this._update()}},{key:"scrollLeft",get:function(){return Math.max(Math.ceil(this._scrollable.scrollLeft),0)},set:function(e){this._scrollable.scrollLeft=e}},{key:"scrollTop",get:function(){return Math.max(Math.ceil(this._scrollable.scrollTop/this._p),0)},set:function(e){this._scrollable.scrollTop=e*this._p}}]),e}();t.Scrollable=a},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i=o(30),a=function(e){r(o,e);var t=l(o);function o(e){var n;return h(this,o),(n=t.call(this,e))._rCache={},n._fCache={},n}return v(o,[{key:"getOriginal",value:function(e){return this._rCache&&this._rCache[e]?this._rCache[e]:n(c(o.prototype),"getOriginal",this).call(this,e)}},{key:"getOriginalField",value:function(e,t){var r=this._fCache&&this._fCache[e];if(r){var i=r.get(t);if(i)return i}return n(c(o.prototype),"getOriginalField",this).call(this,e,t)}},{key:"setOriginalField",value:function(e,t,r){var i=this._fCache;return i&&i[e]&&delete i[e],n(c(o.prototype),"setOriginalField",this).call(this,e,t,r)}},{key:"clearCache",value:function(){this._rCache&&(this._rCache={}),this._fCache&&(this._fCache={})}},{key:"fieldPromiseCallBackInternal",value:function(e,t,n){!function(e,t,n,o){(e[t]||(e[t]=new Map)).set(n,o)}(this._fCache,e,t,n)}},{key:"recordPromiseCallBackInternal",value:function(e,t){this._rCache[e]=t}},{key:"dispose",value:function(){n(c(o.prototype),"dispose",this).call(this)}}],[{key:"ofArray",value:function(e){return new o({get:function(t){return e[t]},length:e.length,source:e})}},{key:"EVENT_TYPE",get:function(){return i.DataSource.EVENT_TYPE}}]),o}(i.DataSource);t.CachedDataSource=a},function(t,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(0),u=i(30),s=i(2),f=function(){function e(t){h(this,e),this._dataSource=t,this._curIndex=-1,this._data=[]}return v(e,[{key:"hasNext",value:function(){var e=this._curIndex+1;return this._dataSource.length>e}},{key:"next",value:function(){var e=this._curIndex+1,t=this._getIndexData(e);return this._curIndex=e,t}},{key:"movePrev",value:function(){this._curIndex--}},{key:"_getIndexData",value:function(e,t){var n=this._dataSource,o=this._data;if(e<o.length)return o[e];if(!(n.length<=e)){var r=this._dataSource.get(e);if(o[e]=r,a.isPromise(r)&&(r.then((function(t){o[e]=t})),!t))for(var i=1;i<=100;i++)this._getIndexData(e+i,!0);return r}}}]),e}(),d=function(){function t(e,n,o){h(this,t),this._cancel=!1,this._owner=e,this._dataSourceItr=new f(n),this._filter=o,this._filterdList=[],this._queues=[]}return v(t,[{key:"get",value:function(e){if(!this._cancel){var t=this._filterdList;if(e<t.length)return t[e];var n=this._queues,o=n[e];return o||n[e]||this._findIndex(e)}}},{key:"cancel",value:function(){this._cancel=!0}},{key:"_findIndex",value:function(t){if(e.Promise){var n=Date.now()+100,o=0;return this._findIndexWithTimeout(t,(function(){return++o>=100&&(o=0,n<Date.now())}))}return this._findIndexWithTimeout(t,(function(){return!1}))}},{key:"_findIndexWithTimeout",value:function(e,t){for(var n=this,o=this._filterdList,r=this._filter,i=this._dataSourceItr,l=this._queues;i.hasNext();){if(this._cancel)return;var u=i.next();if(a.isPromise(u)){i.movePrev();var c=u.then((function(t){return l[e]=null,n.get(e)}));return l[e]=c,c}if(r(u)&&(o.push(u),e<o.length))return o[e];if(t()){var s=new Promise((function(e){setTimeout((function(){e()}),300)})).then((function(){return l[e]=null,n.get(e)}));return l[e]=s,s}}this._owner.length=o.length}}]),t}(),g=function(e){r(o,e);var t=l(o);function o(e,n){var r;h(this,o),(r=t.call(this,e))._filterData=null,r._dataSource=e,r.filter=n;var i=r._handler=new s.EventHandler;return i.on(e,u.DataSource.EVENT_TYPE.UPDATED_ORDER,(function(){r.filter=r.filter})),a.each(u.DataSource.EVENT_TYPE,(function(t){i.on(e,t,(function(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=r).fireListeners.apply(e,[t].concat(o))}))})),r}return v(o,[{key:"getOriginal",value:function(e){return this._filterData?this._filterData.get(e):n(c(o.prototype),"getOriginal",this).call(this,e)}},{key:"sort",value:function(e,t){return this._dataSource.sort(e,t)}},{key:"dispose",value:function(){this._handler.dispose(),n(c(o.prototype),"dispose",this).call(this)}},{key:"filter",get:function(){var e;return(null===(e=this._filterData)||void 0===e?void 0:e._filter)||null},set:function(e){this._filterData&&this._filterData.cancel(),this._filterData=e?new d(this,this._dataSource,e):null,this.length=this._dataSource.length}},{key:"source",get:function(){return this._dataSource.source}},{key:"dataSource",get:function(){return this._dataSource}}],[{key:"EVENT_TYPE",get:function(){return u.DataSource.EVENT_TYPE}}]),o}(u.DataSource);o.FilterDataSource=g},function(e,t,n){var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(31));t.action=r;var i=o(n(33));t.style=i;var l=o(n(23));t.type=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(61),i=n(32),a=n(17),u=n(1),c=n(0),f=u.getCheckHeaderStateId(),d=function(e){r(n,e);var t=l(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"bindGridEvent",value:function(e,t){var n=this,r=function(e){var t=e[f];return t||(t={elapsed:{},block:{}},c.obj.setReadonly(e,f,t)),t}(e),i=function(t){var o=t.col,i=t.row,l=e.getCellRange(o,i),u="".concat(l.start.col,":").concat(l.start.row);if(!n.disabled&&!r.block[u]){var c=e.getHeaderValue(l.start.col,l.start.row);e.setHeaderValue(l.start.col,l.start.row,!c),a.animate(200,(function(t){1===t?delete r.elapsed[u]:r.elapsed[u]=t,e.invalidateCellRange(l)}))}};return[].concat(s(o.bindCellClickAction(e,t,{action:i,mouseOver:function(t){if(n.disabled)return!1;r.mouseActiveCell={col:t.col,row:t.row};var o=e.getCellRange(t.col,t.row);return e.invalidateCellRange(o),!0},mouseOut:function(t){delete r.mouseActiveCell;var n=e.getCellRange(t.col,t.row);e.invalidateCellRange(n)}})),s(o.bindCellKeyAction(e,t,{action:i})))}}]),n}(i.BaseAction);t.CheckHeaderAction=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(32),i=n(61),a=function(e){r(n,e);var t=l(n);function n(){var e,o,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(e=t.call(this,r))._sort=null===(o=r.sort)||void 0===o||o,e}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"_executeSort",value:function(e,t){if("function"==typeof this._sort)this._sort({order:e.order||"asc",col:e.col,row:e.row,grid:t});else{var n=Math.min(t.recordRowCount-1,e.row)+t.frozenRowCount,o=t.getField(e.col,n);if(null==o)return;t.dataSource.sort(o,e.order||"asc")}}},{key:"bindGridEvent",value:function(e,t){var n=this;return s(i.bindCellClickAction(e,t,{action:function(o){if(!n.disabled){var r,i,l,a=e.sortState,u=e.getCellRange(o.col,o.row);i=a.col,l=o.row,r=e.getLayoutCellId(i,l)===t?{col:u.start.col,row:u.start.row,order:"asc"===a.order?"desc":"asc"}:{col:u.start.col,row:u.start.row,order:"asc"},e.sortState=r,n._executeSort(r,e),e.invalidateGridRect(0,0,e.colCount-1,e.rowCount-1)}},mouseOver:function(e){return!n.disabled}}))}},{key:"sort",get:function(){return this._sort},set:function(e){this._sort=e,this.onChangeDisabledInternal()}}]),n}(o.BaseAction);t.SortHeaderAction=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i=function(e){r(n,e);var t=l(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(e=t.call(this,o))._textAlign=o.textAlign||"left",e._textBaseline=o.textBaseline||"middle",e}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"textAlign",get:function(){return this._textAlign},set:function(e){this._textAlign=e,this.doChangeStyle()}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(e){this._textBaseline=e,this.doChangeStyle()}}],[{key:"DEFAULT",get:function(){return o||(o=new n)}}]),n}(n(34).BaseStyle);t.StdBaseStyle=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(14),a=n(62),u=n(1).getCheckHeaderStateId(),c=function(e){r(n,e);var t=l(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"drawInternal",value:function(e,t,n,r,i,l){var a=l.drawCellBase,c=n.textAlign,s=n.textBaseline,f=n.borderColor,h=n.checkBgColor,d=n.uncheckBgColor,v=n.bgColor,g=n.color,p=n.font,y=n.textOverflow;v&&a({bgColor:v});var _=t.col,m=t.row,C=i.getCellRange(_,m),w="".concat(C.start.col,":").concat(C.start.row),b=function(e){var t=e[u];return t||(t={elapsed:{},block:{}},o.obj.setReadonly(e,u,t)),t}(i).elapsed[w],k=i.getHeaderValue(C.start.col,C.start.row),E={textAlign:c,textBaseline:s,borderColor:f,checkBgColor:h,uncheckBgColor:d};o.isDef(b)&&(E.animElapsedTime=b);var x=r.buildCheckBoxInline(!!k,t,E);r.text([x,e],t,{textAlign:c,textBaseline:s,color:g,font:p,textOverflow:y})}},{key:"StyleClass",get:function(){return a.CheckHeaderStyle}}]),n}(i.BaseHeader);t.CheckHeader=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=n(13),a=function(e){r(n,e);var t=l(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"drawInternal",value:function(e,t,n,o,r,i){var l=i.drawCellBase,a=n.textAlign,u=n.textBaseline,c=n.color,s=n.font,f=n.bgColor,h=n.textOverflow;f&&l({bgColor:f}),o.text(e,t,{textAlign:a,textBaseline:u,color:c,font:s,textOverflow:h})}},{key:"StyleClass",get:function(){return i.Style}}]),n}(o.BaseHeader);t.Header=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=n(63),a=function(e){r(n,e);var t=l(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"clone",value:function(){return new n(this)}},{key:"drawInternal",value:function(e,t,n,o,r,i){var l=i.drawCellBase,a=n.textAlign,u=n.textBaseline,c=n.color,s=n.font,f=n.bgColor,h=n.lineHeight,d=n.autoWrapText,v=n.lineClamp,g=n.textOverflow;f&&l({bgColor:f});var p=e.replace(/\r?\n/g,"\n").replace(/\r/g,"\n").split("\n");o.testFontLoad(s,e,t),o.multilineText(p,t,{textAlign:a,textBaseline:u,color:c,font:s,lineHeight:h,autoWrapText:d,lineClamp:v,textOverflow:g})}},{key:"StyleClass",get:function(){return i.MultilineTextHeaderStyle}}]),n}(o.BaseHeader);t.MultilineTextHeader=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(14),a=n(64),u=n(8),c=function(e){r(n,e);var t=l(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"drawInternal",value:function(e,t,n,r,i,l){var a=l.drawCellBase,c=n.textAlign,s=n.textBaseline,f=void 0===s?"middle":s,h=n.color,d=n.bgColor,v=n.font,g=n.textOverflow,p=n.sortArrowColor;d&&a({bgColor:d});var y=i.sortState,_=void 0,m=t.col,C=t.row,w=i.getCellRange(m,C);o.cellInRange(w,y.col,y.row)&&(_=y.order);var b=t.getContext(),k=1.2*u.getFontSize(b,v).width;r.text(e,t,{textAlign:c,textBaseline:f,color:h,font:v,textOverflow:g,icons:[{name:o.isDef(_)?"asc"===_?"arrow_downward":"arrow_upward":void 0,width:k,color:r.getColor(p||r.theme.header.sortArrowColor,m,C,b)||"rgba(0, 0, 0, 0.38)"}]})}},{key:"StyleClass",get:function(){return a.SortHeaderStyle}}]),n}(i.BaseHeader);t.SortHeader=c},function(e,t){e.exports={d:"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z",width:48,height:48}},function(e,t){e.exports={d:"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z",width:48,height:48}},function(e,t){e.exports={d:"M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z",width:48,height:48}},function(e,t){e.exports={d:"M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z",width:48,height:48}},function(e,t){e.exports={d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z",width:24,height:24}},function(e,t){e.exports={d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z",width:24,height:24}},function(e,t){e.exports={d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z",width:24,height:24}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(66),r=n(67);function i(e,t,n){var o=e[t];return e[t]=n,o}t.theme=function(e,t){return null!=t?i(r.themes,e,t):r.themes[e]},t.icon=function(e,t){return null!=t?i(o.icons,e,t):o.icons[e]},t.icons=function(e){return function(e,t){for(var n in t)e[n]=t[n]}(o.icons,e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1).get();function i(e,t,n,r){return o.getChainSafe.apply(o,[e].concat(s(n)))||o.getChainSafe.apply(o,[t].concat(s(n)))||r&&o.getChainSafe.apply(o,[e].concat(s(r)))||r&&o.getChainSafe.apply(o,[t].concat(s(r)))}var l=function(){function e(t,n){h(this,e),this._checkbox=null,this._radioButton=null,this._button=null,this._header=null,this[r]={obj:t,superTheme:n}}return v(e,[{key:"hasProperty",value:function(e){var t=this[r],n=t.obj,o=t.superTheme;return a(n,e)||a(o,e)}},{key:"extends",value:function(t){return new e(t,this)}},{key:"font",get:function(){var e=this[r];return i(e.obj,e.superTheme,["font"])}},{key:"underlayBackgroundColor",get:function(){var e=this[r];return i(e.obj,e.superTheme,["underlayBackgroundColor"])}},{key:"color",get:function(){var e=this[r];return i(e.obj,e.superTheme,["color"])}},{key:"frozenRowsColor",get:function(){var e=this[r];return i(e.obj,e.superTheme,["frozenRowsColor"],["color"])}},{key:"defaultBgColor",get:function(){var e=this[r];return i(e.obj,e.superTheme,["defaultBgColor"])}},{key:"frozenRowsBgColor",get:function(){var e=this[r];return i(e.obj,e.superTheme,["frozenRowsBgColor"],["defaultBgColor"])}},{key:"selectionBgColor",get:function(){var e=this[r];return i(e.obj,e.superTheme,["selectionBgColor"],["defaultBgColor"])}},{key:"highlightBgColor",get:function(){var e=this;if(this.hasProperty(["highlightBgColor"])){var t=this[r];return i(t.obj,t.superTheme,["highlightBgColor"])}return function(t){var n=t.row<t.grid.frozenRowCount?e.frozenRowsBgColor:e.defaultBgColor;return"function"==typeof n?n(t):n}}},{key:"borderColor",get:function(){var e=this[r];return i(e.obj,e.superTheme,["borderColor"])}},{key:"frozenRowsBorderColor",get:function(){var e=this[r];return i(e.obj,e.superTheme,["frozenRowsBorderColor"],["borderColor"])}},{key:"highlightBorderColor",get:function(){var e=this[r];return i(e.obj,e.superTheme,["highlightBorderColor"],["borderColor"])}},{key:"checkbox",get:function(){var e=this[r],t=e.obj,n=e.superTheme;return this._checkbox||(this._checkbox={get uncheckBgColor(){return i(t,n,["checkbox","uncheckBgColor"],["defaultBgColor"])},get checkBgColor(){return i(t,n,["checkbox","checkBgColor"],["borderColor"])},get borderColor(){return i(t,n,["checkbox","borderColor"],["borderColor"])}})}},{key:"radioButton",get:function(){var e=this[r],t=e.obj,n=e.superTheme;return this._radioButton||(this._radioButton={get checkColor(){return i(t,n,["radioButton","checkColor"],["color"])},get uncheckBorderColor(){return i(t,n,["radioButton","uncheckBorderColor"],["borderColor"])},get checkBorderColor(){return i(t,n,["radioButton","checkBorderColor"],["borderColor"])},get uncheckBgColor(){return i(t,n,["radioButton","uncheckBgColor"],["defaultBgColor"])},get checkBgColor(){return i(t,n,["radioButton","checkBgColor"],["defaultBgColor"])}})}},{key:"button",get:function(){var e=this[r],t=e.obj,n=e.superTheme;return this._button||(this._button={get color(){return i(t,n,["button","color"],["color"])},get bgColor(){return i(t,n,["button","bgColor"],["defaultBgColor"])}})}},{key:"header",get:function(){var e=this[r],t=e.obj,n=e.superTheme;return this._header||(this._header={get sortArrowColor(){return i(t,n,["header","sortArrowColor"],["color"])}})}}]),e}();function a(e,t){if(e instanceof l)return e.hasProperty(t);var n=e;if(!n)return!1;for(var o=0;o<t.length;o++)if(!(n=n[t[o]]))return!1;return!!n}t.Theme=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o={};t.default={color:"#000",defaultBgColor:function(e){var t=e.row,n=e.grid;return t<n.frozenRowCount?"#FFF":1&n.getRecordIndexByRow(t)?"#F6F6F6":"#FFF"},frozenRowsBgColor:function(e){var t=e.col,n=e.grid,r=e.grid.frozenRowCount,i=e.context,l=n.getCellRelativeRect(t,0),a=l.left;return function(e,t,n,r,i,l){var a,u=[];for(a in l)u.push("".concat(a,"@").concat(l[a]));var c="".concat(t,"/").concat(n,"/").concat(r,"/").concat(i,"/").concat(u.join(",")),s=o[c];if(s)return s;var f=e.createLinearGradient(t,n,t,i);for(a in l)f.addColorStop(Number(a),l[a]);return o[c]=f}(i,a,l.top,a,n.getCellRelativeRect(t,r-1).bottom,{0:"#FFF",1:"#D3D3D3"})},selectionBgColor:"#CCE0FF",borderColor:"#000",highlightBorderColor:"#5E9ED6",checkbox:{uncheckBgColor:"#FFF",checkBgColor:"rgb(76, 73, 72)",borderColor:"#000"},radioButton:{checkColor:"rgb(76, 73, 72)",checkBorderColor:"#000",uncheckBorderColor:"#000",uncheckBgColor:"#FFF",checkBgColor:"#FFF"},button:{color:"#FFF",bgColor:"#2196F3"},header:{sortArrowColor:"rgba(0, 0, 0, 0.38)"},underlayBackgroundColor:"#F6F6F6"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default={color:"rgba(0, 0, 0, 0.87)",frozenRowsColor:"rgba(0, 0, 0, 0.54)",defaultBgColor:"#FFF",selectionBgColor:"#CCE0FF",borderColor:function(e){var t=e.col,n=e.row,o=e.grid,r=o.colCount,i=o.frozenColCount,l=o.recordRowCount,a="#ccc7c7",u="#ccc7c7";if(l>1){var c=o.getRecordStartRowByRecordIndex(o.getRecordIndexByRow(n));c!==n&&(a=null),c+l-1!==n&&(u=null)}return i-1===t||r-1===t?[a,"#f2f2f2",u,null]:[a,null,u,null]},frozenRowsBorderColor:function(e){var t=e.row;return e.grid.frozenRowCount-1===t?["#f2f2f2","#f2f2f2","#ccc7c7","#f2f2f2"]:["#f2f2f2"]},highlightBorderColor:"#5E9ED6",checkbox:{checkBgColor:"rgb(76, 73, 72)",borderColor:"rgba(0, 0, 0, 0.26)"},radioButton:{checkColor:"rgb(76, 73, 72)",checkBorderColor:"rgb(76, 73, 72)",uncheckBorderColor:"rgb(189, 189, 189)"},button:{color:"#FFF",bgColor:"#2196F3"},header:{sortArrowColor:"rgba(0, 0, 0, 0.38)"},underlayBackgroundColor:"#FFF"}},function(e,t,n){var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(68));t.canvashelper=r},function(o,i,a){var f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(i,"__esModule",{value:!0});var d=f(a(27)),g=f(a(35)),p=a(59),y=a(135),_=a(56),m=a(0),C=a(26),w=a(70),b=a(33),k=a(37),E=a(147),x=a(22),R=a(159),S=a(1),I=a(58),T=S.getProtectedSymbol();function L(e,t,n){return e[T].layoutMap.getCellRange(t,n)}function O(e,t,n,o){o.setRectFilter((function(o){for(var r=o.left,i=o.right,l=o.top,a=o.bottom,u=L(e,t,n),c=u.start,s=c.col,f=c.row,h=u.end,d=h.col,v=h.row,g=t-1;g>=s;g--)r-=e.getColWidth(g);for(var p=t+1;p<=d;p++)i+=e.getColWidth(p);for(var y=n-1;y>=f;y--)l-=e.getRowHeight(y);for(var _=n+1;_<=v;_++)a+=e.getRowHeight(_);return x.Rect.bounds(r,l,i,a)}))}function M(e,t,n){if(n<e[T].layoutMap.headerRowCount)return e[T].layoutMap.getHeader(t,n).caption;var o=e[T].layoutMap.getBody(t,n);return D(e,o.field,n)}function B(e,t,n){if(n<e[T].layoutMap.headerRowCount)return null;var o=e[T].layoutMap.getBody(t,n).message;return o?D(e,o,n):null}function P(e,t,n){if(Array.isArray(t))return t.map((function(t){return P(e,t,n)}));if(!m.obj.isObject(t)||"function"==typeof t)return D(e,t,n);var o={},r=t;return d.iconPropKeys.forEach((function(t){if(r[t]){var i=D(e,r[t],n);m.isDef(i)?o[t]=i:function(e,t,n){if(!m.isDef(t))return!1;if(n<e[T].layoutMap.headerRowCount)return!1;var o=W(e,n);return e[T].dataSource.hasField(o,t)}(e,r[t],n)||(o[t]=r[t])}})),o}function D(e,t,n){if(!m.isDef(t))return null;if(n<e[T].layoutMap.headerRowCount)return null;var o=W(e,n);return e[T].dataSource.getField(o,t)}function A(e,t,n,o,r,i){var l=o.col,a=o.row,u=e[T].gridCanvasHelper,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bgColor,o={fillColor:t};u.fillCellWithState(n,o)},s=function(){if(n.col===e.frozenColCount-1){var t=n.getRect();u.drawWithClip(n,(function(o){var r=n.row>=e.frozenRowCount?u.theme.borderColor:u.theme.frozenRowsBorderColor,i=u.toBoxArray(u.getColor(r,n.col,n.row,o));i[1]&&(o.lineWidth=1,o.strokeStyle=i[1],o.beginPath(),o.moveTo(t.right-2.5,t.top),o.lineTo(t.right-2.5,t.bottom),o.stroke())}))}!function(e,t,n){var o=n.col,r=n.row,i=e.selection.select,l=e[T].layoutMap,a=n.getRect(),u={},c=l.getRecordIndexByRow(i.row),s=l.getCellId(i.col,i.row);function f(e,t){return e===i.col&&t===i.row||null!=s&&l.getCellId(e,t)===s&&l.getRecordIndexByRow(t)===c}if(f(o,r))u.borderColor=t.theme.highlightBorderColor,u.lineWidth=2,t.border(n,u);else{u.lineWidth=1;var h=e.isFrozenCell(o,r);(null==h?void 0:h.row)&&(u.borderColor=t.theme.frozenRowsBorderColor),t.border(n,u),o>0&&f(o-1,r)?t.drawBorderWithClip(n,(function(e){var n=t.toBoxArray(t.getColor(t.theme.highlightBorderColor,i.col,i.row,e));n[1]&&(e.lineWidth=1,e.strokeStyle=n[1],e.beginPath(),e.moveTo(a.left-.5,a.top),e.lineTo(a.left-.5,a.bottom),e.stroke())})):r>0&&f(o,r-1)&&t.drawBorderWithClip(n,(function(e){var n=t.toBoxArray(t.getColor(t.theme.highlightBorderColor,i.col,i.row,e));n[0]&&(e.lineWidth=1,e.strokeStyle=n[0],e.beginPath(),e.moveTo(a.left,a.top-.5),e.lineTo(a.right,a.top-.5),e.stroke())}))}}(e,u,n)};return i(t,{getRecord:function(){return e.getRowRecord(a)},getIcon:function(){return function(e,t,n){var o=e[T].layoutMap.getBody(t,n).icon;return null==o?null:P(e,o,n)}(e,l,a)},getMessage:function(){return B(e,l,a)},messageHandler:e[T].messageHandler,style:r,drawCellBase:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bgColor;c({bgColor:t}),s()},drawCellBg:c,drawCellBorder:s},n,e)}function j(e){var t,n=e[T];n.headerEvents&&n.headerEvents.forEach((function(t){return e.unlisten(t)}));var o,r=e[T].headerEvents=[];r.forEach((function(t){return e.unlisten(t)})),(o=n.layout&&(!Array.isArray(n.layout)||n.layout.length>0)?n.layoutMap=new y.MultiLayoutMap(n.layout):n.layoutMap=new y.SimpleHeaderLayoutMap(null!==(t=n.header)&&void 0!==t?t:[])).headerObjects.forEach((function(t){var n=t.headerType.bindGridEvent(e,t.id);if(r.push.apply(r,s(n)),t.style&&t.style instanceof b.BaseStyle){var o=t.style.listen(b.BaseStyle.EVENT_TYPE.CHANGE_STYLE,(function(){e.invalidate()}));r.push(o)}if(t.action){var i=t.action.bindGridEvent(e,t.id);r.push.apply(r,s(i))}})),o.columnObjects.forEach((function(t){if(t.action){var n=t.action.bindGridEvent(e,t.id);r.push.apply(r,s(n))}if(t.columnType){var o=t.columnType.bindGridEvent(e,t.id);r.push.apply(r,s(o))}if(t.style&&t.style instanceof C.BaseStyle){var i=t.style.listen(C.BaseStyle.EVENT_TYPE.CHANGE_STYLE,(function(){e.invalidate()}));r.push(i)}}));for(var i=0;i<o.columnWidths.length;i++){var l=o.columnWidths[i],a=l.width,u=l.minWidth,c=l.maxWidth;a&&(a>0||"string"==typeof a)&&e.setColWidth(i,a),u&&(u>0||"string"==typeof u)&&e.setMinColWidth(i,u),c&&(c>0||"string"==typeof c)&&e.setMaxColWidth(i,c)}for(var f=e[T].headerRowHeight,h=0;h<o.headerRowCount;h++){var d=Array.isArray(f)?f[h]:f;d&&d>0&&e.setRowHeight(h,d)}e.colCount=o.colCount,F(e),e.frozenRowCount=o.headerRowCount}function F(e){var t=e[T].layoutMap;e.rowCount=e[T].dataSource.length*t.bodyRowCount+t.headerRowCount}function N(e,t){var n=e[T].dataSourceEventIds;n&&n.forEach((function(t){return e[T].handler.off(t)})),t(e),e[T].dataSourceEventIds=[e[T].handler.on(e[T].dataSource,p.DataSource.EVENT_TYPE.UPDATED_LENGTH,(function(){F(e),e.invalidate()})),e[T].handler.on(e[T].dataSource,p.DataSource.EVENT_TYPE.UPDATED_ORDER,(function(){e.invalidate()}))]}function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];N(e,(function(){e[T].records=t;var n=e[T].dataSource=p.CachedDataSource.ofArray(t);e.addDisposable(n)}))}function H(e,t){N(e,(function(){if(t)if(t instanceof p.DataSource)e[T].dataSource=t;else{var n=e[T].dataSource=new p.CachedDataSource(t);e.addDisposable(n)}else e[T].dataSource=p.DataSource.EMPTY;e[T].records=null}))}function W(e,t){return e[T].layoutMap.getRecordIndexByRow(t)}function z(e){for(var t,n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},r=this[T].layoutMap,i=this.selection.range,l=this.getCellRange(i.start.col,i.start.row),a=l.start,u=this.getCellRange(i.end.col,i.end.row),c=u.end,s=I.parsePasteRangeBoxValues(e),f=Math.min(Math.max(c.row-a.row+1,s.rowCount),this.rowCount-a.row),h=Math.min(Math.max(c.col-a.col+1,s.colCount),this.colCount-a.col),d=!1,v=[],g=0;g<r.bodyRowCount;g++){var p=[];v.push(p);for(var y=0;y<h;y++){var _=r.getBody(a.col+y,g+r.headerRowCount);p[y]=_,!d&&(null===(t=_.action)||void 0===t?void 0:t.editable)&&(d=!0)}}if(d){for(var C=r.getRecordStartRowByRecordIndex(r.getRecordIndexByRow(a.row)),w=a.row-C,b={},k=w,E=0,x=0;x<f;x++){for(var R=0,S=function(e){var t=v[k][e],r=t.action,i=t.id;if(!b[i]&&(null==r?void 0:r.editable)){b[i]=!0;var l=a.col+e,u=a.row+x,c=s.getCellValue(R,E);m.then(n.getRowRecord(u),(function(e){m.then(M(n,l,u),(function(t){o({grid:n,record:e,col:l,row:u,value:c,oldValue:t})&&r.onPasteCellRangeBox(n,{col:l,row:u},c)}))}))}++R>=s.colCount&&(R=0)},L=0;L<h;L++)S(L);++k>=r.bodyRowCount&&(k=0,b={}),++E>=s.rowCount&&(E=0)}var O={col:a.col+h-1,row:a.row+f-1};this.selection.range={start:a,end:O},this.invalidateCellRange(this.selection.range)}}function G(){for(var e,t=this,n=this[T].layoutMap,o=this.selection.range,r=this.getCellRange(o.start.col,o.start.row).start,i=this.getCellRange(o.end.col,o.end.row).end,l=Math.min(i.row-r.row+1,this.rowCount-r.row),a=Math.min(i.col-r.col+1,this.colCount-r.col),u=!1,c=[],s=0;s<n.bodyRowCount;s++){var f=[];c.push(f);for(var h=0;h<a;h++){var d=n.getBody(r.col+h,s+n.headerRowCount);f[h]=d,!u&&(null===(e=d.action)||void 0===e?void 0:e.editable)&&(u=!0)}}if(u){for(var v=n.getRecordStartRowByRecordIndex(n.getRecordIndexByRow(r.row)),g=r.row-v,p={},y=g,_=0;_<l;_++){for(var C=function(e){var n=c[y][e],o=n.action,i=n.id;if(!p[i]&&(null==o?void 0:o.editable)){p[i]=!0;var l=r.col+e,a=r.row+_;m.then(t.getRowRecord(a),(function(e){m.then(M(t,l,a),(function(e){o.onDeleteCellRangeBox(t,{col:l,row:a})}))}))}},w=0;w<a;w++)C(w);++y>=n.bodyRowCount&&(y=0,p={})}this.invalidateCellRange(o)}}function U(e){return delete e.frozenRowCount,delete e.colCount,delete e.rowCount,e}var Y=function(o){r(a,o);var i=l(a);function a(){var t,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,a),(t=i.call(this,U(o))).disabled=!1,t.readOnly=!1;var r=t[T];return r.header=o.header||[],r.layout=o.layout||[],r.headerRowHeight=o.headerRowHeight||[],o.dataSource?H(u(t),o.dataSource):V(u(t),o.records),r.allowRangePaste=null!==(n=o.allowRangePaste)&&void 0!==n&&n,j(u(t)),r.sortState={col:-1,row:-1,order:void 0},r.gridCanvasHelper=new w.GridCanvasHelper(u(t)),r.theme=g.of(o.theme),r.messageHandler=new E.MessageHandler(u(t),(function(e,n){return B(u(t),e,n)})),r.tooltipHandler=new R.TooltipHandler(u(t)),t.invalidate(),r.handler.on(e,"resize",(function(){t.updateSize(),t.updateScroll(),t.invalidate()})),t}return v(a,[{key:"dispose",value:function(){var e=this[T];e.messageHandler.dispose(),e.tooltipHandler.dispose(),n(c(a.prototype),"dispose",this).call(this)}},{key:"getField",value:function(e,t){return this[T].layoutMap.getBody(e,null!=t?t:this[T].layoutMap.headerRowCount).field}},{key:"getColumnDefine",value:function(e,t){return this[T].layoutMap.getBody(e,null!=t?t:this[T].layoutMap.headerRowCount).define}},{key:"getColumnType",value:function(e,t){return this[T].layoutMap.getBody(e,t).columnType}},{key:"getHeaderField",value:function(e,t){return this[T].layoutMap.getHeader(e,t).field}},{key:"getHeaderDefine",value:function(e,t){return this[T].layoutMap.getHeader(e,t).define}},{key:"getRowRecord",value:function(e){return e<this[T].layoutMap.headerRowCount?void 0:this[T].dataSource.get(W(this,e))}},{key:"getRecordIndexByRow",value:function(e){return W(this,e)}},{key:"getRecordStartRowByRecordIndex",value:function(e){return this[T].layoutMap.getRecordStartRowByRecordIndex(e)}},{key:"getColumnIndexByField",value:function(e){var t,n=this.getCellRangeByField(e,0);return null!==(t=null==n?void 0:n.start.col)&&void 0!==t?t:null}},{key:"getCellRangeByField",value:function(e,t){var n=this[T].layoutMap,o=n.columnObjects.find((function(t){return t.field===e}));if(o){var r=n.getBodyLayoutRangeById(o.id),i=n.getRecordStartRowByRecordIndex(t);return{start:{col:r.start.col,row:i+r.start.row},end:{col:r.end.col,row:i+r.end.row}}}return null}},{key:"focusGridCell",value:function(e,t){var n,o=this.selection.range,r=o.start,i=r.col,l=r.row,a=o.end,u=a.col,c=a.row,s=null===(n=this.getCellRangeByField(e,t))||void 0===n?void 0:n.start;null!=s&&(this.focusCell(s.col,s.row),this.selection.select=s,this.invalidateGridRect(i,l,u,c),this.invalidateCell(s.col,s.row))}},{key:"makeVisibleGridCell",value:function(e,t){var n,o,r,i=null===(n=this.getCellRangeByField(e,t))||void 0===n?void 0:n.start;this.makeVisibleCell(null!==(o=null==i?void 0:i.col)&&void 0!==o?o:0,null!==(r=null==i?void 0:i.row)&&void 0!==r?r:this[T].layoutMap.headerRowCount)}},{key:"getGridCanvasHelper",value:function(){return this[T].gridCanvasHelper}},{key:"getCellRange",value:function(e,t){return L(this,e,t)}},{key:"getHeaderCellRange",value:function(e,t){return this.getCellRange(e,t)}},{key:"getCopyCellValue",value:function(e,t,n){var o,r=L(this,e,t),i=n?Math.max(n.start.col,r.start.col):r.start.col,l=n?Math.max(n.start.row,r.start.row):r.start.row;if(i!==e||l!==t)return"";var a=M(this,e,t);return t<this[T].layoutMap.headerRowCount?a:null!==(o=this[T].layoutMap.getBody(e,t).columnType.getCopyCellValue(a,this,{col:e,row:t}))&&void 0!==o?o:a}},{key:"onDrawCell",value:function(e,t,n){var o,r,i=this[T].layoutMap;if(t<i.headerRowCount){var l=i.getHeader(e,t);o=l.headerType.onDrawCell,r=l.style,O(this,e,t,n)}else{var a=i.getBody(e,t);o=a.columnType.onDrawCell,r=a.style,O(this,e,t,n)}return A(this,M(this,e,t),n,{col:e,row:t},r,o)}},{key:"doGetCellValue",value:function(e,t,n){if(t<this[T].layoutMap.headerRowCount)return!1;var o=M(this,e,t);return!m.isPromise(o)&&(n(o),!0)}},{key:"doChangeValue",value:function(e,t,n){var o=this;if(t<this[T].layoutMap.headerRowCount)return!1;var r=this.getRowRecord(t);if(m.isPromise(r))return!1;var i=M(this,e,t);if(m.isPromise(i))return!1;var l=n(i);return void 0!==l&&m.then(function(e,t,n,o){if(n<e[T].layoutMap.headerRowCount)return!1;var r=e[T].layoutMap.getBody(t,n).field;if(null==r)return!1;var i=W(e,n);return e[T].dataSource.setField(i,r,o)}(this,e,t,l),(function(n){if(n){var a=o[T].layoutMap.getBody(e,t).field;o.fireListeners(k.LG_EVENT_TYPE.CHANGED_VALUE,{col:e,row:t,record:r,field:a,value:l,oldValue:i})}return n}))}},{key:"doSetPasteValue",value:function(e,t){z.call(this,e,t)}},{key:"getHeaderValue",value:function(e,t){var n=this.getHeaderField(e,t);return this.headerValues.get(n)}},{key:"setHeaderValue",value:function(e,t,n){var o=this.getHeaderField(e,t),r=this.headerValues.get(o);this.headerValues.set(o,n),this.fireListeners(k.LG_EVENT_TYPE.CHANGED_HEADER_VALUE,{col:e,row:t,field:o,value:n,oldValue:r})}},{key:"getLayoutCellId",value:function(e,t){return this[T].layoutMap.getCellId(e,t)}},{key:"bindEventsInternal",value:function(){var e=this;this.listen(k.LG_EVENT_TYPE.SELECTED_CELL,(function(t){var n=L(e,t.col,t.row),o=n.start,r=o.col,i=o.row,l=n.end,a=l.col,u=l.row;r===a&&i===u||e.invalidateCellRange(n)})),this.listen(k.LG_EVENT_TYPE.PASTE_CELL,(function(t){if(e[T].allowRangePaste){var n=e.selection.range,o=n.start,r=n.end;if(t.multi||!m.cellEquals(o,r)){var i=e[T].layoutMap;o.row<i.headerRowCount||(m.event.cancel(t.event),z.call(e,t.normalizeValue))}}})),this.listen(k.LG_EVENT_TYPE.DELETE_CELL,(function(t){var n=e.selection.range.start,o=e[T].layoutMap;n.row<o.headerRowCount||(m.event.cancel(t.event),G.call(e))}))}},{key:"getMoveLeftColByKeyDownInternal",value:function(e){var t=e.col,o=e.row;return t=L(this,t,o).start.col,n(c(a.prototype),"getMoveLeftColByKeyDownInternal",this).call(this,{col:t,row:o})}},{key:"getMoveRightColByKeyDownInternal",value:function(e){var t=e.col,o=e.row;return t=L(this,t,o).end.col,n(c(a.prototype),"getMoveRightColByKeyDownInternal",this).call(this,{col:t,row:o})}},{key:"getMoveUpRowByKeyDownInternal",value:function(e){var t=e.col,o=e.row;return o=L(this,t,o).start.row,n(c(a.prototype),"getMoveUpRowByKeyDownInternal",this).call(this,{col:t,row:o})}},{key:"getMoveDownRowByKeyDownInternal",value:function(e){var t=e.col,o=e.row;return o=L(this,t,o).end.row,n(c(a.prototype),"getMoveDownRowByKeyDownInternal",this).call(this,{col:t,row:o})}},{key:"getOffsetInvalidateCells",value:function(){return 1}},{key:"getCopyRangeInternal",value:function(e){return{start:this.getCellRange(e.start.col,e.start.row).start,end:this.getCellRange(e.end.col,e.end.row).end}}},{key:"fireListeners",value:function(e){for(var t,o=arguments.length,r=new Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];return(t=n(c(a.prototype),"fireListeners",this)).call.apply(t,[this,e].concat(r))}},{key:"header",get:function(){return this[T].header},set:function(e){this[T].header=e,j(this)}},{key:"layout",get:function(){return this[T].layout},set:function(e){this[T].layout=e,j(this)}},{key:"recordRowCount",get:function(){return this[T].layoutMap.bodyRowCount}},{key:"records",get:function(){return this[T].records||null},set:function(e){null!=e&&(V(this,e),F(this),this.invalidate())}},{key:"dataSource",get:function(){return this[T].dataSource},set:function(e){H(this,e),F(this),this.invalidate()}},{key:"theme",get:function(){return this[T].theme},set:function(e){this[T].theme=g.of(e),this.invalidate()}},{key:"allowRangePaste",get:function(){return this[T].allowRangePaste},set:function(e){this[T].allowRangePaste=e}},{key:"font",get:function(){return n(c(a.prototype),"font",this)||this[T].gridCanvasHelper.theme.font},set:function(e){t(c(a.prototype),"font",e,this,!0)}},{key:"underlayBackgroundColor",get:function(){return n(c(a.prototype),"underlayBackgroundColor",this)||this[T].gridCanvasHelper.theme.underlayBackgroundColor},set:function(e){t(c(a.prototype),"underlayBackgroundColor",e,this,!0)}},{key:"sortState",get:function(){return this[T].sortState},set:function(e){var t,n=this.sortState;n.col>=0&&n.row>=0&&(t=this.getHeaderField(n.col,n.row));var o,r=this[T].sortState=m.isDef(e)?e:{col:-1,row:-1,order:void 0};r.col>=0&&r.row>=0&&(o=this.getHeaderField(r.col,r.row)),m.isDef(t)&&t!==o&&this.setHeaderValue(n.col,n.row,void 0),m.isDef(o)&&this.setHeaderValue(r.col,r.row,r.order)}},{key:"headerValues",get:function(){return this[T].headerValues||(this[T].headerValues=new Map)},set:function(e){this[T].headerValues=e||new Map}}],[{key:"EVENT_TYPE",get:function(){return k.LG_EVENT_TYPE}}]),a}(_.DrawGrid);i.ListGrid=Y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(136);t.SimpleHeaderLayoutMap=o.SimpleHeaderLayoutMap;var r=n(137);t.MultiLayoutMap=r.MultiLayoutMap},function(e,t,n){var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(16)),i=o(n(31)),l=o(n(23)),a=n(69),u=0,c=function(){function e(t){h(this,e),this.bodyRowCount=1,this._emptyDataCache=new a.EmptyDataCache,this._columns=[],this._headerCellIds=[],this._headerObjects=this._addHeaders(0,t,[]),this._headerObjectMap=this._headerObjects.reduce((function(e,t){return e[t.id]=t,e}),{})}return v(e,[{key:"getCellId",value:function(e,t){return this.headerRowCount<=t?this._columns[e].id:this._headerCellIds[t][e]}},{key:"getHeader",value:function(e,t){var n=this.getCellId(e,t);return this._headerObjectMap[n]||this._emptyDataCache.getHeader(e,t)}},{key:"getBody",value:function(e,t){return this._columns[e]||this._emptyDataCache.getBody(e,0)}},{key:"getBodyLayoutRangeById",value:function(e){for(var t=0;t<this.colCount;t++)if(e===this._columns[t].id)return{start:{col:t,row:0},end:{col:t,row:0}};throw new Error("can not found body layout @id=".concat(e))}},{key:"getCellRange",value:function(e,t){var n={start:{col:e,row:t},end:{col:e,row:t}};if(this.headerRowCount<=t)return n;for(var o=this.getCellId(e,t),r=e-1;r>=0&&o===this.getCellId(r,t);r--)n.start.col=r;for(var i=e+1;i<this.colCount&&o===this.getCellId(i,t);i++)n.end.col=i;for(var l=t-1;l>=0&&o===this.getCellId(e,l);l--)n.start.row=l;for(var a=t+1;a<this.headerRowCount&&o===this.getCellId(e,a);a++)n.end.row=a;return n}},{key:"getRecordIndexByRow",value:function(e){return e<this.headerRowCount?-1:e-this.headerRowCount}},{key:"getRecordStartRowByRecordIndex",value:function(e){return this.headerRowCount+e}},{key:"_addHeaders",value:function(e,t,n){var o=this,a=[],c=this._headerCellIds[e]||this._newRow(e);return t.forEach((function(t){var f=o._columns.length,h=u++,d={id:h,caption:t.caption,field:t.headerField||t.field,style:t.headerStyle,headerType:l.ofCell(t),action:i.ofCell(t),define:t};a[h]=d,c[f]=h;for(var v=e-1;v>=0;v--)o._headerCellIds[v][f]=n[v];if(t.columns)o._addHeaders(e+1,t.columns,[].concat(s(n),[h])).forEach((function(e){return a.push(e)}));else{var g=t;o._columns.push({id:u++,field:g.field,width:g.width,minWidth:g.minWidth,maxWidth:g.maxWidth,icon:g.icon,message:g.message,columnType:r.type.of(g.columnType),action:r.action.of(g.action),style:g.style,define:g});for(var p=e+1;p<o._headerCellIds.length;p++)o._headerCellIds[p][f]=h}})),a}},{key:"_newRow",value:function(e){var t=this._headerCellIds[e]=[];if(!this._columns.length)return t;for(var n=this._headerCellIds[e-1],o=0;o<n.length;o++)t[o]=n[o];return t}},{key:"columnWidths",get:function(){return this._columns}},{key:"headerRowCount",get:function(){return this._headerCellIds.length}},{key:"colCount",get:function(){return this._columns.length}},{key:"headerObjects",get:function(){return this._headerObjects}},{key:"columnObjects",get:function(){return this._columns}}]),e}();t.SimpleHeaderLayoutMap=c},function(e,t,n){var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(16)),i=o(n(31)),l=o(n(23)),a=n(69),u=0,c=function(){function e(t,n){var o=this;h(this,e),this.objects=[],this.objectGrid=[],this.objectMap={},this.columnCount=0,this.columnWidths=[],t.forEach((function(e,t){var r=0;e.forEach((function(e){var i,l,a=u++,c=n(e,a);o.objects.push(c),o.objectMap[a]=c,r=o._findStartCell(r,t);for(var s=Number(null!==(i=e.rowSpan)&&void 0!==i?i:1),f=Number(null!==(l=e.colSpan)&&void 0!==l?l:1),h=t+s,d=r+f,v=t;v<h;v++)for(var g=o._getObjectGridRow(v),p=r;p<d;p++)g[p]=c;1===f&&o._setWidthDataIfAbsent(r,e),o._useColumnIndex(d-1),r=d}))}))}return v(e,[{key:"_findStartCell",value:function(e,t){for(var n=this._getObjectGridRow(t),o=e;o<n.length;o++)if(!n[o])return o;return n.length}},{key:"_getObjectGridRow",value:function(e){return this.objectGrid[e]||(this.objectGrid[e]=[])}},{key:"_useColumnIndex",value:function(e){this.columnCount>e||(this.columnCount=e+1)}},{key:"_setWidthDataIfAbsent",value:function(e,t){this.columnWidths[e]||null==t.width&&null==t.maxWidth&&null==t.minWidth||(this.columnWidths[e]={width:t.width,maxWidth:t.maxWidth,minWidth:t.minWidth})}},{key:"rowCount",get:function(){return this.objectGrid.length}}]),e}(),s=function(){function e(t){h(this,e),this._columnWidths=[],this._emptyDataCache=new a.EmptyDataCache;for(var n=function(e){return Array.isArray(e)?{header:e,body:e}:e}(t),o=this._header=new c(n.header,(function(e,t){return{id:t,caption:e.caption,field:e.headerField||e.field,style:e.headerStyle,headerType:l.ofCell(e),action:i.ofCell(e),define:e}})),u=this._body=new c(n.body,(function(e,t){return{id:t,field:e.field,width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth,icon:e.icon,message:e.message,columnType:r.type.of(e.columnType),action:r.action.of(e.action),style:e.style,define:e}})),s=this._columnCount=Math.max(o.columnCount,u.columnCount),f=0;f<s;f++){var d=o.columnWidths[f]||u.columnWidths[f]||{};this._columnWidths[f]=d}}return v(e,[{key:"getCellId",value:function(e,t){var n,o,r,i;if(this.headerRowCount<=t){var l=(t-this.headerRowCount)%this.bodyRowCount;return null===(o=null===(n=this._body.objectGrid[l])||void 0===n?void 0:n[e])||void 0===o?void 0:o.id}return null===(i=null===(r=this._header.objectGrid[t])||void 0===r?void 0:r[e])||void 0===i?void 0:i.id}},{key:"getHeader",value:function(e,t){var n=this.getCellId(e,t);return this._header.objectMap[n]||this._emptyDataCache.getHeader(e,t)}},{key:"getBody",value:function(e,t){var n=this.getCellId(e,t);return this._body.objectMap[n]||this._emptyDataCache.getBody(e,t)}},{key:"getBodyLayoutRangeById",value:function(e){for(var t,n=0;n<this.bodyRowCount;n++){var o=this._body.objectGrid[n];if(o)for(var r=0;r<this.colCount;r++)if(e===(null===(t=o[r])||void 0===t?void 0:t.id))return this._getCellRange(this._body,r,n,0)}throw new Error("can not found body layout @id=".concat(e))}},{key:"getCellRange",value:function(e,t){if(this.headerRowCount<=t){var n=this.getRecordIndexByRow(t),o=this.getRecordStartRowByRecordIndex(n),r=(t-this.headerRowCount)%this.bodyRowCount;return this._getCellRange(this._body,e,r,o)}return this._getCellRange(this._header,e,t,0)}},{key:"getRecordIndexByRow",value:function(e){if(e<this.headerRowCount)return-1;var t=e-this.headerRowCount;return Math.floor(t/this.bodyRowCount)}},{key:"getRecordStartRowByRecordIndex",value:function(e){return this.headerRowCount+e*this.bodyRowCount}},{key:"_getCellRange",value:function(e,t,n,o){var r,i,l,a,u,c,s,f,h,d,v={start:{col:t,row:n+o},end:{col:t,row:n+o}},g=e.objectGrid,p=null===(i=null===(r=g[n])||void 0===r?void 0:r[t])||void 0===i?void 0:i.id;if(null==p)return v;for(var y=t-1;y>=0&&p===(null===(a=null===(l=g[n])||void 0===l?void 0:l[y])||void 0===a?void 0:a.id);y--)v.start.col=y;for(var _=t+1;_<e.columnCount&&p===(null===(c=null===(u=g[n])||void 0===u?void 0:u[_])||void 0===c?void 0:c.id);_++)v.end.col=_;for(var m=n-1;m>=0&&p===(null===(f=null===(s=g[m])||void 0===s?void 0:s[t])||void 0===f?void 0:f.id);m--)v.start.row=m+o;for(var C=n+1;C<e.rowCount&&p===(null===(d=null===(h=g[C])||void 0===h?void 0:h[t])||void 0===d?void 0:d.id);C++)v.end.row=C+o;return v}},{key:"columnWidths",get:function(){return this._columnWidths}},{key:"headerRowCount",get:function(){return this._header.rowCount}},{key:"bodyRowCount",get:function(){return this._body.rowCount}},{key:"colCount",get:function(){return this._columnCount}},{key:"headerObjects",get:function(){return this._header.objects}},{key:"columnObjects",get:function(){return this._body.objects}}]),e}();t.MultiLayoutMap=s},function(t,n,o){var r=o(139),i={SERIF:"serif",SANS_SERIF:"sans-serif"},l={},a=function(){function t(e,n){h(this,t),this.activeCallbacks=[],this.inactiveCallbacks=[],this.status=null,this.lastResortWidths_={},this.fontRulerA_=new r.FontRuler("".concat(e,",").concat(i.SERIF),n),this.fontRulerB_=new r.FontRuler("".concat(e,",").concat(i.SANS_SERIF),n);var o=new r.FontRuler("4px ".concat(i.SERIF),n),l=new r.FontRuler("4px ".concat(i.SANS_SERIF),n);this.lastResortWidths_[i.SERIF]=o.getWidth(),this.lastResortWidths_[i.SANS_SERIF]=l.getWidth(),o.remove(),l.remove(),this.started_=Date.now(),this.check_()}return v(t,[{key:"then",value:function(e,t){this.status?"ng"!==this.status?e():t():(this.activeCallbacks.push(e),this.inactiveCallbacks.push(t))}},{key:"check_",value:function(){var e=this,t=this.fontRulerA_.getWidth(),n=this.fontRulerB_.getWidth();this.isFallbackFont_(t,n)||this.isLastResortFont_(t,n)?Date.now()-this.started_>=3e3?this.isLastResortFont_(t,n)?(this.finish_(this.activeCallbacks),this.status="ok"):(this.finish_(this.inactiveCallbacks),this.status="ng"):setTimeout((function(){e.check_()}),50):(this.finish_(this.activeCallbacks),this.status="ok")}},{key:"isFallbackFont_",value:function(e,t){return this.widthMatches_(e,i.SERIF)&&this.widthMatches_(t,i.SANS_SERIF)}},{key:"widthsMatchLastResortWidths_",value:function(e,t){for(var n in i)if(i.hasOwnProperty(n)&&this.widthMatches_(e,i[n])&&this.widthMatches_(t,i[n]))return!0;return!1}},{key:"widthMatches_",value:function(e,t){return e===this.lastResortWidths_[t]}},{key:"isLastResortFont_",value:function(t,n){return function(){if(null===u){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(e.navigator.userAgent);u=!!t&&(parseInt(t[1],10)<536||536===parseInt(t[1],10)&&parseInt(t[2],10)<=11)}return u}()&&this.widthsMatchLastResortWidths_(t,n)}},{key:"finish_",value:function(e){var t=this;setTimeout((function(){t.fontRulerA_.remove(),t.fontRulerB_.remove(),e.forEach((function(e){return e()}))}),0)}}],[{key:"load",value:function(e,n,o,r){var i=l[e]||(l[e]={});(i[n+=""]?i[n]:i[n]=new t(e,n)).then(o,r)}}]),t}(),u=null;t.exports=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t,n){h(this,e);var o=document.createElement("span");o.setAttribute("aria-hidden","true"),o.textContent=n||"BESbswy",function(e){return[{display:"block",position:"absolute",top:"-9999px",left:"-9999px",width:"auto",height:"auto",margin:"0",padding:"0","white-space":"nowrap",font:e},{"font-variant":"normal","font-size":"300px","font-style":"normal","font-weight":"400","line-height":"normal"}]}(t).forEach((function(e){for(var t in e){var n=t;o.style[n]=e[n]}})),document.body.appendChild(o),this.el_=o}return v(e,[{key:"getWidth",value:function(){return this.el_.offsetWidth}},{key:"remove",value:function(){document.body.removeChild(this.el_)}}]),e}();t.FontRuler=o},function(e,t,n){var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(65)),i=o(n(36)),l=n(15),a=n(8),u=n(72),c=n(144),f=n(73),h=n(145),d=n(146),v=n(0);function g(e){if(e instanceof l.Inline)return e;if(!e)return null;if(function(e){return!(!e.font||!e.content)}(e))return new c.InlineIcon(e);if(function(e){return!!e.src}(e))return new f.InlineImage({src:e.src,width:e.width,height:e.width});if(e.svg)return new d.InlineSvg({svg:e.svg,width:e.width,height:e.width});if(function(e){return!!e.path}(e))return new h.InlinePath2D({path:e.path,width:e.width,height:e.width,color:e.color});var t=r.get();if(e.name&&t[e.name]){var n=t[e.name],o=e.width||Math.max(n.width,n.height);return new u.InlineDrawer({draw:function(e){var t=e.ctx,r=e.rect,l=e.offset,u=e.offsetLeft,c=e.offsetRight,s=e.offsetTop,f=e.offsetBottom;!function(e,t,n,o,r,l,u,c){var s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},f=s.offset,h=void 0===f?2:f,d=s.padding,v={left:r,top:l,width:u,height:c,right:r+u,bottom:l+c};e.save();try{e.beginPath(),e.rect(v.left,v.top,v.width,v.height),e.clip();var g=a.calcStartPosition(e,v,n,o,{offset:h,padding:d});i.fill(t,e,g.x,g.y,n,o)}finally{e.restore()}}(t,n,o,o,r.left,r.top,r.width,r.height,{offset:l+1,padding:{left:u,right:c,top:s,bottom:f}})},width:o,height:o,color:e.color})}return new c.InlineIcon(e)}function p(e){return v.isDef(e)?e instanceof l.Inline?e:new l.Inline(e):null}function y(e,t){var n=[];if(e&&n.push.apply(n,s(e.map((function(e){return g(e)})).filter(v.isDef))),Array.isArray(t))n.push.apply(n,s(t.map((function(e){return p(e)})).filter(v.isDef)));else{var o=p(t);o&&n.push(o)}return n}t.iconOf=g,t.of=p,t.buildInlines=y,t.string=function(e){return y(void 0,e).join("")}},function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0});var r=new(o(142).PathCommandsParser),i=function(){function e(t){if(h(this,e),this._ops=[],void 0!==t)if("string"==typeof t)this._ops=r.parse(t);else{if(!t.hasOwnProperty("_ops"))throw new Error("Error: ".concat(g(t)," is not a valid argument to Path"));this._ops=s(t._ops)}}return v(e,[{key:"arc",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._ops.push({op:"arc",args:t})}},{key:"arcTo",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._ops.push({op:"arcTo",args:t})}},{key:"bezierCurveTo",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._ops.push({op:"bezierCurveTo",args:t})}},{key:"closePath",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._ops.push({op:"closePath",args:t})}},{key:"ellipse",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._ops.push({op:"ellipse",args:t})}},{key:"lineTo",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._ops.push({op:"lineTo",args:t})}},{key:"moveTo",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._ops.push({op:"moveTo",args:t})}},{key:"quadraticCurveTo",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._ops.push({op:"quadraticCurveTo",args:t})}},{key:"rect",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._ops.push({op:"rect",args:t})}}]),e}();n.Path2DShim=i;var l=e.CanvasRenderingContext2D,a=l.prototype.fill;l.prototype.fill=function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];if(n[0]instanceof i){var r=n[0];this.beginPath(),r._ops.forEach((function(t){e[t.op].apply(e,t.args)})),a.apply(this,Array.prototype.slice.call(n,1))}else a.apply(this,n)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(143);function r(e,t,n){return"M"===t.toUpperCase()||"L"===t.toUpperCase()||"T"===t.toUpperCase()?(e.command(t,n.next(),n.next()),"M"===t?"L":"m"===t?"l":t):"H"===t.toUpperCase()||"V"===t.toUpperCase()?(e.command(t,n.next()),t):"Z"===t.toUpperCase()?(e.command(t),t):"C"===t.toUpperCase()?(e.command(t,n.next(),n.next(),n.next(),n.next(),n.next(),n.next()),t):"S"===t.toUpperCase()||"Q"===t.toUpperCase()?(e.command(t,n.next(),n.next(),n.next(),n.next()),t):"A"===t.toUpperCase()?(e.command(t,n.next(),n.next(),n.next(),n.next(),n.next(),n.next(),n.next()),t):(console.warn("unsupported:".concat(t)),null)}var i=function(){function e(){var t=this;h(this,e),this._ops=[],this._commands=new o.PathCommands(this);var n=function(e){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];t._ops.push({op:e,args:o})}};this.moveTo=n("moveTo"),this.lineTo=n("lineTo"),this.closePath=n("closePath"),this.bezierCurveTo=n("bezierCurveTo"),this.quadraticCurveTo=n("quadraticCurveTo"),this.save=n("save"),this.translate=n("translate"),this.rotate=n("rotate"),this.scale=n("scale"),this.arc=n("arc"),this.restore=n("restore"),this.arcTo=n("arcTo"),this.ellipse=n("ellipse"),this.rect=n("rect")}return v(e,[{key:"command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];for(var r=n||[],i=0;i<n.length;i++)r[i]-=0;var l=this._commands[e];l.apply(this,r)}},{key:"parse",value:function(e){var t=this,n=this._ops=[],o=function(e){var t=0;return{next:function(){for(var n="";e.length>t;){var o=e[t];if(t++," ,\n\r\t".indexOf(o)>-1){if(n)return n}else{if("str"==(".+-1234567890".indexOf(o)>-1?"num":"str"))return n?(t--,n):o;if("-+".indexOf(o)>-1&&n)return t--,n;if("."===o&&n.indexOf(".")>-1)return t--,n;n+=o}}return n||null}}}(e);try{!function(){for(var e,n="Z";e=o.next();)isNaN(Number(e))?n=r(t,e,o)||"Z":function(){var i=!0;n=r(t,n,{next:function(){return i?(i=!1,e):o.next()}})||"Z"}()}()}catch(t){throw console.log("Error: ".concat(e)),t}return n}}]),e}();t.PathCommandsParser=i},function(e,t,n){function o(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))}function r(e,t){var n,r,i,l=1;return e[0]*t[1]-e[1]*t[0]<0&&(l=-1),l*Math.acos((n=function(e,t){return function(e,t){return e[0]*t[0]+e[1]*t[1]}(e,t)/(o(e)*o(t))}(e,t),r=-1,i=1,Math.min(Math.max(n,r),i)))}function i(e,t,n,o,i,l,a,u,c,s){if(0!==o&&0!==i){l*=Math.PI/180,o=Math.abs(o),i=Math.abs(i);var f,h,d=function(e,t){var n=Math.cos(t),o=Math.sin(t);return[n*e[0]+o*e[1],-1*o*e[0]+n*e[1]]}([((f=[t,n])[0]-(h=[c,s])[0])/2,(f[1]-h[1])/2],l),v=function(e,t){return[e[0]*t[0],e[1]*t[1]]}(d,d),g=Math.pow(o,2),p=Math.pow(i,2),y=Math.sqrt(v[0]/g+v[1]/p);y>1&&(o*=y,i*=y,g=Math.pow(o,2),p=Math.pow(i,2));var _=Math.sqrt(Math.abs(g*p-g*v[1]-p*v[0])/(g*v[1]+p*v[0]));a===u&&(_*=-1);var m=function(e,t){return[e*t[0],e*t[1]]}(_,[o*d[1]/i,-i*d[0]/o]),C=function(e,t){return[e[0]+t[0],e[1]+t[1]]}(function(e,t){var n=Math.cos(t),o=Math.sin(t);return[n*e[0]-o*e[1],o*e[0]+n*e[1]]}(m,l),function(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}([t,n],[c,s])),w=[(d[0]-m[0])/o,(d[1]-m[1])/i],b=[(-1*d[0]-m[0])/o,(-1*d[1]-m[1])/i],k=r([1,0],w),E=k,x=k+r(w,b);e.save(),e.translate(C[0],C[1]),e.rotate(l),e.scale(o,i),e.arc(0,0,1,E,x,!u),e.restore()}else e.lineTo(c,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PathCommands=function e(t){var n,o,r=this;h(this,e);var l,a=0,u=0,c="";function s(){return"CcSsQqTt".indexOf(c)<0?{x:a,y:u}:l}this.M=function(e,i){return t.moveTo(e,i),n=e,o=i,a=e,u=i,c="M",r},this.m=function(e,t){return r.M(e+a,t+u)},this.L=function(e,n){return t.lineTo(e,n),a=e,u=n,c="L",r},this.l=function(e,t){return r.L(e+a,t+u)},this.H=function(e){return r.L(e,u)},this.h=function(e){return r.H(e+a)},this.V=function(e){return r.L(a,e)},this.v=function(e){return r.V(e+u)},this.Z=function(){return t.closePath(),a=n,u=o,c="Z",r},this.z=function(){return r.Z()},this.C=function(e,n,o,i,s,f){return t.bezierCurveTo(e,n,o,i,s,f),a=s,u=f,l={x:2*s-o,y:2*f-i},c="C",r},this.c=function(e,t,n,o,i,l){return r.C(e+a,t+u,n+a,o+u,i+a,l+u)},this.S=function(e,t,n,o){var i=s(),l=i.x,a=i.y;return r.C(l,a,e,t,n,o)},this.s=function(e,t,n,o){return r.S(e+a,t+u,n+a,o+u)},this.Q=function(e,n,o,i){return t.quadraticCurveTo(e,n,o,i),a=o,u=i,l={x:2*o-e,y:2*i-n},c="Q",r},this.q=function(e,t,n,o){return r.Q(e+a,t+u,n+a,o+u)},this.T=function(e,t){var n=s(),o=n.x,i=n.y;return r.Q(o,i,e,t)},this.t=function(e,t){return r.T(e+a,t+u)},this.A=function(e,n,o,l,s,f,h){return i(t,a,u,e,n,o,l,s,f,h),a=f,u=h,c="A",r},this.a=function(e,t,n,o,i,l,c){return r.A(e,t,n,o,i,l+a,c+u)}}},function(e,t,n){var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(71)),a=function(e){r(n,e);var t=l(n);function n(e){var o;return h(this,n),(o=t.call(this))._icon=e||{},o}return v(n,[{key:"width",value:function(e){var t=e.ctx,n=this._icon;if(n.width)return n.width;if(n.font&&i.check(n.font,n.content||"")){t.save(),t.canvas.style.letterSpacing="normal";try{return t.font=n.font||t.font,t.measureText(n.content||"").width}finally{t.canvas.style.letterSpacing="",t.restore()}}return 0}},{key:"font",value:function(){var e;return null!==(e=this._icon.font)&&void 0!==e?e:null}},{key:"color",value:function(){var e;return null!==(e=this._icon.color)&&void 0!==e?e:null}},{key:"canDraw",value:function(){var e=this._icon;return!e.font||i.check(e.font,e.content||"")}},{key:"onReady",value:function(e){var t=this._icon;t.font&&!i.check(t.font,t.content||"")&&i.load(t.font,t.content||"",e)}},{key:"draw",value:function(e){var t=e.ctx,n=e.canvashelper,o=e.rect,r=e.offset,i=e.offsetLeft,l=e.offsetRight,a=e.offsetTop,u=e.offsetBottom,c=this._icon;if(c.content){t.canvas.style.letterSpacing="normal";try{t.font=t.font,n.fillTextRect(t,c.content,o.left,o.top,o.width,o.height,{offset:r+1,padding:{left:i,right:l,top:a,bottom:u}})}finally{t.canvas.style.letterSpacing=""}}}},{key:"canBreak",value:function(){return!1}},{key:"toString",value:function(){return""}}]),n}(n(15).Inline);t.InlineIcon=a},function(e,t,n){var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(36)),a=n(15),u=n(8),c=function(e){r(n,e);var t=l(n);function n(e){var o,r=e.path,l=e.width,a=e.height,u=e.color;h(this,n),o=t.call(this);var c=i.getPath2D();return o._path=new c(r),o._width=l,o._height=a,o._color=u,o}return v(n,[{key:"width",value:function(e){return this._width}},{key:"font",value:function(){return null}},{key:"color",value:function(){var e;return null!==(e=this._color)&&void 0!==e?e:null}},{key:"canDraw",value:function(){return!0}},{key:"onReady",value:function(e){}},{key:"draw",value:function(e){var t=e.ctx,n=e.rect,o=e.offset;o++;var r={left:e.offsetLeft,right:e.offsetRight,top:e.offsetTop,bottom:e.offsetBottom};t.save();try{t.beginPath(),t.rect(n.left,n.top,n.width,n.height),t.clip();var i=u.calcStartPosition(t,n,this._width,this._height,{offset:o,padding:r});t.translate(i.x,i.y),t.fill(this._path)}finally{t.restore()}}},{key:"canBreak",value:function(){return!1}},{key:"toString",value:function(){return""}}]),n}(a.Inline);t.InlinePath2D=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);function i(e){var t="string"==typeof e?e:(new XMLSerializer).serializeToString(e);return"data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(t))}function a(e){return"string"==typeof e?(new DOMParser).parseFromString(e,"image/svg+xml").children[0]:e}var u=function(e){r(n,e);var t=l(n);function n(e){var r,l,u=e.svg,c=e.width,s=e.height;h(this,n);var f=o.then(u,a),d=o.isPromise(f)?void 0:null!==(r=f.getAttribute("width"))&&void 0!==r?r:void 0,v=o.isPromise(f)?void 0:null!==(l=f.getAttribute("height"))&&void 0!==l?l:void 0,g=null!=d?Number(d):void 0,p=null!=v?Number(v):void 0;return t.call(this,{src:o.then(u,i),width:c||g,height:s||p,imageWidth:g,imageHeight:p})}return v(n,[{key:"canBreak",value:function(){return!1}},{key:"toString",value:function(){return""}}]),n}(n(73).InlineImage);t.InlineSvg=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(148),r=n(154),i=n(37),l=n(155),a=n(0),u={type:"error",message:null},c={error:function(e){return new o.ErrorMessage(e)},info:function(e){return new r.InfoMessage(e)},warning:function(e){return new l.WarningMessage(e)}};function s(e){if(!e||a.isPromise(e))return u;if("string"==typeof e)return{type:"error",message:e,original:e};var t=e.type||"error";return t&&t in c?{type:t.toLowerCase(),message:e.message,original:e}:{type:"error",message:"".concat(e),original:e}}function f(e){return!!s(e).message}var d=function(){function e(t,n){h(this,e),this._attachInfo=null,this._grid=t,this._messageInstances={},this._bindGridEvent(t,n)}return v(e,[{key:"dispose",value:function(){var e,t=this._messageInstances;for(var n in t)null===(e=t[n])||void 0===e||e.dispose();delete this._messageInstances,delete this._attachInfo}},{key:"drawCellMessage",value:function(e,t,n,o,r,i){f(e)&&this._getMessageInstanceOfMessage(e).drawCellMessage(s(e),t,n,o,r,i)}},{key:"_attach",value:function(e,t,n){var o=this._attachInfo,r=this._getMessageInstanceOfMessage(n);o&&o.instance!==r&&o.instance.detachMessageElement(),r.attachMessageElement(e,t,s(n)),this._attachInfo={col:e,row:t,instance:r}}},{key:"_move",value:function(e,t){var n=this._attachInfo;n&&n.col===e&&n.row===t&&n.instance.moveMessageElement(e,t)}},{key:"_detach",value:function(){var e=this._attachInfo;e&&(e.instance.detachMessageElement(),this._attachInfo=null)}},{key:"_bindGridEvent",value:function(e,t){var n=this,o=function(e){var o=t(e.col,e.row);f(o)?n._attach(e.col,e.row,o):n._detach()};e.listen(i.LG_EVENT_TYPE.SELECTED_CELL,(function(e){e.selected&&(e.before.col===e.col&&e.before.row===e.row||o(e))})),e.listen(i.LG_EVENT_TYPE.SCROLL,(function(){var t=e.selection.select;n._move(t.col,t.row)})),e.listen(i.LG_EVENT_TYPE.CHANGED_VALUE,(function(t){var n=e.selection.select;n.col===t.col&&n.row===t.row&&o(t)})),e.listen(i.LG_EVENT_TYPE.FOCUS_GRID,(function(t){var n=e.selection.select;o(n)})),e.listen(i.LG_EVENT_TYPE.BLUR_GRID,(function(e){n._detach()}))}},{key:"_getMessageInstanceOfMessage",value:function(e){var t=this._messageInstances,n=s(e).type;return t[n]||(t[n]=c[n](this._grid))}}]),e}();t.MessageHandler=d},function(e,t,n){var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(38)),a=n(39),u=n(149),c=n(0),s=function(e){r(n,e);var t=l(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"createMessageElementInternal",value:function(){return new u.ErrorMessageElement}},{key:"drawCellMessageInternal",value:function(e,t,n,o,r,l){var a=n.bgColor,u=t.getSelection().select;c.cellInRange(r.getCellRange(t.col,t.row),u.col,u.row)&&r.hasFocusGrid()||o.drawBorderWithClip(t,(function(e){i.drawExclamationMarkBox(t,{bgColor:"#ff8a80",color:a},o)}))}}]),n}(a.BaseMessage);t.ErrorMessage=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(40),i="cheetah-grid__error-message-element",a="".concat(i,"__message"),u=function(e){r(o,e);var t=l(o);function o(){var e;return h(this,o),e=t.call(this),n(152),e._rootElement.classList.add(i),e._messageElement.classList.add(a),e}return o}(o.MessageElement);t.ErrorMessageElement=u},function(e,t,n){var o=n(151);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(5)(o,r),o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,".cheetah-grid__message-element {\n\tposition: absolute;\n\tmargin-top: -2px;\n\tbox-sizing: border-box;\n\tborder-radius: 0 0 3px 3px;\n\tbackground-color: rgba(250, 250, 250, .85);\n\tpadding: 8px 2px;\n\tpointer-events: none;\n\tuser-select: none;\n\tborder-top: solid 1px rgba(0, 0, 0, .87);\n\tcolor: rgba(0, 0, 0, .87);\n}\n.cheetah-grid__message-element--hidden {\n\tdisplay: none;\n}\n.cheetah-grid__message-element--shown {\n\tdisplay: block;\n}\n.cheetah-grid__message-element__message {\n\tfont-family: Roboto;\n\tfont-size: 12px;\n\tfont-size: .75rem;\n\tmin-height: 1em;\n\tline-height: 1;\n\tdisplay: block;\n\twidth: 100%;\n}\n",""])},function(e,t,n){var o=n(153);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(5)(o,r),o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,".cheetah-grid__error-message-element {\n\tborder-top: solid 1px #ff1744;\n\tcolor: #ff1744;\n}\n",""])},function(e,t,n){var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(38)),a=n(39),u=n(40),c=n(0),s=function(e){r(n,e);var t=l(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"createMessageElementInternal",value:function(){return new u.MessageElement}},{key:"drawCellMessageInternal",value:function(e,t,n,o,r,l){var a=n.bgColor,u=t.getSelection().select;c.cellInRange(r.getCellRange(t.col,t.row),u.col,u.row)&&r.hasFocusGrid()||o.drawBorderWithClip(t,(function(e){i.drawExclamationMarkBox(t,{bgColor:"#e0e0e0",color:a},o)}))}}]),n}(a.BaseMessage);t.InfoMessage=s},function(e,t,n){var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(38)),a=n(39),u=n(156),c=n(0),s=function(e){r(n,e);var t=l(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"createMessageElementInternal",value:function(){return new u.WarningMessageElement}},{key:"drawCellMessageInternal",value:function(e,t,n,o,r,l){var a=n.bgColor,u=t.getSelection().select;c.cellInRange(r.getCellRange(t.col,t.row),u.col,u.row)&&r.hasFocusGrid()||o.drawBorderWithClip(t,(function(e){i.drawExclamationMarkBox(t,{bgColor:"#ff9e80",color:a},o)}))}}]),n}(a.BaseMessage);t.WarningMessage=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(40),i="cheetah-grid__warning-message-element",a="".concat(i,"__message"),u=function(e){r(o,e);var t=l(o);function o(){var e;return h(this,o),e=t.call(this),n(157),e._rootElement.classList.add(i),e._messageElement.classList.add(a),e}return o}(o.MessageElement);t.WarningMessageElement=u},function(e,t,n){var o=n(158);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(5)(o,r),o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,".cheetah-grid__warning-message-element {\n\tborder-top: solid 1px #dd2c00;\n\tcolor: #dd2c00;\n}\n",""])},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(37),r=n(160),i=n(0),l={"overflow-text":function(e){return new r.Tooltip(e)}},a=function(){function e(t){h(this,e),this._grid=t,this._tooltipInstances={},this._bindGridEvent(t)}return v(e,[{key:"dispose",value:function(){var e=this._tooltipInstances;for(var t in e)e[t].dispose();delete this._tooltipInstances,this._attachInfo=null}},{key:"_attach",value:function(e,t){var n=this._attachInfo,o=this._getTooltipInstanceInfo(e,t);if(!n||o&&n.instance===o.instance||(n.instance.detachTooltipElement(),this._attachInfo=null),o){var r=o.instance;r.attachTooltipElement(e,t,o.content);var i=this._grid.getCellRange(e,t);this._attachInfo={range:i,instance:r}}}},{key:"_move",value:function(e,t){var n=this._attachInfo;n&&i.cellInRange(n.range,e,t)&&n.instance.moveTooltipElement(e,t)}},{key:"_detach",value:function(){var e=this._attachInfo;e&&(e.instance.detachTooltipElement(),this._attachInfo=null)}},{key:"_isAttachCell",value:function(e,t){var n=this._attachInfo;return!!n&&i.cellInRange(n.range,e,t)}},{key:"_bindGridEvent",value:function(e){var t=this;e.listen(o.LG_EVENT_TYPE.MOUSEOVER_CELL,(function(e){e.related&&t._isAttachCell(e.col,e.row)||t._attach(e.col,e.row)})),e.listen(o.LG_EVENT_TYPE.MOUSEOUT_CELL,(function(e){e.related&&t._isAttachCell(e.related.col,e.related.row)||t._detach()})),e.listen(o.LG_EVENT_TYPE.SELECTED_CELL,(function(e){t._isAttachCell(e.col,e.row)&&t._detach()})),e.listen(o.LG_EVENT_TYPE.SCROLL,(function(){var e=t._attachInfo;e&&t._move(e.range.start.col,e.range.start.row)})),e.listen(o.LG_EVENT_TYPE.CHANGED_VALUE,(function(e){t._isAttachCell(e.col,e.row)&&(t._detach(),t._attach(e.col,e.row))}))}},{key:"_getTooltipInstanceInfo",value:function(e,t){var n=this._grid,o=this._tooltipInstances,r=function(e,t,n){var o=e.getCellOverflowText(t,n);return o?{type:"overflow-text",content:o}:null}(n,e,t);if(!r)return null;var i=r.type;return{instance:o[i]||(o[i]=l[i](n)),type:i,content:r.content}}}]),e}();t.TooltipHandler=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(161),i=n(162),a=function(e){r(n,e);var t=l(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"createTooltipElementInternal",value:function(){return new i.TooltipElement}}]),n}(o.BaseTooltip);t.Tooltip=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t){h(this,e),this._grid=t}return v(e,[{key:"dispose",value:function(){this.detachTooltipElement(),this._tooltipElement&&this._tooltipElement.dispose(),this._tooltipElement=void 0}},{key:"_getTooltipElement",value:function(){return this._tooltipElement?this._tooltipElement:this._tooltipElement=this.createTooltipElementInternal()}},{key:"attachTooltipElement",value:function(e,t,n){this._getTooltipElement().attach(this._grid,e,t,n)}},{key:"moveTooltipElement",value:function(e,t){this._getTooltipElement().move(this._grid,e,t)}},{key:"detachTooltipElement",value:function(){this._getTooltipElement()._detach()}}]),e}();t.BaseTooltip=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=n(11),i="cheetah-grid__tooltip-element",l="".concat(i,"__content"),a="".concat(i,"--hidden"),u="".concat(i,"--shown"),c=function(){function e(){h(this,e),this._handler=new o.EventHandler;var t=this._rootElement=function(){n(163);var e=r.createElement("div",{classList:[i,a]}),t=r.createElement("pre",{classList:[l]});return e.appendChild(t),e}();this._messageElement=t.querySelector(".".concat(l))}return v(e,[{key:"dispose",value:function(){this.detach();var e=this._rootElement;e.parentElement&&e.parentElement.removeChild(e),this._handler.dispose(),delete this._rootElement,delete this._messageElement}},{key:"attach",value:function(e,t,n,o){var r=this._rootElement,i=this._messageElement;r.classList.remove(u),r.classList.add(a),this._attachCell(e,t,n)?(r.classList.add(u),r.classList.remove(a),i.textContent=o):this._detach()}},{key:"move",value:function(e,t,n){var o=this._rootElement;this._attachCell(e,t,n)?(o.classList.add(u),o.classList.remove(a)):this._detach()}},{key:"detach",value:function(){this._detach()}},{key:"_detach",value:function(){var e=this._rootElement;e.parentElement&&(e.classList.remove(u),e.classList.add(a))}},{key:"_attachCell",value:function(e,t,n){var o=this._rootElement,r=e.getAttachCellsArea(e.getCellRange(t,n)),i=r.element,l=r.rect,a=l.bottom,u=l.left,c=l.width,s=e.frozenRowCount,f=e.frozenColCount;if(n>=s&&s>0){if(a<e.getAttachCellsArea(e.getCellRange(t,s-1)).rect.bottom)return!1}else if(a<0)return!1;if(t>=f&&f>0){if(u<e.getAttachCellsArea(e.getCellRange(f-1,n)).rect.right)return!1}else if(u<0)return!1;var h=i.offsetHeight,d=i.offsetWidth;return!(h<a||d<u||(o.style.top="".concat(a.toFixed(),"px"),o.style.left="".concat((u+c/2).toFixed(),"px"),o.style.minWidth="".concat(c.toFixed(),"px"),o.parentElement!==i&&i.appendChild(o),0))}}]),e}();t.TooltipElement=c},function(e,t,n){var o=n(164);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(5)(o,r),o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,"@keyframes cheetah-grid__tooltip-element--shown-animation {\n\t0% {\n\t\topacity: 0;\n\t\ttransform: scale(.8) translateX(-60%);\n\t}\n\t100% {\n\t\topacity: 1;\n\t\ttransform: scale(1) translateX(-50%);\n\t}\n}\n.cheetah-grid__tooltip-element {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\tborder-radius: 3px;\n\tbackground-color: #232f34;\n\tpadding: 8px;\n\tpointer-events: none;\n\tuser-select: none;\n\tcolor: #fff;\n}\n.cheetah-grid__tooltip-element--hidden {\n\topacity: 0;\n\ttransform: translateX(-50%);\n\ttransition: opacity 75ms linear;\n}\n.cheetah-grid__tooltip-element--shown {\n\topacity: 1;\n\ttransform: translateX(-50%);\n\tanimation: cheetah-grid__tooltip-element--shown-animation 150ms ease-out;\n}\n.cheetah-grid__tooltip-element__content {\n\tfont-family: Roboto;\n\tfont-size: 12px;\n\tfont-size: .75rem;\n\tmin-height: 1em;\n\tline-height: 1;\n\twidth: 100%;\n\tdisplay: block;\n\twhite-space: pre-wrap;\n\tmargin: 0;\n\tbox-sizing: border-box;\n}\n",""])},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getInternal=function(){return console.warn("use internal!!"),{color:n(74),sort:n(60),calc:n(29),symbolManager:n(1),path2DManager:n(36)}}}])},"object"===("undefined"==typeof exports?"undefined":g(exports))&&"object"===("undefined"==typeof module?"undefined":g(module))?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"===("undefined"==typeof exports?"undefined":g(exports))?exports.cheetahGrid=i():o.cheetahGrid=i()}).call("undefined"!=typeof global?global:window,"undefined"!=typeof global?global:window)}();
//# sourceMappingURL=cheetahGrid.es5.min.js.map